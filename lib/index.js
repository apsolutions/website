const t=!1;var e=Array.isArray,n=Array.prototype.indexOf,i=Array.from,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyDescriptors,s=Object.prototype,l=Array.prototype,u=Object.getPrototypeOf;const h=()=>{};const c=32,f=128,g=256,d=512,p=1024,v=2048,x=4096,y=8192,m=16384,_=65536,b=1<<20,w=Symbol("$state"),k=Symbol("legacy props"),S=Symbol("");function A(t){return t===this.v}function N(t,e){return t!=t?e==e:t!==e||null!==t&&"object"==typeof t||"function"==typeof t}function T(t){return!N(t,this.v)}const C=Symbol();let E=null;function F(t){E=t}function z(t,e=!1,n){E={p:E,c:null,e:null,m:!1,s:t,x:null,l:null}}function R(t){const e=E;if(null!==e){const t=e.e;if(null!==t){var n=Mt,i=Ft;e.e=null;try{for(var r=0;r<t.length;r++){var o=t[r];Bt(o.effect),Rt(o.reaction),rt(o.fn)}}finally{Bt(n),Rt(i)}}E=e.p,e.m=!0}return{}}function M(t,e){return{f:0,v:t,reactions:null,equals:A,rv:0,wv:0}}function B(t){return function(t){null!==Ft&&!zt&&2&Ft.f&&(null===Lt?Lt=[t]:Lt.push(t));return t}(M(t))}function L(t,e=!1){const n=M(t);return e||(n.equals=T),n}function O(t,e){return null===Ft||zt||!(18&Ft.f)||null!==Lt&&Lt.includes(t)||function(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}(),P(t,e)}function P(t,e){return t.equals(e)||(t.v,t.v=e,t.wv=jt(),$(t,v),null!==Mt&&Mt.f&p&&!(96&Mt.f)&&(null===$t?function(t){$t=t}([t]):$t.push(t))),e}function $(t,e){var n=t.reactions;if(null!==n)for(var i=n.length,r=0;r<i;r++){var o=n[r],a=o.f;a&v||(re(o,e),1280&a&&(2&a?$(o,x):Jt(o)))}}let I=!1;function D(t,n=null,i){if("object"!=typeof t||null===t||w in t)return t;const r=u(t);if(r!==s&&r!==l)return t;var a,h=new Map,c=e(t),f=M(0);return c&&h.set("length",M(t.length)),new Proxy(t,{defineProperty(t,e,n){"value"in n&&!1!==n.configurable&&!1!==n.enumerable&&!1!==n.writable||function(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}();var i=h.get(e);return void 0===i?(i=M(n.value),h.set(e,i)):O(i,D(n.value,a)),!0},deleteProperty(t,e){var n=h.get(e);if(void 0===n)e in t&&h.set(e,M(C));else{if(c&&"string"==typeof e){var i=h.get("length"),r=Number(e);Number.isInteger(r)&&r<i.v&&O(i,r)}O(n,C),W(f)}return!0},get(e,n,i){if(n===w)return t;var r=h.get(n),s=n in e;if(void 0!==r||s&&!o(e,n)?.writable||(r=M(D(s?e[n]:C,a)),h.set(n,r)),void 0!==r){var l=ee(r);return l===C?void 0:l}return Reflect.get(e,n,i)},getOwnPropertyDescriptor(t,e){var n=Reflect.getOwnPropertyDescriptor(t,e);if(n&&"value"in n){var i=h.get(e);i&&(n.value=ee(i))}else if(void 0===n){var r=h.get(e),o=r?.v;if(void 0!==r&&o!==C)return{enumerable:!0,configurable:!0,value:o,writable:!0}}return n},has(t,e){if(e===w)return!0;var n=h.get(e),i=void 0!==n&&n.v!==C||Reflect.has(t,e);if((void 0!==n||null!==Mt&&(!i||o(t,e)?.writable))&&(void 0===n&&(n=M(i?D(t[e],a):C),h.set(e,n)),ee(n)===C))return!1;return i},set(t,e,n,i){var r=h.get(e),s=e in t;if(c&&"length"===e)for(var l=n;l<r.v;l+=1){var u=h.get(l+"");void 0!==u?O(u,C):l in t&&(u=M(C),h.set(l+"",u))}void 0===r?s&&!o(t,e)?.writable||(O(r=M(void 0),D(n,a)),h.set(e,r)):(s=r.v!==C,O(r,D(n,a)));var g=Reflect.getOwnPropertyDescriptor(t,e);if(g?.set&&g.set.call(i,n),!s){if(c&&"string"==typeof e){var d=h.get("length"),p=Number(e);Number.isInteger(p)&&p>=d.v&&O(d,p+1)}W(f)}return!0},ownKeys(t){ee(f);var e=Reflect.ownKeys(t).filter((t=>{var e=h.get(t);return void 0===e||e.v!==C}));for(var[n,i]of h)i.v===C||n in t||e.push(n);return e},setPrototypeOf(){!function(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}()}})}function W(t,e=1){O(t,t.v+e)}var j,q,H,U;function Y(t=""){return document.createTextNode(t)}function X(t){return H.call(t)}function G(t){return U.call(t)}function Z(t,e){return X(t)}function V(t,e){var n=X(t);return n instanceof Comment&&""===n.data?G(n):n}function K(t,e=1,n=!1){let i=t;for(;e--;)i=G(i);return i}function Q(t){var e=2050,n=null!==Ft&&2&Ft.f?Ft:null;null===Mt||null!==n&&n.f&g?e|=g:Mt.f|=b;return{ctx:E,deps:null,effects:null,equals:A,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:n??Mt}}function J(t){var e=t.effects;if(null!==e){t.effects=null;for(var n=0;n<e.length;n+=1)ht(e[n])}}function tt(t){var e=function(t){var e,n=Mt;Bt(function(t){for(var e=t.parent;null!==e;){if(!(2&e.f))return e;e=e.parent}return null}(t));try{J(t),e=Yt(t)}finally{Bt(n)}return e}(t);re(t,(Wt||t.f&g)&&null!==t.deps?x:p),t.equals(e)||(t.v=e,t.wv=jt())}function et(t){null===Mt&&null===Ft&&function(){throw new Error("https://svelte.dev/e/effect_orphan")}(),null!==Ft&&Ft.f&g&&null===Mt&&function(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}(),At&&function(){throw new Error("https://svelte.dev/e/effect_in_teardown")}()}function nt(t,e,n,i=!0){var r=!!(64&t),o=Mt,a={ctx:E,deps:null,nodes_start:null,nodes_end:null,f:t|v,first:null,fn:e,last:null,next:null,parent:r?null:o,prev:null,teardown:null,transitions:null,wv:0};if(n){var s=St;try{Nt(!0),Zt(a),a.f|=32768}catch(t){throw ht(a),t}finally{Nt(s)}}else null!==e&&Jt(a);if(!(n&&null===a.deps&&null===a.first&&null===a.nodes_start&&null===a.teardown&&!(1048704&a.f))&&!r&&i&&(null!==o&&function(t,e){var n=e.last;null===n?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}(a,o),null!==Ft&&2&Ft.f)){var l=Ft;(l.effects??=[]).push(a)}return a}function it(t){if(et(),!(null!==Mt&&!!(Mt.f&c)&&null!==E&&!E.m))return rt(t);var e=E;(e.e??=[]).push({fn:t,effect:Mt,reaction:Ft})}function rt(t){return nt(4,t,!1)}function ot(t,e=[],n=Q){const i=e.map(n);return at((()=>t(...i.map(ee))))}function at(t,e=0){return nt(24|e,t,!0)}function st(t,e=!0){return nt(40,t,!0,e)}function lt(t){var e=t.teardown;if(null!==e){const t=At,n=Ft;Tt(!0),Rt(null);try{e.call(null)}finally{Tt(t),Rt(n)}}}function ut(t,e=!1){var n=t.first;for(t.first=t.last=null;null!==n;){var i=n.next;ht(n,e),n=i}}function ht(t,e=!0){var n=!1;if((e||524288&t.f)&&null!==t.nodes_start){for(var i=t.nodes_start,r=t.nodes_end;null!==i;){var o=i===r?null:G(i);i.remove(),i=o}n=!0}ut(t,e&&!n),Gt(t,0),re(t,m);var a=t.transitions;if(null!==a)for(const t of a)t.stop();lt(t);var s=t.parent;null!==s&&null!==s.first&&ct(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function ct(t){var e=t.parent,n=t.prev,i=t.next;null!==n&&(n.next=i),null!==i&&(i.prev=n),null!==e&&(e.first===t&&(e.first=i),e.last===t&&(e.last=n))}function ft(t,e){var n=[];dt(t,n,!0),gt(n,(()=>{ht(t),e&&e()}))}function gt(t,e){var n=t.length;if(n>0){var i=()=>--n||e();for(var r of t)r.out(i)}else e()}function dt(t,e,n){if(!(t.f&y)){if(t.f^=y,null!==t.transitions)for(const i of t.transitions)(i.is_global||n)&&e.push(i);for(var i=t.first;null!==i;){var r=i.next;dt(i,e,!!(!!(i.f&_)||!!(i.f&c))&&n),i=r}}}function pt(t){vt(t,!0)}function vt(t,e){if(t.f&y){t.f^=y,t.f&p||(t.f^=p),qt(t)&&(re(t,v),Jt(t));for(var n=t.first;null!==n;){var i=n.next;vt(n,!!(!!(n.f&_)||!!(n.f&c))&&e),n=i}if(null!==t.transitions)for(const n of t.transitions)(n.is_global||e)&&n.in()}}let xt=!1,yt=[];function mt(){xt=!1;const t=yt.slice();yt=[],function(t){for(var e=0;e<t.length;e++)t[e]()}(t)}function _t(t){xt||(xt=!0,queueMicrotask(mt)),yt.push(t)}let bt=!1,wt=!1,kt=null,St=!1,At=!1;function Nt(t){St=t}function Tt(t){At=t}let Ct=[],Et=0,Ft=null,zt=!1;function Rt(t){Ft=t}let Mt=null;function Bt(t){Mt=t}let Lt=null;let Ot=null,Pt=0,$t=null;let It=1,Dt=0,Wt=!1;function jt(){return++It}function qt(t){var e=t.f;if(e&v)return!0;if(e&x){var n=t.deps,i=!!(e&g);if(null!==n){var r,o,a=!!(e&d),s=i&&null!==Mt&&!Wt,l=n.length;if(a||s){var u=t,h=u.parent;for(r=0;r<l;r++)o=n[r],!a&&o?.reactions?.includes(u)||(o.reactions??=[]).push(u);a&&(u.f^=d),!s||null===h||h.f&g||(u.f^=g)}for(r=0;r<l;r++)if(qt(o=n[r])&&tt(o),o.wv>t.wv)return!0}i&&(null===Mt||Wt)||re(t,p)}return!1}function Ht(t,e,n,i){if(bt){if(null===n&&(bt=!1),function(t){return!(t.f&m||null!==t.parent&&t.parent.f&f)}(e))throw t}else null!==n&&(bt=!0),function(t,e){for(var n=e;null!==n;){if(n.f&f)try{return void n.fn(t)}catch{n.f^=f}n=n.parent}throw bt=!1,t}(t,e)}function Ut(t,e,n=!0){var i=t.reactions;if(null!==i)for(var r=0;r<i.length;r++){var o=i[r];2&o.f?Ut(o,e,!1):e===o&&(n?re(o,v):o.f&p&&re(o,x),Jt(o))}}function Yt(t){var e=Ot,n=Pt,i=$t,r=Ft,o=Wt,a=Lt,s=E,l=zt,u=t.f;Ot=null,Pt=0,$t=null,Ft=96&u?null:t,Wt=!!(u&g)&&(!St||null===r||l),Lt=null,F(t.ctx),zt=!1,Dt++;try{var h=(0,t.fn)(),c=t.deps;if(null!==Ot){var f;if(Gt(t,Pt),null!==c&&Pt>0)for(c.length=Pt+Ot.length,f=0;f<Ot.length;f++)c[Pt+f]=Ot[f];else t.deps=c=Ot;if(!Wt)for(f=Pt;f<c.length;f++)(c[f].reactions??=[]).push(t)}else null!==c&&Pt<c.length&&(Gt(t,Pt),c.length=Pt);if(!(null===$t||zt||null===c||6146&t.f))for(f=0;f<$t.length;f++)Ut($t[f],t);return null!==r&&Dt++,h}finally{Ot=e,Pt=n,$t=i,Ft=r,Wt=o,Lt=a,F(s),zt=l}}function Xt(t,e){let i=e.reactions;if(null!==i){var r=n.call(i,t);if(-1!==r){var o=i.length-1;0===o?i=e.reactions=null:(i[r]=i[o],i.pop())}}null===i&&2&e.f&&(null===Ot||!Ot.includes(e))&&(re(e,x),768&e.f||(e.f^=d),J(e),Gt(e,0))}function Gt(t,e){var n=t.deps;if(null!==n)for(var i=e;i<n.length;i++)Xt(t,n[i])}function Zt(e){var n=e.f;if(!(n&m)){re(e,p);var i=Mt,r=E;Mt=e;try{16&n?function(t){for(var e=t.first;null!==e;){var n=e.next;e.f&c||ht(e),e=n}}(e):ut(e),lt(e);var o=Yt(e);e.teardown="function"==typeof o?o:null,e.wv=It;e.deps;t}catch(t){Ht(t,e,i,r||e.ctx)}finally{Mt=i}}}function Vt(){if(Et>1e3){Et=0;try{!function(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}()}catch(t){if(null===kt)throw t;Ht(t,kt,null)}}Et++}function Kt(t){var e=t.length;if(0!==e)for(var n=0;n<e;n++){var i=t[n];if(!(24576&i.f))try{qt(i)&&(Zt(i),null===i.deps&&null===i.first&&null===i.nodes_start&&(null===i.teardown?ct(i):i.fn=null))}catch(t){Ht(t,i,null,i.ctx)}}}function Qt(){if(wt=!1,Et>1001)return;const t=Ct;Ct=[],function(t){var e=t.length;if(0!==e){Vt();var n=St;St=!0;try{for(var i=0;i<e;i++){var r=t[i];r.f&p||(r.f^=p),Kt(te(r))}}finally{St=n}}}(t),wt||(Et=0,kt=null)}function Jt(t){wt||(wt=!0,queueMicrotask(Qt)),kt=t;for(var e=t;null!==e.parent;){var n=(e=e.parent).f;if(96&n){if(!(n&p))return;e.f^=p}}Ct.push(e)}function te(t){var e=[],n=t.first;t:for(;null!==n;){var i=n.f,r=!!(i&c),o=r&&!!(i&p),a=n.next;if(!(o||i&y)){if(4&i)e.push(n);else if(r)n.f^=p;else{var s=Ft;try{Ft=n,qt(n)&&Zt(n)}catch(t){Ht(t,n,null,n.ctx)}finally{Ft=s}}var l=n.first;if(null!==l){n=l;continue}}if(null===a){let e=n.parent;for(;null!==e;){if(t===e)break t;var u=e.next;if(null!==u){n=u;continue t}e=e.parent}}n=a}return e}function ee(t){var e=!!(2&t.f);if(null===Ft||zt){if(e&&null===t.deps&&null===t.effects){var n=t,i=n.parent;null===i||i.f&g||(n.f^=g)}}else{null!==Lt&&Lt.includes(t)&&function(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}();var r=Ft.deps;t.rv<Dt&&(t.rv=Dt,null===Ot&&null!==r&&r[Pt]===t?Pt++:null===Ot?Ot=[t]:Wt&&Ot.includes(t)||Ot.push(t))}return e&&qt(n=t)&&tt(n),t.v}function ne(t){var e=zt;try{return zt=!0,t()}finally{zt=e}}const ie=-7169;function re(t,e){t.f=t.f&ie|e}function oe(t){return t.endsWith("capture")&&"gotpointercapture"!==t&&"lostpointercapture"!==t}const ae=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function se(t){return ae.includes(t)}const le={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function ue(t){return t=t.toLowerCase(),le[t]??t}const he=["touchstart","touchmove"];function ce(t){return he.includes(t)}function fe(t,e){if(e){const e=document.body;t.autofocus=!0,_t((()=>{document.activeElement===e&&t.focus()}))}}const ge=new Set,de=new Set;function pe(t,e,n,i={}){function r(t){if(i.capture||xe.call(e,t),!t.cancelBubble)return function(t){var e=Ft,n=Mt;Rt(null),Bt(null);try{return t()}finally{Rt(e),Bt(n)}}((()=>n?.call(this,t)))}return t.startsWith("pointer")||t.startsWith("touch")||"wheel"===t?_t((()=>{e.addEventListener(t,r,i)})):e.addEventListener(t,r,i),r}function ve(t){for(var e=0;e<t.length;e++)ge.add(t[e]);for(var n of de)n(t)}function xe(t){var n=this,i=n.ownerDocument,o=t.type,a=t.composedPath?.()||[],s=a[0]||t.target,l=0,u=t.__root;if(u){var h=a.indexOf(u);if(-1!==h&&(n===document||n===window))return void(t.__root=n);var c=a.indexOf(n);if(-1===c)return;h<=c&&(l=h)}if((s=a[l]||t.target)!==n){r(t,"currentTarget",{configurable:!0,get:()=>s||i});var f=Ft,g=Mt;Rt(null),Bt(null);try{for(var d,p=[];null!==s;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var x=s["__"+o];if(void 0!==x&&!s.disabled)if(e(x)){var[y,...m]=x;y.apply(s,[t,...m])}else x.call(s,t)}catch(t){d?p.push(t):d=t}if(t.cancelBubble||v===n||null===v)break;s=v}if(d){for(let t of p)queueMicrotask((()=>{throw t}));throw d}}finally{t.__root=n,delete t.currentTarget,Rt(f),Bt(g)}}}function ye(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function me(t,e){var n=Mt;null===n.nodes_start&&(n.nodes_start=t,n.nodes_end=e)}function _e(t,e){var n,i=!!(1&e),r=!!(2&e),o=!t.startsWith("<!>");return()=>{void 0===n&&(n=ye(o?t:"<!>"+t),i||(n=X(n)));var e=r||q?document.importNode(n,!0):n.cloneNode(!0);i?me(X(e),e.lastChild):me(e,e);return e}}function be(){var t=document.createDocumentFragment(),e=document.createComment(""),n=Y();return t.append(e,n),me(e,n),t}function we(t,e){null!==t&&t.before(e)}function ke(t,e){var n=null==e?"":"object"==typeof e?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function Se(t,e){return function(t,{target:e,anchor:n,props:r={},events:a,context:s,intro:l=!0}){!function(){if(void 0===j){j=window,q=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype;H=o(e,"firstChild").get,U=o(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}();var u=new Set,h=t=>{for(var n=0;n<t.length;n++){var i=t[n];if(!u.has(i)){u.add(i);var r=ce(i);e.addEventListener(i,xe,{passive:r});var o=Ae.get(i);void 0===o?(document.addEventListener(i,xe,{passive:r}),Ae.set(i,1)):Ae.set(i,o+1)}}};h(i(ge)),de.add(h);var c=void 0,f=function(t){const e=nt(64,t,!0);return(t={})=>new Promise((n=>{t.outro?ft(e,(()=>{ht(e),n(void 0)})):(ht(e),n(void 0))}))}((()=>{var i=n??e.appendChild(Y());return st((()=>{s&&(z({}),E.c=s);a&&(r.$$events=a),c=t(i,r)||{},s&&R()})),()=>{for(var t of u){e.removeEventListener(t,xe);var r=Ae.get(t);0==--r?(document.removeEventListener(t,xe),Ae.delete(t)):Ae.set(t,r)}de.delete(h),i!==n&&i.parentNode?.removeChild(i)}}));return Ne.set(c,f),c}(t,e)}const Ae=new Map;let Ne=new WeakMap;function Te(t,e,n=!1){var i=t,r=null,o=null,a=C,s=!1;const l=(t,e=!0)=>{s=!0,u(e,t)},u=(t,e)=>{a!==(a=t)&&(a?(r?pt(r):e&&(r=st((()=>e(i)))),o&&ft(o,(()=>{o=null}))):(o?pt(o):e&&(o=st((()=>e(i)))),r&&ft(r,(()=>{r=null}))))};at((()=>{s=!1,e(l),s||u(null,null)}),n?_:0)}function Ce(t,n,r,o,a,s=null){var l=t,u={flags:n,items:new Map,first:null},h=null,c=!1,f=function(t){const e=Q(t);return e.equals=T,e}((()=>{var t=r();return e(t)?t:null==t?[]:i(t)}));at((()=>{var t=ee(f),e=t.length;c&&0===e||(c=0===e,function(t,e,n,r,o,a,s){var l,u,h,c,f,g=t.length,d=e.items,p=e.first,v=p,x=null,m=[],_=[];for(f=0;f<g;f+=1)if(h=a(u=t[f],f),void 0!==(c=d.get(h))){if(Ee(c,u,f),c.e.f&y&&pt(c.e),c!==v){if(void 0!==l&&l.has(c)){if(m.length<_.length){var b,w=_[0];x=w.prev;var k=m[0],S=m[m.length-1];for(b=0;b<m.length;b+=1)ze(m[b],w,n);for(b=0;b<_.length;b+=1)l.delete(_[b]);Re(e,k.prev,S.next),Re(e,x,k),Re(e,S,w),v=w,x=S,f-=1,m=[],_=[]}else l.delete(c),ze(c,v,n),Re(e,c.prev,c.next),Re(e,c,null===x?e.first:x.next),Re(e,x,c),x=c;continue}for(m=[],_=[];null!==v&&v.k!==h;)v.e.f&y||(l??=new Set).add(v),_.push(v),v=v.next;if(null===v)continue;c=v}m.push(c),x=c,v=c.next}else{x=Fe(v?v.e.nodes_start:n,e,x,null===x?e.first:x.next,u,h,f,r,o,s),d.set(h,x),m=[],_=[],v=x.next}if(null!==v||void 0!==l){for(var A=void 0===l?[]:i(l);null!==v;)v.e.f&y||A.push(v),v=v.next;if(A.length>0)!function(t,e,n,i){for(var r=[],o=e.length,a=0;a<o;a++)dt(e[a].e,r,!0);var s=o>0&&0===r.length&&null!==n;if(s){var l=n.parentNode;l.textContent="",l.append(n),i.clear(),Re(t,e[0].prev,e[o-1].next)}gt(r,(()=>{for(var n=0;n<o;n++){var r=e[n];s||(i.delete(r.k),Re(t,r.prev,r.next)),ht(r.e,!s)}}))}(e,A,null,d)}Mt.first=e.first&&e.first.e,Mt.last=x&&x.e}(t,u,l,a,n,o,r),null!==s&&(0===e?h?pt(h):h=st((()=>s(l))):null!==h&&ft(h,(()=>{h=null}))),ee(f))}))}function Ee(t,e,n,i){P(t.v,e),t.i=n}function Fe(t,e,n,i,r,o,a,s,l,u){var h=!!(1&l)?!(16&l)?L(r):M(r):r,c=2&l?M(a):a,f={i:c,v:h,k:o,a:null,e:null,prev:n,next:i};try{return f.e=st((()=>s(t,h,c,u)),I),f.e.prev=n&&n.e,f.e.next=i&&i.e,null===n?e.first=f:(n.next=f,n.e.next=f.e),null!==i&&(i.prev=f,i.e.prev=f.e),f}finally{}}function ze(t,e,n){for(var i=t.next?t.next.e.nodes_start:n,r=e?e.e.nodes_start:n,o=t.e.nodes_start;o!==i;){var a=G(o);r.before(o),o=a}}function Re(t,e,n){null===e?t.first=n:(e.next=n,e.e.next=n&&n.e),null!==n&&(n.prev=e,n.e.prev=e&&e.e)}function Me(t){var e,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=Me(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Be(t){return"object"==typeof t?function(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=Me(t))&&(i&&(i+=" "),i+=e);return i}(t):t??""}function Le(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function Oe(t,e,n,i){var r=t.__attributes??={};r[e]!==(r[e]=n)&&("style"===e&&"__styles"in t&&(t.__styles={}),"loading"===e&&(t[S]=n),null==n?t.removeAttribute(e):"string"!=typeof n&&$e(t).includes(e)?t[e]=n:t.setAttribute(e,n))}var Pe=new Map;function $e(t){var e,n=Pe.get(t.nodeName);if(n)return n;Pe.set(t.nodeName,n=[]);for(var i=t,r=Element.prototype;r!==i;){for(var o in e=a(i))e[o].set&&n.push(o);i=u(i)}return n}function Ie(t,e,n){var i=t.__className,r=De(e);i!==r&&(null==e?t.removeAttribute("class"):t.className=r,t.__className=r)}function De(t,e){return(null==t?"":t)+""}function We(t,e,n,i){var r=t.__styles??={};r[e]!==n&&(r[e]=n,null==n?t.style.removeProperty(e):t.style.setProperty(e,n,""))}function je(t,e){return t===e||t?.[w]===e}function qe(t={},e,n,i){return rt((()=>{var i,r;return nt(8,(()=>{i=r,r=[],ne((()=>{t!==n(...r)&&(e(t,...r),i&&je(n(...i),t)&&e(null,...i))}))}),!0),()=>{_t((()=>{r&&je(n(...r),t)&&e(null,...r)}))}})),t}function He(t,e,n){if(null==t)return e(void 0),h;const i=ne((()=>t.subscribe(e,n)));return i.unsubscribe?()=>i.unsubscribe():i}const Ue=[];function Ye(t,e=h){let n=null;const i=new Set;function r(e){if(N(t,e)&&(t=e,n)){const e=!Ue.length;for(const e of i)e[1](),Ue.push(e,t);if(e){for(let t=0;t<Ue.length;t+=2)Ue[t][0](Ue[t+1]);Ue.length=0}}}function o(e){r(e(t))}return{set:r,update:o,subscribe:function(a,s=h){const l=[a,s];return i.add(l),1===i.size&&(n=e(r,o)||h),a(t),()=>{i.delete(l),0===i.size&&n&&(n(),n=null)}}}}function Xe(t){let e;return He(t,(t=>e=t))(),e}let Ge=!1,Ze=Symbol();function Ve(t,e,n){const i=n[e]??={store:null,source:L(void 0),unsubscribe:h};if(i.store!==t&&!(Ze in n))if(i.unsubscribe(),i.store=t??null,null==t)i.source.v=void 0,i.unsubscribe=h;else{var r=!0;i.unsubscribe=He(t,(t=>{r?i.source.v=t:O(i.source,t)})),r=!1}return t&&Ze in n?Xe(t):ee(i.source)}function Ke(){const t={};return[t,function(){!function(t){const e=nt(8,null,!1);re(e,p),e.teardown=t}((()=>{for(var e in t){t[e].unsubscribe()}r(t,Ze,{enumerable:!1,value:!0})}))}]}const Qe={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set:(t,e)=>!1,getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e))return e in t.props?{enumerable:!0,configurable:!0,value:t.props[e]}:void 0},has:(t,e)=>!t.exclude.includes(e)&&e in t.props,ownKeys:t=>Reflect.ownKeys(t.props).filter((e=>!t.exclude.includes(e)))};function Je(t,e,n,i){var r,a=!!(1&n),s=!!(8&n),l=!!(16&n),u=!1;s?[r,u]=function(t){var e=Ge;try{return Ge=!1,[t(),Ge]}finally{Ge=e}}((()=>t[e])):r=t[e];var h,c=w in t||k in t,f=s&&(o(t,e)?.set??(c&&e in t&&(n=>t[e]=n)))||void 0,g=i,d=!0,p=!1,v=()=>(p=!0,d&&(d=!1,g=l?ne(i):i),g);if(void 0===r&&void 0!==i&&(f&&function(){throw new Error("https://svelte.dev/e/props_invalid_value")}(),r=v(),f&&f(r)),h=()=>{var n=t[e];return void 0===n?v():(d=!0,p=!1,n)},!(4&n))return h;if(f){var x=t.$$legacy;return function(t,e){return arguments.length>0?((!e||x||u)&&f(e?h():t),t):h()}}var y=!1,m=L(r),_=Q((()=>{var t=h(),e=ee(m);return y?(y=!1,e):m.v=t}));return a||(_.equals=T),function(t,e){if(arguments.length>0){const n=e?ee(_):s?D(t):t;return _.equals(n)||(y=!0,O(m,n),p&&void 0!==g&&(g=n),ne((()=>ee(_)))),t}return ee(_)}}function tn(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,a,s,l,u,h,c,f,g=t._root,d={data:i},p=t._x0,v=t._y0,x=t._x1,y=t._y1;if(!g)return t._root=d,t;for(;g.length;)if((u=e>=(o=(p+x)/2))?p=o:x=o,(h=n>=(a=(v+y)/2))?v=a:y=a,r=g,!(g=g[c=h<<1|u]))return r[c]=d,t;if(s=+t._x.call(null,g.data),l=+t._y.call(null,g.data),e===s&&n===l)return d.next=g,r?r[c]=d:t._root=d,t;do{r=r?r[c]=new Array(4):t._root=new Array(4),(u=e>=(o=(p+x)/2))?p=o:x=o,(h=n>=(a=(v+y)/2))?v=a:y=a}while((c=h<<1|u)==(f=(l>=a)<<1|s>=o));return r[f]=g,r[c]=d,t}function en(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r}function nn(t){return t[0]}function rn(t){return t[1]}function on(t,e,n){var i=new an(null==e?nn:e,null==n?rn:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function an(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function sn(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}"undefined"!=typeof window&&(window.__svelte||={v:new Set}).v.add("5");var ln=on.prototype=an.prototype;function un(t){return function(){return t}}function hn(t){return 1e-6*(t()-.5)}function cn(t){return t.x+t.vx}function fn(t){return t.y+t.vy}function gn(t){return t.index}function dn(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function pn(t){var e,n,i,r,o,a,s=gn,l=function(t){return 1/Math.min(r[t.source.index],r[t.target.index])},u=un(30),h=1;function c(i){for(var r=0,s=t.length;r<h;++r)for(var l,u,c,f,g,d,p,v=0;v<s;++v)u=(l=t[v]).source,f=(c=l.target).x+c.vx-u.x-u.vx||hn(a),g=c.y+c.vy-u.y-u.vy||hn(a),f*=d=((d=Math.sqrt(f*f+g*g))-n[v])/d*i*e[v],g*=d,c.vx-=f*(p=o[v]),c.vy-=g*p,u.vx+=f*(p=1-p),u.vy+=g*p}function f(){if(i){var a,l,u=i.length,h=t.length,c=new Map(i.map(((t,e)=>[s(t,e,i),t])));for(a=0,r=new Array(u);a<h;++a)(l=t[a]).index=a,"object"!=typeof l.source&&(l.source=dn(c,l.source)),"object"!=typeof l.target&&(l.target=dn(c,l.target)),r[l.source.index]=(r[l.source.index]||0)+1,r[l.target.index]=(r[l.target.index]||0)+1;for(a=0,o=new Array(h);a<h;++a)l=t[a],o[a]=r[l.source.index]/(r[l.source.index]+r[l.target.index]);e=new Array(h),g(),n=new Array(h),d()}}function g(){if(i)for(var n=0,r=t.length;n<r;++n)e[n]=+l(t[n],n,t)}function d(){if(i)for(var e=0,r=t.length;e<r;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),c.initialize=function(t,e){i=t,a=e,f()},c.links=function(e){return arguments.length?(t=e,f(),c):t},c.id=function(t){return arguments.length?(s=t,c):s},c.iterations=function(t){return arguments.length?(h=+t,c):h},c.strength=function(t){return arguments.length?(l="function"==typeof t?t:un(+t),g(),c):l},c.distance=function(t){return arguments.length?(u="function"==typeof t?t:un(+t),d(),c):u},c}ln.copy=function(){var t,e,n=new an(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=sn(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=sn(e));return n},ln.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return tn(this.cover(e,n),e,n,t)},ln.addAll=function(t){var e,n,i,r,o=t.length,a=new Array(o),s=new Array(o),l=1/0,u=1/0,h=-1/0,c=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(a[n]=i,s[n]=r,i<l&&(l=i),i>h&&(h=i),r<u&&(u=r),r>c&&(c=r));if(l>h||u>c)return this;for(this.cover(l,u).cover(h,c),n=0;n<o;++n)tn(this,a[n],s[n],t[n]);return this},ln.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{for(var a,s,l=r-n||1,u=this._root;n>t||t>=r||i>e||e>=o;)switch(s=(e<i)<<1|t<n,(a=new Array(4))[s]=u,u=a,l*=2,s){case 0:r=n+l,o=i+l;break;case 1:n=r-l,o=i+l;break;case 2:r=n+l,i=o-l;break;case 3:n=r-l,i=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},ln.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},ln.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ln.find=function(t,e,n){var i,r,o,a,s,l,u,h=this._x0,c=this._y0,f=this._x1,g=this._y1,d=[],p=this._root;for(p&&d.push(new en(p,h,c,f,g)),null==n?n=1/0:(h=t-n,c=e-n,f=t+n,g=e+n,n*=n);l=d.pop();)if(!(!(p=l.node)||(r=l.x0)>f||(o=l.y0)>g||(a=l.x1)<h||(s=l.y1)<c))if(p.length){var v=(r+a)/2,x=(o+s)/2;d.push(new en(p[3],v,x,a,s),new en(p[2],r,x,v,s),new en(p[1],v,o,a,x),new en(p[0],r,o,v,x)),(u=(e>=x)<<1|t>=v)&&(l=d[d.length-1],d[d.length-1]=d[d.length-1-u],d[d.length-1-u]=l)}else{var y=t-+this._x.call(null,p.data),m=e-+this._y.call(null,p.data),_=y*y+m*m;if(_<n){var b=Math.sqrt(n=_);h=t-b,c=e-b,f=t+b,g=e+b,i=p.data}}return i},ln.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,i,r,o,a,s,l,u,h,c,f,g=this._root,d=this._x0,p=this._y0,v=this._x1,x=this._y1;if(!g)return this;if(g.length)for(;;){if((u=o>=(s=(d+v)/2))?d=s:v=s,(h=a>=(l=(p+x)/2))?p=l:x=l,e=g,!(g=g[c=h<<1|u]))return this;if(!g.length)break;(e[c+1&3]||e[c+2&3]||e[c+3&3])&&(n=e,f=c)}for(;g.data!==t;)if(i=g,!(g=g.next))return this;return(r=g.next)&&delete g.next,i?(r?i.next=r:delete i.next,this):e?(r?e[c]=r:delete e[c],(g=e[0]||e[1]||e[2]||e[3])&&g===(e[3]||e[2]||e[1]||e[0])&&!g.length&&(n?n[f]=g:this._root=g),this):(this._root=r,this)},ln.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},ln.root=function(){return this._root},ln.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},ln.visit=function(t){var e,n,i,r,o,a,s=[],l=this._root;for(l&&s.push(new en(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,o=e.x1,a=e.y1)&&l.length){var u=(i+o)/2,h=(r+a)/2;(n=l[3])&&s.push(new en(n,u,h,o,a)),(n=l[2])&&s.push(new en(n,i,h,u,a)),(n=l[1])&&s.push(new en(n,u,r,o,h)),(n=l[0])&&s.push(new en(n,i,r,u,h))}return this},ln.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new en(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,a=e.x0,s=e.y0,l=e.x1,u=e.y1,h=(a+l)/2,c=(s+u)/2;(o=r[0])&&n.push(new en(o,a,s,h,c)),(o=r[1])&&n.push(new en(o,h,s,l,c)),(o=r[2])&&n.push(new en(o,a,c,h,u)),(o=r[3])&&n.push(new en(o,h,c,l,u))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},ln.x=function(t){return arguments.length?(this._x=t,this):this._x},ln.y=function(t){return arguments.length?(this._y=t,this):this._y};var vn={value:()=>{}};function xn(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new yn(i)}function yn(t){this._=t}function mn(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function _n(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=vn,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}yn.prototype=xn.prototype={constructor:yn,on:function(t,e){var n,i,r=this._,o=(i=r,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)r[n]=_n(r[n],t.name,e);else if(null==e)for(n in r)r[n]=_n(r[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=mn(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new yn(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var bn,wn,kn=0,Sn=0,An=0,Nn=0,Tn=0,Cn=0,En="object"==typeof performance&&performance.now?performance:Date,Fn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function zn(){return Tn||(Fn(Rn),Tn=En.now()+Cn)}function Rn(){Tn=0}function Mn(){this._call=this._time=this._next=null}function Bn(t,e,n){var i=new Mn;return i.restart(t,e,n),i}function Ln(){Tn=(Nn=En.now())+Cn,kn=Sn=0;try{!function(){zn(),++kn;for(var t,e=bn;e;)(t=Tn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--kn}()}finally{kn=0,function(){var t,e,n=bn,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:bn=e);wn=t,Pn(i)}(),Tn=0}}function On(){var t=En.now(),e=t-Nn;e>1e3&&(Cn-=e,Nn=t)}function Pn(t){kn||(Sn&&(Sn=clearTimeout(Sn)),t-Tn>24?(t<1/0&&(Sn=setTimeout(Ln,t-En.now()-Cn)),An&&(An=clearInterval(An))):(An||(Nn=En.now(),An=setInterval(On,1e3)),kn=1,Fn(Ln)))}function $n(t,e,n){var i=new Mn;return e=null==e?0:+e,i.restart((n=>{i.stop(),t(n+e)}),e,n),i}Mn.prototype=Bn.prototype={constructor:Mn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?zn():+n)+(null==e?0:+e),this._next||wn===this||(wn?wn._next=this:bn=this,wn=this),this._call=t,this._time=n,Pn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pn())}};const In=4294967296;function Dn(t){return t.x}function Wn(t){return t.y}var jn=Math.PI*(3-Math.sqrt(5));function qn(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),o=0,a=.6,s=new Map,l=Bn(c),u=xn("tick","end"),h=function(){let t=1;return()=>(t=(1664525*t+1013904223)%In)/In}();function c(){f(),u.call("tick",e),n<i&&(l.stop(),u.call("end",e))}function f(i){var l,u,h=t.length;void 0===i&&(i=1);for(var c=0;c<i;++c)for(n+=(o-n)*r,s.forEach((function(t){t(n)})),l=0;l<h;++l)null==(u=t[l]).fx?u.x+=u.vx*=a:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=a:(u.y=u.fy,u.vy=0);return e}function g(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=10*Math.sqrt(.5+n),o=n*jn;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t,h),e}return null==t&&(t=[]),g(),e={tick:f,restart:function(){return l.restart(c),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,g(),s.forEach(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(h=t,s.forEach(d),e):h},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,d(n)),e):s.get(t)},find:function(e,n,i){var r,o,a,s,l,u=0,h=t.length;for(null==i?i=1/0:i*=i,u=0;u<h;++u)(a=(r=e-(s=t[u]).x)*r+(o=n-s.y)*o)<i&&(l=s,i=a);return l},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}}var Hn="http://www.w3.org/1999/xhtml";const Un={svg:"http://www.w3.org/2000/svg",xhtml:Hn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yn(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Un.hasOwnProperty(e)?{space:Un[e],local:t}:t}function Xn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Hn&&e.documentElement.namespaceURI===Hn?e.createElement(t):e.createElementNS(n,t)}}function Gn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Zn(t){var e=Yn(t);return(e.local?Gn:Xn)(e)}function Vn(){}function Kn(t){return null==t?Vn:function(){return this.querySelector(t)}}function Qn(){return[]}function Jn(t){return null==t?Qn:function(){return this.querySelectorAll(t)}}function ti(t){return function(){return function(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}function ei(t){return function(){return this.matches(t)}}function ni(t){return function(e){return e.matches(t)}}var ii=Array.prototype.find;function ri(){return this.firstElementChild}var oi=Array.prototype.filter;function ai(){return Array.from(this.children)}function si(t){return new Array(t.length)}function li(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function ui(t,e,n,i,r,o){for(var a,s=0,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new li(t,o[s]);for(;s<l;++s)(a=e[s])&&(r[s]=a)}function hi(t,e,n,i,r,o,a){var s,l,u,h=new Map,c=e.length,f=o.length,g=new Array(c);for(s=0;s<c;++s)(l=e[s])&&(g[s]=u=a.call(l,l.__data__,s,e)+"",h.has(u)?r[s]=l:h.set(u,l));for(s=0;s<f;++s)u=a.call(t,o[s],s,o)+"",(l=h.get(u))?(i[s]=l,l.__data__=o[s],h.delete(u)):n[s]=new li(t,o[s]);for(s=0;s<c;++s)(l=e[s])&&h.get(g[s])===l&&(r[s]=l)}function ci(t){return t.__data__}function fi(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function gi(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function di(t){return function(){this.removeAttribute(t)}}function pi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vi(t,e){return function(){this.setAttribute(t,e)}}function xi(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function yi(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function mi(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function _i(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function bi(t){return function(){this.style.removeProperty(t)}}function wi(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ki(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Si(t,e){return t.style.getPropertyValue(e)||_i(t).getComputedStyle(t,null).getPropertyValue(e)}function Ai(t){return function(){delete this[t]}}function Ni(t,e){return function(){this[t]=e}}function Ti(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ci(t){return t.trim().split(/^|\s+/)}function Ei(t){return t.classList||new Fi(t)}function Fi(t){this._node=t,this._names=Ci(t.getAttribute("class")||"")}function zi(t,e){for(var n=Ei(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Ri(t,e){for(var n=Ei(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Mi(t){return function(){zi(this,t)}}function Bi(t){return function(){Ri(this,t)}}function Li(t,e){return function(){(e.apply(this,arguments)?zi:Ri)(this,t)}}function Oi(){this.textContent=""}function Pi(t){return function(){this.textContent=t}}function $i(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ii(){this.innerHTML=""}function Di(t){return function(){this.innerHTML=t}}function Wi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ji(){this.nextSibling&&this.parentNode.appendChild(this)}function qi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hi(){return null}function Ui(){var t=this.parentNode;t&&t.removeChild(this)}function Yi(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xi(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Gi(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function Zi(t,e,n){return function(){var i,r=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=e);this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Vi(t,e,n){var i=_i(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Ki(t,e){return function(){return Vi(this,t,e)}}function Qi(t,e){return function(){return Vi(this,t,e.apply(this,arguments))}}li.prototype={constructor:li,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Fi.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ji=[null];function tr(t,e){this._groups=t,this._parents=e}function er(){return new tr([[document.documentElement]],Ji)}function nr(t){return"string"==typeof t?new tr([[document.querySelector(t)]],[document.documentElement]):new tr([[t]],Ji)}function ir(t){return nr(Zn(t).call(document.documentElement))}function rr(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}tr.prototype=er.prototype={constructor:tr,select:function(t){"function"!=typeof t&&(t=Kn(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=e[r],l=s.length,u=i[r]=new Array(l),h=0;h<l;++h)(o=s[h])&&(a=t.call(o,o.__data__,h,s))&&("__data__"in o&&(a.__data__=o.__data__),u[h]=a);return new tr(i,this._parents)},selectAll:function(t){t="function"==typeof t?ti(t):Jn(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,u=0;u<l;++u)(a=s[u])&&(i.push(t.call(a,a.__data__,u,s)),r.push(a));return new tr(i,r)},selectChild:function(t){return this.select(null==t?ri:function(t){return function(){return ii.call(this.children,t)}}("function"==typeof t?t:ni(t)))},selectChildren:function(t){return this.selectAll(null==t?ai:function(t){return function(){return oi.call(this.children,t)}}("function"==typeof t?t:ni(t)))},filter:function(t){"function"!=typeof t&&(t=ei(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,l=i[r]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new tr(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,ci);var n=e?hi:ui,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=r.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var h=i[u],c=r[u],f=c.length,g=fi(t.call(h,h&&h.__data__,u,i)),d=g.length,p=s[u]=new Array(d),v=a[u]=new Array(d);n(h,c,p,v,l[u]=new Array(f),g,e);for(var x,y,m=0,_=0;m<d;++m)if(x=p[m]){for(m>=_&&(_=m+1);!(y=v[_])&&++_<d;);x._next=y||null}}return(a=new tr(a,i))._enter=s,a._exit=l,a},enter:function(){return new tr(this._enter||this._groups.map(si),this._parents)},exit:function(){return new tr(this._exit||this._groups.map(si),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=i.length,a=Math.min(r,o),s=new Array(r),l=0;l<a;++l)for(var u,h=n[l],c=i[l],f=h.length,g=s[l]=new Array(f),d=0;d<f;++d)(u=h[d]||c[d])&&(g[d]=u);for(;l<r;++l)s[l]=n[l];return new tr(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=gi);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,s=n[o],l=s.length,u=r[o]=new Array(l),h=0;h<l;++h)(a=s[h])&&(u[h]=a);u.sort(e)}return new tr(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},attr:function(t,e){var n=Yn(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?pi:di:"function"==typeof e?n.local?mi:yi:n.local?xi:vi)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?bi:"function"==typeof e?ki:wi)(t,e,null==n?"":n)):Si(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ai:"function"==typeof e?Ti:Ni)(t,e)):this.node()[t]},classed:function(t,e){var n=Ci(t+"");if(arguments.length<2){for(var i=Ei(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?Li:e?Mi:Bi)(n,e))},text:function(t){return arguments.length?this.each(null==t?Oi:("function"==typeof t?$i:Pi)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ii:("function"==typeof t?Wi:Di)(t)):this.node().innerHTML},raise:function(){return this.each(ji)},lower:function(){return this.each(qi)},append:function(t){var e="function"==typeof t?t:Zn(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Zn(t),i=null==e?Hi:"function"==typeof e?e:Kn(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Ui)},clone:function(t){return this.select(t?Xi:Yi)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Zi:Gi,i=0;i<a;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var l,u=0,h=s.length;u<h;++u)for(i=0,l=s[u];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Qi:Ki)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],o=0,a=r.length;o<a;++o)(i=r[o])&&(yield i)}};const or={passive:!1},ar={capture:!0,passive:!1};function sr(t){t.stopImmediatePropagation()}function lr(t){t.preventDefault(),t.stopImmediatePropagation()}function ur(t){var e=t.document.documentElement,n=nr(t).on("dragstart.drag",lr,ar);"onselectstart"in e?n.on("selectstart.drag",lr,ar):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function hr(t,e){var n=t.document.documentElement,i=nr(t).on("dragstart.drag",null);e&&(i.on("click.drag",lr,ar),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const cr=t=>()=>t;function fr(t,{sourceEvent:e,subject:n,target:i,identifier:r,active:o,x:a,y:s,dx:l,dy:u,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:h}})}function gr(t){return!t.ctrlKey&&!t.button}function dr(){return this.parentNode}function pr(t,e){return null==e?{x:t.x,y:t.y}:e}function vr(){return navigator.maxTouchPoints||"ontouchstart"in this}function xr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function yr(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function mr(){}fr.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var _r=.7,br=1/_r,wr="\\s*([+-]?\\d+)\\s*",kr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Sr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ar=/^#([0-9a-f]{3,8})$/,Nr=new RegExp(`^rgb\\(${wr},${wr},${wr}\\)$`),Tr=new RegExp(`^rgb\\(${Sr},${Sr},${Sr}\\)$`),Cr=new RegExp(`^rgba\\(${wr},${wr},${wr},${kr}\\)$`),Er=new RegExp(`^rgba\\(${Sr},${Sr},${Sr},${kr}\\)$`),Fr=new RegExp(`^hsl\\(${kr},${Sr},${Sr}\\)$`),zr=new RegExp(`^hsla\\(${kr},${Sr},${Sr},${kr}\\)$`),Rr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Mr(){return this.rgb().formatHex()}function Br(){return this.rgb().formatRgb()}function Lr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ar.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Or(e):3===n?new Ir(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Pr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Pr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Nr.exec(t))?new Ir(e[1],e[2],e[3],1):(e=Tr.exec(t))?new Ir(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Cr.exec(t))?Pr(e[1],e[2],e[3],e[4]):(e=Er.exec(t))?Pr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Fr.exec(t))?Ur(e[1],e[2]/100,e[3]/100,1):(e=zr.exec(t))?Ur(e[1],e[2]/100,e[3]/100,e[4]):Rr.hasOwnProperty(t)?Or(Rr[t]):"transparent"===t?new Ir(NaN,NaN,NaN,0):null}function Or(t){return new Ir(t>>16&255,t>>8&255,255&t,1)}function Pr(t,e,n,i){return i<=0&&(t=e=n=NaN),new Ir(t,e,n,i)}function $r(t,e,n,i){return 1===arguments.length?((r=t)instanceof mr||(r=Lr(r)),r?new Ir((r=r.rgb()).r,r.g,r.b,r.opacity):new Ir):new Ir(t,e,n,null==i?1:i);var r}function Ir(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Dr(){return`#${Hr(this.r)}${Hr(this.g)}${Hr(this.b)}`}function Wr(){const t=jr(this.opacity);return`${1===t?"rgb(":"rgba("}${qr(this.r)}, ${qr(this.g)}, ${qr(this.b)}${1===t?")":`, ${t})`}`}function jr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Hr(t){return((t=qr(t))<16?"0":"")+t.toString(16)}function Ur(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xr(t,e,n,i)}function Yr(t){if(t instanceof Xr)return new Xr(t.h,t.s,t.l,t.opacity);if(t instanceof mr||(t=Lr(t)),!t)return new Xr;if(t instanceof Xr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new Xr(a,s,l,t.opacity)}function Xr(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Gr(t){return(t=(t||0)%360)<0?t+360:t}function Zr(t){return Math.max(0,Math.min(1,t||0))}function Vr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}xr(mr,Lr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Mr,formatHex:Mr,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Yr(this).formatHsl()},formatRgb:Br,toString:Br}),xr(Ir,$r,yr(mr,{brighter(t){return t=null==t?br:Math.pow(br,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?_r:Math.pow(_r,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ir(qr(this.r),qr(this.g),qr(this.b),jr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dr,formatHex:Dr,formatHex8:function(){return`#${Hr(this.r)}${Hr(this.g)}${Hr(this.b)}${Hr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Wr,toString:Wr})),xr(Xr,(function(t,e,n,i){return 1===arguments.length?Yr(t):new Xr(t,e,n,null==i?1:i)}),yr(mr,{brighter(t){return t=null==t?br:Math.pow(br,t),new Xr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?_r:Math.pow(_r,t),new Xr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Ir(Vr(t>=240?t-240:t+120,r,i),Vr(t,r,i),Vr(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Xr(Gr(this.h),Zr(this.s),Zr(this.l),jr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=jr(this.opacity);return`${1===t?"hsl(":"hsla("}${Gr(this.h)}, ${100*Zr(this.s)}%, ${100*Zr(this.l)}%${1===t?")":`, ${t})`}`}}));const Kr=t=>()=>t;function Qr(t){return 1==(t=+t)?Jr:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):Kr(isNaN(e)?n:e)}}function Jr(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Kr(isNaN(t)?e:t)}const to=function t(e){var n=Qr(e);function i(t,e){var i=n((t=$r(t)).r,(e=$r(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=Jr(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function eo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var no=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,io=new RegExp(no.source,"g");function ro(t,e){var n,i,r,o=no.lastIndex=io.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=no.exec(t))&&(i=io.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:eo(n,i)})),o=io.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}var oo,ao=180/Math.PI,so={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function lo(t,e,n,i,r,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),t*i<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*ao,skewX:Math.atan(l)*ao,scaleX:a,scaleY:s}}function uo(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,i,r,o,a,s){if(t!==r||i!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:eo(t,r)},{i:l-2,x:eo(i,o)})}else(r||o)&&a.push("translate("+r+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:eo(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:eo(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,a.skewX,s,l),function(t,e,n,i,o,a){if(t!==n||e!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:eo(t,n)},{i:s-2,x:eo(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,i=l.length;++n<i;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var ho=uo((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?so:lo(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),co=uo((function(t){return null==t?so:(oo||(oo=document.createElementNS("http://www.w3.org/2000/svg","g")),oo.setAttribute("transform",t),(t=oo.transform.baseVal.consolidate())?lo((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):so)}),", ",")",")");function fo(t){return((t=Math.exp(t))+1/t)/2}const go=function t(e,n,i){function r(t,r){var o,a,s=t[0],l=t[1],u=t[2],h=r[0],c=r[1],f=r[2],g=h-s,d=c-l,p=g*g+d*d;if(p<1e-12)a=Math.log(f/u)/e,o=function(t){return[s+t*g,l+t*d,u*Math.exp(e*t*a)]};else{var v=Math.sqrt(p),x=(f*f-u*u+i*p)/(2*u*n*v),y=(f*f-u*u-i*p)/(2*f*n*v),m=Math.log(Math.sqrt(x*x+1)-x),_=Math.log(Math.sqrt(y*y+1)-y);a=(_-m)/e,o=function(t){var i=t*a,r=fo(m),o=u/(n*v)*(r*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*i+m)-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[s+o*g,l+o*d,u*r/fo(e*i+m)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return r.rho=function(e){var n=Math.max(.001,+e),i=n*n;return t(n,i,i*i)},r}(Math.SQRT2,2,4);var po=xn("start","end","cancel","interrupt"),vo=[];function xo(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function o(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var u,h,c,f;if(1!==n.state)return l();for(u in r)if((f=r[u]).name===n.name){if(3===f.state)return $n(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[u])}if($n((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(c=n.tween.length),u=0,h=-1;u<c;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=f);i.length=h+1}}function s(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,a=i.length;++o<a;)i[o].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=Bn(o,0,n.time)}(t,n,{name:e,index:i,group:r,on:po,tween:vo,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function yo(t,e){var n=_o(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function mo(t,e){var n=_o(t,e);if(n.state>3)throw new Error("too late; already running");return n}function _o(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function bo(t,e){var n,i,r,o=t.__transition,a=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}}function wo(t,e){var n,i;return function(){var r=mo(this,t),o=r.tween;if(o!==n)for(var a=0,s=(i=n=o).length;a<s;++a)if(i[a].name===e){(i=i.slice()).splice(a,1);break}r.tween=i}}function ko(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=mo(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:e,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=s;break}l===u&&r.push(s)}o.tween=r}}function So(t,e,n){var i=t._id;return t.each((function(){var t=mo(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return _o(t,i).value[e]}}function Ao(t,e){var n;return("number"==typeof e?eo:e instanceof Lr?to:(n=Lr(e))?(e=n,to):ro)(t,e)}function No(t){return function(){this.removeAttribute(t)}}function To(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Co(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===i?r:r=e(i=a,n)}}function Eo(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?r:r=e(i=a,n)}}function Fo(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttribute(t)}}function zo(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttributeNS(t.space,t.local)}}function Ro(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,r)),n}return r._value=e,r}function Mo(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,r)),n}return r._value=e,r}function Bo(t,e){return function(){yo(this,t).delay=+e.apply(this,arguments)}}function Lo(t,e){return e=+e,function(){yo(this,t).delay=e}}function Oo(t,e){return function(){mo(this,t).duration=+e.apply(this,arguments)}}function Po(t,e){return e=+e,function(){mo(this,t).duration=e}}var $o=er.prototype.constructor;function Io(t){return function(){this.style.removeProperty(t)}}var Do=0;function Wo(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function jo(){return++Do}var qo=er.prototype;Wo.prototype={constructor:Wo,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Kn(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,l,u=i[a],h=u.length,c=o[a]=new Array(h),f=0;f<h;++f)(s=u[f])&&(l=t.call(s,s.__data__,f,u))&&("__data__"in s&&(l.__data__=s.__data__),c[f]=l,xo(c[f],e,n,f,c,_o(s,n)));return new Wo(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Jn(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l,u=i[s],h=u.length,c=0;c<h;++c)if(l=u[c]){for(var f,g=t.call(l,l.__data__,c,u),d=_o(l,n),p=0,v=g.length;p<v;++p)(f=g[p])&&xo(f,e,n,p,g,d);o.push(g),a.push(l)}return new Wo(o,a,e,n)},selectChild:qo.selectChild,selectChildren:qo.selectChildren,filter:function(t){"function"!=typeof t&&(t=ei(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,l=i[r]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new Wo(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,u=e[s],h=n[s],c=u.length,f=a[s]=new Array(c),g=0;g<c;++g)(l=u[g]||h[g])&&(f[g]=l);for(;s<i;++s)a[s]=e[s];return new Wo(a,this._parents,this._name,this._id)},selection:function(){return new $o(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=jo(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var h=_o(a,e);xo(a,t,n,u,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Wo(i,this._parents,t,n)},call:qo.call,nodes:qo.nodes,node:qo.node,size:qo.size,empty:qo.empty,each:qo.each,on:function(t,e){var n=this._id;return arguments.length<2?_o(this.node(),n).on.on(t):this.each(function(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?yo:mo;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(e,n),a.on=r}}(n,t,e))},attr:function(t,e){var n=Yn(t),i="transform"===n?co:Ao;return this.attrTween(t,"function"==typeof e?(n.local?zo:Fo)(n,i,So(this,"attr."+t,e)):null==e?(n.local?To:No)(n):(n.local?Eo:Co)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Yn(t);return this.tween(n,(i.local?Ro:Mo)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?ho:Ao;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=Si(this,t),a=(this.style.removeProperty(t),Si(this,t));return o===a?null:o===n&&a===i?r:r=e(n=o,i=a)}}(t,i)).on("end.style."+t,Io(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,o;return function(){var a=Si(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=Si(this,t)),a===l?null:a===i&&l===r?o:(r=l,o=e(i=a,s))}}(t,i,So(this,"style."+t,e))).each(function(t,e){var n,i,r,o,a="style."+e,s="end."+a;return function(){var l=mo(this,t),u=l.on,h=null==l.value[a]?o||(o=Io(e)):void 0;u===n&&r===h||(i=(n=u).copy()).on(s,r=h),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,o=n+"";return function(){var a=Si(this,t);return a===o?null:a===i?r:r=e(i=a,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&function(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}(t,o,n)),i}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(So(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&function(t){return function(e){this.textContent=t.call(this,e)}}(i)),e}return i._value=t,i}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=_o(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?wo:ko)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Bo:Lo)(e,t)):_o(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Oo:Po)(e,t)):_o(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){mo(this,t).ease=e}}(e,t)):_o(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;mo(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--r&&o()}};n.each((function(){var n=mo(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===r&&o()}))},[Symbol.iterator]:qo[Symbol.iterator]};var Ho={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Uo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}er.prototype.interrupt=function(t){return this.each((function(){bo(this,t)}))},er.prototype.transition=function(t){var e,n;t instanceof Wo?(e=t._id,t=t._name):(e=jo(),(n=Ho).time=zn(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,u=0;u<l;++u)(a=s[u])&&xo(a,t,e,u,s,n||Uo(a,e));return new Wo(i,this._parents,t,e)};const Yo=t=>()=>t;function Xo(t,{sourceEvent:e,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function Go(t,e,n){this.k=t,this.x=e,this.y=n}Go.prototype={constructor:Go,scale:function(t){return 1===t?this:new Go(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Go(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Zo=new Go(1,0,0);function Vo(t){t.stopImmediatePropagation()}function Ko(t){t.preventDefault(),t.stopImmediatePropagation()}function Qo(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Jo(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function ta(){return this.__zoom||Zo}function ea(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function na(){return navigator.maxTouchPoints||"ontouchstart"in this}function ia(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function ra(){var t,e,n,i=Qo,r=Jo,o=ia,a=ea,s=na,l=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],h=250,c=go,f=xn("start","zoom","end"),g=0,d=10;function p(t){t.property("__zoom",ta).on("wheel.zoom",w,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",S).filter(s).on("touchstart.zoom",A).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new Go(e,t.x,t.y)}function x(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new Go(t.k,i,r)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function m(t,e,n,i){t.on("start.zoom",(function(){_(this,arguments).event(i).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(i).end()})).tween("zoom",(function(){var t=this,o=arguments,a=_(t,o).event(i),s=r.apply(t,o),l=null==n?y(s):"function"==typeof n?n.apply(t,o):n,u=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),h=t.__zoom,f="function"==typeof e?e.apply(t,o):e,g=c(h.invert(l).concat(u/h.k),f.invert(l).concat(u/f.k));return function(t){if(1===t)t=f;else{var e=g(t),n=u/e[2];t=new Go(n,l[0]-e[0]*n,l[1]-e[1]*n)}a.zoom(null,t)}}))}function _(t,e,n){return!n&&t.__zooming||new b(t,e)}function b(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=r.apply(t,e),this.taps=0}function w(t,...e){if(i.apply(this,arguments)){var n=_(this,e).event(t),r=this.__zoom,s=Math.max(l[0],Math.min(l[1],r.k*Math.pow(2,a.apply(this,arguments)))),h=rr(t);if(n.wheel)n.mouse[0][0]===h[0]&&n.mouse[0][1]===h[1]||(n.mouse[1]=r.invert(n.mouse[0]=h)),clearTimeout(n.wheel);else{if(r.k===s)return;n.mouse=[h,r.invert(h)],bo(this),n.start()}Ko(t),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),150),n.zoom("mouse",o(x(v(r,s),n.mouse[0],n.mouse[1]),n.extent,u))}}function k(t,...e){if(!n&&i.apply(this,arguments)){var r=t.currentTarget,a=_(this,e,!0).event(t),s=nr(t.view).on("mousemove.zoom",(function(t){if(Ko(t),!a.moved){var e=t.clientX-h,n=t.clientY-c;a.moved=e*e+n*n>g}a.event(t).zoom("mouse",o(x(a.that.__zoom,a.mouse[0]=rr(t,r),a.mouse[1]),a.extent,u))}),!0).on("mouseup.zoom",(function(t){s.on("mousemove.zoom mouseup.zoom",null),hr(t.view,a.moved),Ko(t),a.event(t).end()}),!0),l=rr(t,r),h=t.clientX,c=t.clientY;ur(t.view),Vo(t),a.mouse=[l,this.__zoom.invert(l)],bo(this),a.start()}}function S(t,...e){if(i.apply(this,arguments)){var n=this.__zoom,a=rr(t.changedTouches?t.changedTouches[0]:t,this),s=n.invert(a),l=n.k*(t.shiftKey?.5:2),c=o(x(v(n,l),a,s),r.apply(this,e),u);Ko(t),h>0?nr(this).transition().duration(h).call(m,c,a,t):nr(this).call(p.transform,c,a,t)}}function A(n,...r){if(i.apply(this,arguments)){var o,a,s,l,u=n.touches,h=u.length,c=_(this,r,n.changedTouches.length===h).event(n);for(Vo(n),a=0;a<h;++a)l=[l=rr(s=u[a],this),this.__zoom.invert(l),s.identifier],c.touch0?c.touch1||c.touch0[2]===l[2]||(c.touch1=l,c.taps=0):(c.touch0=l,o=!0,c.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(c.taps<2&&(e=l[0],t=setTimeout((function(){t=null}),500)),bo(this),c.start())}}function N(t,...e){if(this.__zooming){var n,i,r,a,s=_(this,e).event(t),l=t.changedTouches,h=l.length;for(Ko(t),n=0;n<h;++n)r=rr(i=l[n],this),s.touch0&&s.touch0[2]===i.identifier?s.touch0[0]=r:s.touch1&&s.touch1[2]===i.identifier&&(s.touch1[0]=r);if(i=s.that.__zoom,s.touch1){var c=s.touch0[0],f=s.touch0[1],g=s.touch1[0],d=s.touch1[1],p=(p=g[0]-c[0])*p+(p=g[1]-c[1])*p,y=(y=d[0]-f[0])*y+(y=d[1]-f[1])*y;i=v(i,Math.sqrt(p/y)),r=[(c[0]+g[0])/2,(c[1]+g[1])/2],a=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!s.touch0)return;r=s.touch0[0],a=s.touch0[1]}s.zoom("touch",o(x(i,r,a),s.extent,u))}}function T(t,...i){if(this.__zooming){var r,o,a=_(this,i).event(t),s=t.changedTouches,l=s.length;for(Vo(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),r=0;r<l;++r)o=s[r],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=rr(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<d)){var u=nr(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return p.transform=function(t,e,n,i){var r=t.selection?t.selection():t;r.property("__zoom",ta),t!==r?m(t,e,n,i):r.interrupt().each((function(){_(this,arguments).event(i).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},p.scaleBy=function(t,e,n,i){p.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,i)},p.scaleTo=function(t,e,n,i){p.transform(t,(function(){var t=r.apply(this,arguments),i=this.__zoom,a=null==n?y(t):"function"==typeof n?n.apply(this,arguments):n,s=i.invert(a),l="function"==typeof e?e.apply(this,arguments):e;return o(x(v(i,l),a,s),t,u)}),n,i)},p.translateBy=function(t,e,n,i){p.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),u)}),null,i)},p.translateTo=function(t,e,n,i,a){p.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,s=null==i?y(t):"function"==typeof i?i.apply(this,arguments):i;return o(Zo.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,u)}),i,a)},b.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=nr(this.that).datum();f.call(t,this.that,new Xo(t,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:f}),e)}},p.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:Yo(+t),p):a},p.filter=function(t){return arguments.length?(i="function"==typeof t?t:Yo(!!t),p):i},p.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Yo(!!t),p):s},p.extent=function(t){return arguments.length?(r="function"==typeof t?t:Yo([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),p):r},p.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],p):[l[0],l[1]]},p.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],p):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},p.constrain=function(t){return arguments.length?(o=t,p):o},p.duration=function(t){return arguments.length?(h=+t,p):h},p.interpolate=function(t){return arguments.length?(c=t,p):c},p.on=function(){var t=f.on.apply(f,arguments);return t===f?p:t},p.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,p):Math.sqrt(g)},p.tapDistance=function(t){return arguments.length?(d=+t,p):d},p}Go.prototype;const oa={forces:!0,centerForce:!0,chargeForce:!0,linkForce:!0,xForce:!0,yForce:!0,collideForce:!0,centerPosition:{},centerStrength:1,collideStrength:.1,collideAdditionalRadius:4,collideIterations:2,collideOffMax:{links:0,nodes:0},chargeStrength:-40,chargeDistanceMin:1,xPosition:0,xStrength:.1,yPosition:0,yStrength:.1,linkDistance:30,linkIterations:1,linkStrength:1,collideRadius:null};var aa="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function sa(t){return Boolean(t&&"object"==typeof t&&!Array.isArray(t))}const la="HEX",ua="RGB",ha="RGBA",ca="HSL";function fa(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ga(t,e=fa){let n,i=!1;if(1===e.length){let r;for(const o of t){const t=e(o);(i?fa(t,r)>0:0===fa(t,t))&&(n=o,r=t,i=!0)}}else for(const r of t)(i?e(r,n)>0:0===e(r,r))&&(n=r,i=!0);return n}function da(t,e){return{...e??oa,...t}}function pa(t,e,n,i){if(null==t.x||null==t.y)return!1;switch(t._shape){case"circle":{const r=t._radius??i??5,o=t.x-r<=e&&e<=t.x+r,a=t.y-r<=n&&n<=t.y+r;return o&&a}case"square":case"text":{const i=t._width??5,r=t._height??5,o=t._borderRadius??0,a=Math.abs(e-t.x)<=i/2&&Math.abs(n-t.y)<=r/2;return"text"!==t._shape&&null!=o&&o>0&&a?function(t,e,n,i,r,o,a){const s=n-r,l=n+r,u=i-o,h=i+o;if(t<s+a&&e<u+a){const n=t-(s+a),i=e-(u+a);return n*n+i*i<=a*a}if(t>l-a&&e<u+a){const n=t-(l-a),i=e-(u+a);return n*n+i*i<=a*a}if(t<s+a&&e>h-a){const n=t-(s+a),i=e-(h-a);return n*n+i*i<=a*a}if(t>l-a&&e>h-a){const n=t-(l-a),i=e-(h-a);return n*n+i*i<=a*a}return!0}(e,n,t.x,t.y,i/2,r/2,o):a}default:{const r=t._radius??i??5,o=t.x-r<=e&&e<=t.x+r,a=t.y-r<=n&&n<=t.y+r;return o&&a}}}const va={zoomExtent:[.3,10],translateExtent:[[],[]],translateExtentEnable:!0,translateExtentCoefficient:[3,3],highlightUpFrames:5,highlightDownFrames:5,dragPlaceCoefficient:function(t,e,n){if(t.x&&t.y)return pa(t,e,n,void 0)?t.index:void 0},zoomInitial:null,showDrawTime:!0,showDrawTimeEveryTick:!1};function xa(t,e){return{...e??va,...t}}const ya={cacheOptions:!0,prettyDraw:!0,linkScaleSwitch:1,linkColorAfterScaleSwitch:"#000000FF",linkColorBeforeScaleSwitch:"#999",linkWidthAfterScaleSwitch:.1,linkWidthBeforeScaleSwitch:1,arrow:!0,arrowByHighlight:!0,particles:!0,particleFlexSpeed:!0,particleFlexSpeedCoefficient:4},ma={alpha:1,arrowAlpha:1,arrowSize:2,arrowBorderColor:"#000000FF",arrowBorderWidth:.1,particleAlpha:1,particleColor:"#000000FF",particleBorderColor:"#000000FF",particleBorderWidth:.1,particleCount:2,particleRadius:.5,particleSteps:60};function _a(t,e){return{...e??ya,...t}}function ba(){return{...ma,drawExtraLink:null,drawLink:null,color:this.areaTransform&&this.areaTransform.k>this.linkSettings.linkScaleSwitch?this.linkSettings.linkColorAfterScaleSwitch:this.linkSettings.linkColorBeforeScaleSwitch,arrowColor:this.areaTransform&&this.areaTransform.k>this.linkSettings.linkScaleSwitch?this.linkSettings.linkColorAfterScaleSwitch:this.linkSettings.linkColorBeforeScaleSwitch,width:this.areaTransform&&this.areaTransform.k>this.linkSettings.linkScaleSwitch?this.linkSettings.linkWidthAfterScaleSwitch:this.linkSettings.linkWidthBeforeScaleSwitch}}const wa={cacheOptions:!0,nodeRadiusFlexible:!0,nodeRadiusCoefficient:5,nodeRadiusFactor:1,nodeSizeFlexible:!0,nodeSizeCoefficient:5,nodeSizeFactor:.1,textScaleMin:1.5,textScaleMax:18,textSizeMin:3.5,textSizeMax:1.5,textShiftYMin:4,textShiftYMax:2.5,textNodeDebug:!1},ka={shape:"circle",height:10,width:15,borderRadius:0,radius:4,alpha:1,labelXPadding:1,labelYPadding:1,borderWidth:.1,borderColor:"#000000FF",textAlpha:1,textWidth:20,textShiftX:0,textFont:"Arial",textAlign:"center",textColor:"#333",textStyle:"normal",textWeight:500,textGap:0,label:null,labelAlpha:1,labelAlign:"center",labelColor:"#333",labelFont:"Arial",labelGap:0,labelSize:3.5,labelStyle:"normal",labelWeight:500,labelWidth:20};function Sa(t,e){return{...e??wa,idGetter:Ea,...t}}const Aa=function(){const t={},e=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];let n=0;return function(i){return t[i]||(t[i]=e[n],n++,n>=e.length&&(n=0)),t[i]}}();function Na(t){const{textShiftY:e,textSize:n}=function(t,e){let n=e.textSizeMin,i=e.textShiftYMin;t&&(t.k>=e.textScaleMax?(n=e.textSizeMax,i=e.textShiftYMax):t.k>e.textScaleMin&&(n=e.textSizeMin+(t.k-e.textScaleMin)*(e.textSizeMax-e.textSizeMin)/(e.textScaleMax-e.textScaleMin),i=e.textShiftYMin+(t.k-e.textScaleMin)*(e.textShiftYMax-e.textShiftYMin)/(e.textScaleMax-e.textScaleMin)));return{textSize:n,textShiftY:i}}(this.areaTransform,this.nodeSettings);return{...ka,nodeDraw:null,nodeExtraDraw:null,textDraw:null,textExtraDraw:null,color:Aa(String(t.group??"_DEFAULT")),textVisible:Boolean(this.areaTransform.k>this.nodeSettings.textScaleMin),text:t.name??t.id.toString(),textShiftY:e,textSize:n}}function Ta({radiusFlexible:t,radiusInitial:e,linkCount:n,radiusCoefficient:i,radiusFactor:r}){return(t&&n?n/i:0)*r+e}function Ca({heightInitial:t,linkCount:e,sizeCoefficient:n,sizeFactor:i,sizeFlexible:r,widthInitial:o}){let a=1;return r&&null!=e&&(a+=e/n*i),{width:o*a,height:t*a,additionalSizeCoefficient:a}}function Ea(t){return t.id}const Fa={highlightByHoverNode:!0,highlightByHoverLink:!0,linkHoverExtraZone:2,highlightByNodeOnlyRoot:!0,highlightByNodeForNodeColorFading:!1,highlightByNodeForNodeColor:null,highlightByNodeForNodeSizingAdditional:.5,highlightByNodeForNodeSizingAdditionalCoefficient:.35,highlightByNodeForNodeColorFadingMin:.15,highlightByNodeForNodeFadingMin:.21,highlightByNodeForNodeBorderColor:null,highlightByNodeForNodeBorderSizingAdditional:0,highlightByLinkForNodeColorFading:!1,highlightByLinkForNodeColor:null,highlightByLinkForNodeSizingAdditional:.5,highlightByLinkForNodeSizingAdditionalCoefficient:.35,highlightByLinkForNodeColorFadingMin:.15,highlightByLinkForNodeFadingMin:.21,highlightByLinkForNodeBorderColor:null,highlightByLinkForNodeBorderSizingAdditional:0,highlightByNodeForTextShiftXAdditional:0,highlightByNodeForTextShiftYAdditional:2,highlightByNodeForTextSizingAdditional:1,highlightByNodeForTextWeightAdditional:0,highlightByNodeForTextFadingMin:.21,highlightByLinkForTextShiftXAdditional:0,highlightByLinkForTextShiftYAdditional:2,highlightByLinkForTextSizingAdditional:1,highlightByLinkForTextWeightAdditional:0,highlightByLinkForTextFadingMin:.21,highlightByNodeForLabelFadingMin:.21,highlightByNodeForLabelSizingAdditional:1,highlightByNodeForLabelWeightAdditional:0,highlightByLinkForLabelFadingMin:.21,highlightByLinkForLabelSizingAdditional:1,highlightByLinkForLabelWeightAdditional:0,highlightByNodeForLinkFadingMin:.21,highlightByNodeForLinkSizeAdditional:0,highlightByNodeForLinkColor:null,highlightByLinkForLinkFadingMin:.21,highlightByLinkForLinkSizeAdditional:0,highlightByLinkForLinkColor:null,highlightByNodeForArrowFadingMin:.21,highlightByNodeForArrowSizeAdditional:0,highlightByNodeForArrowColor:null,highlightByNodeForArrowBorderColor:null,highlightByNodeForArrowBorderSizingAdditional:0,highlightByLinkForArrowFadingMin:.21,highlightByLinkForArrowSizeAdditional:0,highlightByLinkForArrowColor:null,highlightByLinkForArrowBorderColor:null,highlightByLinkForArrowBorderSizingAdditional:0};function za(t,e){return{...e??Fa,...t}}function Ra(){if(!this.area||!this.context||!this.container){if(this.container=ir("div").attr("style","padding: 0 !important; width: 100%; height: 100%;").node(),!this.container)throw new Error("couldn't create container");this.root.appendChild(this.container);const{width:t,height:e}=this.root.getBoundingClientRect();if(this.width=t,this.height=e,this.area=ir("canvas").attr("width",this.dpi*this.width).attr("height",this.dpi*this.height).attr("style","width: 100%; height: 100%; border: none !important;").node(),!this.area)throw new Error("couldn't create canvas");if(this.container.appendChild(this.area),this.areaRect=this.area.getBoundingClientRect(),this.context=this.area.getContext("2d"),!this.context)throw new Error("couldn't create canvas context");this.context.scale(this.dpi,this.dpi)}}function Ma(t,e,n){const i="clientX"in t?t.clientX:t.touches[0]?.clientX??t.changedTouches[0]?.clientX,r="clientX"in t?t.clientY:t.touches[0]?.clientY??t.changedTouches[0]?.clientY;return[(i-e.left-n.x)/n.k,(r-e.top-n.y)/n.k]}function Ba(){if(!this.area||!this.nodes)throw new Error("bad init data");const t=function(){var t,e,n,i,r=gr,o=dr,a=pr,s=vr,l={},u=xn("start","drag","end"),h=0,c=0;function f(t){t.on("mousedown.drag",g).filter(s).on("touchstart.drag",v).on("touchmove.drag",x,or).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(a,s){if(!i&&r.call(this,a,s)){var l=m(this,o.call(this,a,s),a,s,"mouse");l&&(nr(a.view).on("mousemove.drag",d,ar).on("mouseup.drag",p,ar),ur(a.view),sr(a),n=!1,t=a.clientX,e=a.clientY,l("start",a))}}function d(i){if(lr(i),!n){var r=i.clientX-t,o=i.clientY-e;n=r*r+o*o>c}l.mouse("drag",i)}function p(t){nr(t.view).on("mousemove.drag mouseup.drag",null),hr(t.view,n),lr(t),l.mouse("end",t)}function v(t,e){if(r.call(this,t,e)){var n,i,a=t.changedTouches,s=o.call(this,t,e),l=a.length;for(n=0;n<l;++n)(i=m(this,s,t,e,a[n].identifier,a[n]))&&(sr(t),i("start",t,a[n]))}}function x(t){var e,n,i=t.changedTouches,r=i.length;for(e=0;e<r;++e)(n=l[i[e].identifier])&&(lr(t),n("drag",t,i[e]))}function y(t){var e,n,r=t.changedTouches,o=r.length;for(i&&clearTimeout(i),i=setTimeout((function(){i=null}),500),e=0;e<o;++e)(n=l[r[e].identifier])&&(sr(t),n("end",t,r[e]))}function m(t,e,n,i,r,o){var s,c,g,d=u.copy(),p=rr(o||n,e);if(null!=(g=a.call(t,new fr("beforestart",{sourceEvent:n,target:f,identifier:r,active:h,x:p[0],y:p[1],dx:0,dy:0,dispatch:d}),i)))return s=g.x-p[0]||0,c=g.y-p[1]||0,function n(o,a,u){var v,x=p;switch(o){case"start":l[r]=n,v=h++;break;case"end":delete l[r],--h;case"drag":p=rr(u||a,e),v=h}d.call(o,t,new fr(o,{sourceEvent:a,subject:g,target:f,identifier:r,active:v,x:p[0]+s,y:p[1]+c,dx:p[0]-x[0],dy:p[1]-x[1],dispatch:d}),i)}}return f.filter=function(t){return arguments.length?(r="function"==typeof t?t:cr(!!t),f):r},f.container=function(t){return arguments.length?(o="function"==typeof t?t:cr(t),f):o},f.subject=function(t){return arguments.length?(a="function"==typeof t?t:cr(t),f):a},f.touchable=function(t){return arguments.length?(s="function"==typeof t?t:cr(!!t),f):s},f.on=function(){var t=u.on.apply(u,arguments);return t===u?f:t},f.clickDistance=function(t){return arguments.length?(c=(t=+t)*t,f):Math.sqrt(c)},f}().subject((t=>{if(this.listeners.onDragSubject)return this.listeners.onDragSubject.call(this,t);if(!this.areaRect)return;const e=t.sourceEvent,[n,i]=Ma(e,this.areaRect,this.areaTransform);return ga(this.nodes,(t=>{if(t.x&&t.y&&("boolean"!=typeof t.drag||t.drag))return this.graphSettings.dragPlaceCoefficient(t,n,i)}))})).on("start",(t=>{this.listeners.onStartDragFinished?.call?.(this,t)})).on("drag",(t=>{if(this.isDragging||(this.isDragging=!0,this.simulation&&this.simulation.alphaTarget(.3).restart()),!this.areaRect)return;const e=t.sourceEvent,[n,i]=Ma(e,this.areaRect,this.areaTransform);t.subject.fx=n,t.subject.fy=i,this.listeners.onMoveDragFinished?.call?.(this,t)})).on("end",(t=>{this.isDragging=!1,!t.active&&this.simulation&&this.simulation.alphaTarget(0);const e=t.sourceEvent;if(e.altKey&&this.areaRect){const[n,i]=Ma(e,this.areaRect,this.areaTransform);t.subject.fx=n,t.subject.fy=i}else t.subject.fx=null,t.subject.fy=null;this.listeners.onEndDragFinished?.call?.(this,t)}));nr(this.area).call(t)}let La=0,Oa=0;function Pa(t,e){return e}const $a=5,Ia=5;function Da(t,e=0){const n=t.source,i=t.target;if("object"!=typeof n||"object"!=typeof i)return null;const r=Wa({arrowSize:0,node:n,oppositeNode:i}),o=Wa({arrowSize:e>0?.85*e:0,node:i,oppositeNode:n});if(!r||!o)return null;const a=o&&r?Math.sqrt((o.x-r.x)**2+(o.y-r.y)**2):0;return{x1:r.x,y1:r.y,x2:o.x,y2:o.y,distance:a}}function Wa(t){if(null==t.node.x||null==t.node.y||null==t.oppositeNode.x||null==t.oppositeNode.y)return null;let e;switch(t.node._shape){case"circle":e=ja({x:t.node.x,y:t.node.y,radius:(t.node._radius??$a)+(t.node._borderWidth?t.node._borderWidth/2:0),oppositeX:t.oppositeNode.x,oppositeY:t.oppositeNode.y,arrowSize:t.arrowSize});break;case"square":case"text":e=function(t){const e=t.width/2,n=t.height/2,i=t.oppositeX-t.x,r=t.oppositeY-t.y;let o,a;if(Math.abs(i)<=e&&Math.abs(r)<=n){const t=e-i,s=e+i,l=n-r,u=n+r,h=Math.min(t,s,l,u);o=h===t?e:h===s?-e:i,a=h===l?n:h===u?-n:r}else{const t=Math.abs(i);e*Math.abs(r)<n*t?(o=i>0?e:-e,a=o*r/i,Math.abs(a)>n&&(a=r>0?n:-n,o=a*i/r)):(a=r>0?n:-n,o=a*i/r,Math.abs(o)>e&&(o=i>0?e:-e,a=o*r/i))}if(null!=t.borderRadius){const{x:i,y:r}=function(t,e,n,i,r){const o=1e-6,a=Math.abs(t),s=Math.abs(e);let l=null;a>=n-o?l=t>0?"right":"left":s>=i-o&&(l=e>0?"top":"bottom");if(l){const o=i-r,a=-o,s=n-r,u=-s;switch(l){case"right":if(e>o)return qa(t,e,n,i,r,"right-top");if(e<a)return qa(t,e,n,i,r,"right-bottom");break;case"left":if(e>o)return qa(t,e,n,i,r,"left-top");if(e<a)return qa(t,e,n,i,r,"left-bottom");break;case"top":if(t>s)return qa(t,e,n,i,r,"top-right");if(t<u)return qa(t,e,n,i,r,"top-left");break;case"bottom":if(t>s)return qa(t,e,n,i,r,"bottom-right");if(t<u)return qa(t,e,n,i,r,"bottom-left")}}return{x:void 0,y:void 0}}(o,a,e,n,t.borderRadius);null!=i&&(o=i),null!=r&&(a=r)}if(t.arrowSize>0){const e=Math.sqrt(o*o+a*a),n=(e+t.arrowSize)/e;o*=n,a*=n}return{x:t.x+o,y:t.y+a}}({arrowSize:t.arrowSize,x:t.node.x,y:t.node.y,height:(t.node._height??Ia)+(t.node._borderWidth??0),width:(t.node._width??Ia)+(t.node._borderWidth??0),oppositeX:t.oppositeNode.x,oppositeY:t.oppositeNode.y,borderRadius:"text"===t.node._shape?0:t.node._borderRadius??0});break;default:e=ja({x:t.node.x,y:t.node.y,radius:t.node._radius??$a,oppositeX:t.oppositeNode.x,oppositeY:t.oppositeNode.y,arrowSize:t.arrowSize})}return e}function ja(t){const e=t.oppositeX-t.x,n=t.oppositeY-t.y,i=Math.sqrt(e*e+n*n),r=t.radius+t.arrowSize;return{x:t.x+e*r/i,y:t.y+n*r/i}}function qa(t,e,n,i,r,o){const a=function(t,e,n,i,r,o){switch(o){case"top-right":o="right-top";break;case"bottom-right":o="right-bottom";break;case"top-left":o="left-top";break;case"bottom-left":o="left-bottom"}let a,s;switch(o){case"right-top":a=n-r,s=i-r;break;case"right-bottom":a=n-r,s=-i+r;break;case"left-top":a=-n+r,s=i-r;break;case"left-bottom":a=-n+r,s=-i+r;break;default:return null}const l=t**2+e**2;if(0===l)return null;const u=-2*(t*a+e*s),h=a**2+s**2-r**2,c=u**2-4*l*h;if(c<0)return null;const f=Math.sqrt(c),g=(-u-f)/(2*l),d=(-u+f)/(2*l),p=g>0?g:d>0?d:null;if(null===p||p>=1)return null;const v=p*t,x=p*e;let y=!1;switch(o){case"right-top":y=v>=a&&x>=s;break;case"right-bottom":y=v>=a&&x<=s;break;case"left-top":y=v<=a&&x>=s;break;case"left-bottom":y=v<=a&&x<=s}return y?{x:v,y:x}:null}(t,e,n,i,r,o);return a??{x:void 0,y:void 0}}function Ha(t){const e=function(t){return t.startsWith("#")?la:t.startsWith("rgba")?ha:t.startsWith("rgb")?ua:t.startsWith("hsl")?ca:void 0}(t);switch(e){case la:return function(t){return`rgb(${t.match(/\w\w/g)?.map((t=>+`0x${t}`))})`}(t);case ua:return t;case ha:return function(t){const e=t.match(/\d+/g);return e?.splice(3),`rgb(${e?.join(",")})`}(t);default:return null}}function Ua(t){if(!t)return null;const e=t.match(/\d+/g);return e?{r:+e[0],g:+e[1],b:+e[2]}:null}function Ya(t,e,n){return{r:t.r+(e.r-t.r)*n,g:t.g+(e.g-t.g)*n,b:t.b+(e.b-t.b)*n}}function Xa(t,e,n){const i=t+e;let r=t+(i-t)*n;return r>i&&(r=i),r<t&&(r=t),r}function Ga(t){const e=t.arrow&&!t.arrowByHighlight;let n=t.arrowByHighlight?0:t.linkOptions.arrowAlpha,i=t.linkOptions.color,r=t.linkOptions.width,o=t.linkOptions.arrowColor,a=t.linkOptions.arrowSize,s=t.linkOptions.arrowBorderWidth,l=t.linkOptions.arrowBorderColor;if(t.arrow&&t.arrowByHighlight&&(n=1),t.highlightForLinkColor){const e=Ua(Ha(i)),n=Ua(Ha(t.highlightForLinkColor));if(e&&n){const r=Ya(e,n,t.highlightProgress);i=`rgb(${r.r}, ${r.g}, ${r.b})`}}if(t.highlightForArrowColor&&e){const e=Ua(Ha(o)),n=Ua(Ha(t.highlightForArrowColor));if(e&&n){const i=Ya(e,n,t.highlightProgress);o=`rgb(${i.r}, ${i.g}, ${i.b})`}}if(t.highlightForArrowBorderColor&&e){const e=Ua(Ha(l)),n=Ua(Ha(t.highlightForArrowBorderColor));if(e&&n){const i=Ya(e,n,t.highlightProgress);l=`rgb(${i.r}, ${i.g}, ${i.b})`}}return r=Xa(r,t.highlightForLinkSizeAdditional,t.highlightProgress),e&&(a=Xa(a,t.highlightForArrowSizeAdditional,t.highlightProgress),s=Xa(s,t.highlightForArrowBorderSizingAdditional,t.highlightProgress)),{arrowAlpha:n,color:i,width:r,arrowColor:o,arrowSize:a,arrowBorderWidth:s,arrowBorderColor:l}}function Za(t){let e=t.linkOptions.alpha,n=t.arrowByHighlight?0:t.linkOptions.arrowAlpha;const i=t.highlightForLinkFadingMin<e?t.highlightForLinkFadingMin:e;if(e=Xa(i,e-i,1-t.highlightProgress),t.arrow&&!t.arrowByHighlight){const e=t.highlightForArrowFadingMin<n?t.highlightForArrowFadingMin:n;n=Xa(e,n-e,1-t.highlightProgress)}return{alpha:e,arrowAlpha:n}}function Va(){return function(t,e){if(!(this.context&&"object"==typeof t.source&&"object"==typeof t.target&&t.source.x&&t.source.y&&t.target.x&&t.target.y))return;if(null!=t.visible&&!t.visible||null!=t.source.visible&&!t.source.visible||null!=t.target.visible&&!t.target.visible)return;if(!t.source._visible&&!t.target._visible)return;const n=`${t.target.id}${t.source.id}`;let i;if(this.linkSettings.cacheOptions&&this.linkOptionsCache[n]?i=this.linkOptionsCache[n]:(i=function(t,e,n,i,r,o){let a,s;if(a="function"==typeof r?r.call(i,t,e,n):r,a&&"object"==typeof a&&!Array.isArray(a))for(const t in a)void 0===a[t]&&delete a[t];return o&&(s="function"==typeof o?o.call(i,t,e,n):o,s&&"object"==typeof s&&!Array.isArray(s)&&Pa(0,void 0===a||"object"==typeof a&&!Array.isArray(a)))?{...s,...a}:a}(t,e,this.links,this,this.linkSettings.options??{},ba),this.linkSettings.cacheOptions&&(this.linkOptionsCache[n]=i)),i.drawLink)return void i.drawLink.call(this,t,i);let r=i.alpha,o=i.color,a=i.width,s=this.linkSettings.arrowByHighlight?0:i.arrowAlpha,l=i.arrowColor,u=i.arrowSize,h=i.arrowBorderWidth,c=i.arrowBorderColor;if(this.highlightedNeighbors&&this.highlightedNode)if(this.highlightedNode.id!=t.source.id&&this.highlightedNode.id!=t.target.id){const t=Za({arrow:this.linkSettings.arrow,arrowByHighlight:this.linkSettings.arrowByHighlight,linkOptions:i,highlightProgress:this.highlightProgress,highlightForArrowFadingMin:this.highlightSettings.highlightByNodeForArrowFadingMin,highlightForLinkFadingMin:this.highlightSettings.highlightByNodeForLinkFadingMin});r=t.alpha,s=t.arrowAlpha}else{const t=Ga({arrow:this.linkSettings.arrow,arrowByHighlight:this.linkSettings.arrowByHighlight,linkOptions:i,highlightProgress:this.highlightProgress,highlightForArrowBorderColor:this.highlightSettings.highlightByNodeForArrowBorderColor,highlightForArrowBorderSizingAdditional:this.highlightSettings.highlightByNodeForArrowBorderSizingAdditional,highlightForArrowColor:this.highlightSettings.highlightByNodeForArrowColor,highlightForArrowSizeAdditional:this.highlightSettings.highlightByNodeForArrowSizeAdditional,highlightForLinkColor:this.highlightSettings.highlightByNodeForLinkColor,highlightForLinkSizeAdditional:this.highlightSettings.highlightByNodeForLinkSizeAdditional});s=t.arrowAlpha,o=t.color,a=t.width,l=t.arrowColor,u=t.arrowSize,h=t.arrowBorderWidth,c=t.arrowBorderColor}if(this.highlightedNeighbors&&this.highlightedLink)if(this.highlightedLink!==t){const t=Za({arrow:this.linkSettings.arrow,arrowByHighlight:this.linkSettings.arrowByHighlight,linkOptions:i,highlightProgress:this.highlightProgress,highlightForArrowFadingMin:this.highlightSettings.highlightByLinkForArrowFadingMin,highlightForLinkFadingMin:this.highlightSettings.highlightByLinkForLinkFadingMin});r=t.alpha,s=t.arrowAlpha}else{const t=Ga({arrow:this.linkSettings.arrow,arrowByHighlight:this.linkSettings.arrowByHighlight,linkOptions:i,highlightProgress:this.highlightProgress,highlightForArrowBorderColor:this.highlightSettings.highlightByLinkForArrowBorderColor,highlightForArrowBorderSizingAdditional:this.highlightSettings.highlightByLinkForArrowBorderSizingAdditional,highlightForArrowColor:this.highlightSettings.highlightByLinkForArrowColor,highlightForArrowSizeAdditional:this.highlightSettings.highlightByLinkForArrowSizeAdditional,highlightForLinkColor:this.highlightSettings.highlightByLinkForLinkColor,highlightForLinkSizeAdditional:this.highlightSettings.highlightByLinkForLinkSizeAdditional});s=t.arrowAlpha,o=t.color,a=t.width,l=t.arrowColor,u=t.arrowSize,h=t.arrowBorderWidth,c=t.arrowBorderColor}this.context.beginPath(),this.context.globalAlpha=r,this.context.strokeStyle=o,this.context.lineWidth=a;let f=t.source.x,g=t.source.y,d=t.target.x,p=t.target.y,v=0;if(this.linkSettings.prettyDraw||this.linkSettings.particleFlexSpeed){const e=Da(t,this.linkSettings.arrow&&s>0?u:0);e&&(f=e.x1,d=e.x2,g=e.y1,p=e.y2,v=e.distance)}if(this.context.moveTo(f,g),this.context.lineTo(d,p),this.context.stroke(),this.linkSettings.particles&&(this.highlightedNode&&(this.highlightedNode.id===t.source.id||this.highlightedNode.id===t.target.id)||this.highlightedLink&&this.highlightedLink===t)){const e=this.linkSettings.particleFlexSpeed?v<=0?0:v*this.linkSettings.particleFlexSpeedCoefficient:i.particleSteps,r=i.particleCount;if(!this.particles[n]){const e=t.source.id,i=t.target.id,o=[];let a;for(let t=0;t<r;t++){const n={step:0,sourceId:e,targetId:i,prev:a,next:void 0,index:t};a&&(a.next=n),o.push(n),a=n}o.length>=2&&(o[0].prev=o[o.length-1],o[o.length-1].next=o[0]),this.particles[n]=o}0!==e&&this.particles[n].forEach((t=>{if(!this.context)return;!function(t){const e=t.particle.step-(t.particle.prev?.step??0),n=(t.particle.next?.step??0)-t.particle.step,i=t.particle.next&&t.particle.next.step>t.particle.step&&n<=t.distance,r=t.particle.prev&&0!==t.particle.prev.step&&t.particle.prev.step<t.particle.step&&e<t.distance;if(0===t.particle.step&&i)return t.particle.x=void 0,void(t.particle.y=void 0);const o=t.totalSteps-t.particle.step,a=t.particle.step/t.totalSteps;if(o<=0)return t.particle.x=t.xEnd,t.particle.y=t.yEnd,void(t.particle.step=0);const s=t.xEnd-t.xStart,l=t.yEnd-t.yStart,u=t.xStart+s*a,h=t.yStart+l*a;t.particle.x=u,t.particle.y=h,r?t.particle.step+=e<=3?e:3:t.particle.step++}({distance:e/r,particle:t,totalSteps:e,xEnd:d,xStart:f,yEnd:p,yStart:g}),null!=t.x&&null!=t.y&&(this.context.beginPath(),this.context.strokeStyle=i.particleBorderColor,this.context.lineWidth=i.particleBorderWidth,this.context.arc(t.x,t.y,i.particleRadius,0,2*Math.PI),this.context.fillStyle=i.particleColor,this.context.fill(),i.particleBorderWidth>0&&this.context.stroke())}))}if(this.linkSettings.arrow&&s>0){const{x1:e,x2:n,y1:i,y2:r}=Da(t)??{x1:0,x2:0,y1:0,y2:0};this.context.beginPath(),this.context.globalAlpha=s,this.context.strokeStyle=c,this.context.lineWidth=h,this.context.fillStyle=l;const o=Math.atan2(r-i,n-e);this.context.moveTo(n,r),this.context.lineTo(n-u*Math.cos(o-Math.PI/6),r-u*Math.sin(o-Math.PI/6)),this.context.lineTo(n-u*Math.cos(o+Math.PI/6),r-u*Math.sin(o+Math.PI/6)),this.context.closePath(),this.context.fill(),h>0&&this.context.stroke()}i.drawExtraLink&&i.drawExtraLink.call(this,t,{...i,alpha:r})}}function Ka(t,e,n,i,r,o){let a,s;if(a="function"==typeof r?r.call(i,t,e,n):r,a&&"object"==typeof a&&!Array.isArray(a))for(const t in a)void 0===a[t]&&delete a[t];return o&&(s="function"==typeof o?o.call(i,t,e,n):o,s&&"object"==typeof s&&!Array.isArray(s)&&Pa(0,void 0===a||"object"==typeof a&&!Array.isArray(a)))?{...s,...a}:a}const Qa=10;function Ja(t){let e=t.nodeOptions.color,n=t.nodeOptions.borderColor,i=t.nodeOptions.borderWidth,r=t.nodeOptions.radius,o=t.nodeOptions.width,a=t.nodeOptions.height,s=t.nodeOptions.textSize,l=t.nodeOptions.textShiftX,u=t.nodeOptions.textShiftY,h=t.nodeOptions.textWeight,c=t.nodeOptions.labelSize,f=t.nodeOptions.labelWeight,g=1;if(t.highlightForNodeColor){const n=Ua(Ha(e)),i=Ua(Ha(t.highlightForNodeColor));if(n&&i){const r=Ya(n,i,t.highlightProgress);e=`rgb(${r.r}, ${r.g}, ${r.b})`}}if("circle"===t.nodeOptions.shape&&(r=Xa(r,t.highlightForNodeSizingAdditional,t.highlightProgress)),"square"!==t.nodeOptions.shape&&"text"!==t.nodeOptions.shape||(g=Xa(g,t.highlightForNodeSizingAdditionalCoefficient,t.highlightProgress),o*=g,a*=g),t.highlightForNodeBorderColor){const e=Ua(Ha(n)),i=Ua(Ha(t.highlightForNodeBorderColor));if(e&&i){const r=Ya(e,i,t.highlightProgress);n=`rgb(${r.r}, ${r.g}, ${r.b})`}}return i=Xa(i,t.highlightForNodeBorderSizingAdditional,t.highlightProgress),s=Xa(s,t.highlightForTextSizingAdditional,t.highlightProgress),l=Xa(l,t.highlightForTextShiftXAdditional,t.highlightProgress),u=Xa(u,t.highlightForTextShiftYAdditional,t.highlightProgress),h=Xa(h,t.highlightForTextWeightAdditional,t.highlightProgress),t.nodeOptions.label&&(c=Xa(c,t.highlightForLabelSizingAdditional,t.highlightProgress),f=Xa(f,t.highlightForLabelWeightAdditional,t.highlightProgress)),{color:e,borderColor:n,borderWidth:i,radiusInitial:r,widthInitial:o,heightInitial:a,textSize:s,textShiftX:l,textShiftY:u,textWeight:h,labelSize:c,labelWeight:f,sizeCoefficient:g}}function ts(t){let e=t.nodeOptions.alpha,n=t.nodeOptions.color,i=t.nodeOptions.textAlpha,r=t.nodeOptions.labelAlpha;const o=t.highlightForNodeFadingMin<e?t.highlightForNodeFadingMin:e;e=Xa(o,e-o,1-t.highlightProgress);const a=t.highlightForTextFadingMin<i?t.highlightForTextFadingMin:i;if(i=Xa(a,i-a,1-t.highlightProgress),t.nodeOptions.label){const e=t.highlightForLabelFadingMin<r?t.highlightForLabelFadingMin:r;r=Xa(e,r-e,1-t.highlightProgress)}if(t.highlightForNodeColorFading){const e=Ua(Ha(n));if(e){const i=function(t,e){const n=(t.r+t.g+t.b)/3;return{r:t.r*e+n*(1-e),g:t.g*e+n*(1-e),b:t.b*e+n*(1-e)}}(e,t.highlightForNodeColorFadingMin),r=Ya(e,i,t.highlightProgress);n=`rgb(${r.r}, ${r.g}, ${r.b})`}}return{alpha:e,color:n,textAlpha:i,labelAlpha:r}}function es({context:t,id:e,textAlign:n,textColor:i,textFont:r,textStyle:o,textGap:a,textWeight:s,textSize:l,text:u,x:h,y:c,cachedNodeText:f,maxWidth:g}){if(t.font=`${o} normal ${s} ${l}px ${r}`,t.fillStyle=i,t.textAlign=n,null!=f[e])return void f[e].forEach(((e,n)=>{t.fillText(e,h,c+n*l+n*a)}));if(null==g||t.measureText(u).width<=g)return f[e]=[u],void t.fillText(u,h,c);const{lines:d}=ns({context:t,maxWidth:g,text:u,textAlign:n,textColor:i,textFont:r,textSize:l,textStyle:o,textWeight:s});f[e]=d,d.forEach(((e,n)=>{t.fillText(e,h,c+n*l+n*a)}))}function ns({context:t,textAlign:e,textColor:n,textFont:i,textStyle:r,textWeight:o,textSize:a,text:s,maxWidth:l}){t.font=`${r} normal ${o} ${a}px ${i}`,t.fillStyle=n,t.textAlign=e;const u=t.measureText(" ").width,h=[];let c=0,f="",g=0;for(const e of s.split(" ")){const n=t.measureText(e).width;if(c+=n+u,""!==f)if(c>l){const t=c-n-u;t>g&&(g=t),c=n,h.push(f),f=e}else c+=u,f+=` ${e}`;else f=e}return""!==f&&h.push(f),c>g&&(g=c),{lines:h,currentMaxSize:g}}function is(t,e){return function(n,i){if(!this.context||!n.x||!n.y)return;if(null!=n.visible&&!n.visible)return;let r;if(this.nodeSettings.cacheOptions&&this.nodeOptionsCache[n.id]?r=this.nodeOptionsCache[n.id]:(r=Ka(n,i,this.nodes,this,this.nodeSettings.options??{},Na),this.nodeSettings.cacheOptions&&(this.nodeOptionsCache[n.id]=r)),r.nodeDraw&&r.textDraw)return t.push((()=>{r.nodeDraw&&r.nodeDraw.bind(this)(n,r)})),void e.push((()=>{r.textDraw&&r.textDraw.bind(this)(n,r)}));let o=r.alpha,a=r.color,s=r.borderColor,l=r.borderWidth,u=r.radius,h=r.width,c=r.height,f=r.textAlpha,g=r.textSize,d=r.textShiftX,p=r.textShiftY,v=r.textWeight,x=r.labelSize,y=r.labelWeight,m=r.labelAlpha;if(this.highlightedNeighbors&&this.highlightedNode)if(this.highlightedNeighbors.has(n.id)||this.highlightedNode.id==n.id){if(!this.highlightSettings.highlightByNodeOnlyRoot||this.highlightSettings.highlightByNodeOnlyRoot&&this.highlightedNode.id===n.id){const t=Ja({highlightProgress:this.highlightProgress,nodeOptions:r,highlightForLabelSizingAdditional:this.highlightSettings.highlightByNodeForLabelSizingAdditional,highlightForLabelWeightAdditional:this.highlightSettings.highlightByNodeForLabelWeightAdditional,highlightForNodeBorderColor:this.highlightSettings.highlightByNodeForNodeBorderColor,highlightForNodeBorderSizingAdditional:this.highlightSettings.highlightByNodeForNodeBorderSizingAdditional,highlightForNodeColor:this.highlightSettings.highlightByNodeForNodeColor,highlightForNodeSizingAdditional:this.highlightSettings.highlightByNodeForNodeSizingAdditional,highlightForNodeSizingAdditionalCoefficient:this.highlightSettings.highlightByNodeForNodeSizingAdditionalCoefficient,highlightForTextShiftXAdditional:this.highlightSettings.highlightByNodeForTextShiftXAdditional,highlightForTextShiftYAdditional:this.highlightSettings.highlightByNodeForTextShiftYAdditional,highlightForTextSizingAdditional:this.highlightSettings.highlightByNodeForTextSizingAdditional,highlightForTextWeightAdditional:this.highlightSettings.highlightByNodeForTextWeightAdditional});a=t.color,s=t.borderColor,l=t.borderWidth,u=t.radiusInitial,h=t.widthInitial,c=t.heightInitial,g=t.textSize,d=t.textShiftX,p=t.textShiftY,v=t.textWeight,x=t.labelSize,y=t.labelWeight}}else{const t=ts({highlightProgress:this.highlightProgress,nodeOptions:r,highlightForLabelFadingMin:this.highlightSettings.highlightByNodeForLabelFadingMin,highlightForNodeColorFading:this.highlightSettings.highlightByNodeForNodeColorFading,highlightForNodeColorFadingMin:this.highlightSettings.highlightByNodeForNodeColorFadingMin,highlightForNodeFadingMin:this.highlightSettings.highlightByNodeForNodeFadingMin,highlightForTextFadingMin:this.highlightSettings.highlightByNodeForTextFadingMin});o=t.alpha,a=t.color,f=t.textAlpha,m=t.labelAlpha}if(this.highlightedNeighbors&&this.highlightedLink)if(this.highlightedNeighbors.has(n.id)||this.highlightedLink.source===n||this.highlightedLink.target===n){const t=Ja({highlightProgress:this.highlightProgress,nodeOptions:r,highlightForLabelSizingAdditional:this.highlightSettings.highlightByLinkForLabelSizingAdditional,highlightForLabelWeightAdditional:this.highlightSettings.highlightByLinkForLabelWeightAdditional,highlightForNodeBorderColor:this.highlightSettings.highlightByLinkForNodeBorderColor,highlightForNodeBorderSizingAdditional:this.highlightSettings.highlightByLinkForNodeBorderSizingAdditional,highlightForNodeColor:this.highlightSettings.highlightByLinkForNodeColor,highlightForNodeSizingAdditional:this.highlightSettings.highlightByLinkForNodeSizingAdditional,highlightForNodeSizingAdditionalCoefficient:this.highlightSettings.highlightByLinkForNodeSizingAdditionalCoefficient,highlightForTextShiftXAdditional:this.highlightSettings.highlightByLinkForTextShiftXAdditional,highlightForTextShiftYAdditional:this.highlightSettings.highlightByLinkForTextShiftYAdditional,highlightForTextSizingAdditional:this.highlightSettings.highlightByLinkForTextSizingAdditional,highlightForTextWeightAdditional:this.highlightSettings.highlightByLinkForTextWeightAdditional});a=t.color,s=t.borderColor,l=t.borderWidth,u=t.radiusInitial,h=t.widthInitial,c=t.heightInitial,g=t.textSize,d=t.textShiftX,p=t.textShiftY,v=t.textWeight,x=t.labelSize,y=t.labelWeight}else{const t=ts({highlightProgress:this.highlightProgress,nodeOptions:r,highlightForLabelFadingMin:this.highlightSettings.highlightByLinkForLabelFadingMin,highlightForNodeColorFading:this.highlightSettings.highlightByLinkForNodeColorFading,highlightForNodeColorFadingMin:this.highlightSettings.highlightByLinkForNodeColorFadingMin,highlightForNodeFadingMin:this.highlightSettings.highlightByLinkForNodeFadingMin,highlightForTextFadingMin:this.highlightSettings.highlightByLinkForTextFadingMin});o=t.alpha,a=t.color,f=t.textAlpha,m=t.labelAlpha}const _="circle"===r.shape?Ta({radiusFlexible:this.nodeSettings.nodeRadiusFlexible,radiusInitial:u,radiusCoefficient:this.nodeSettings.nodeRadiusCoefficient,radiusFactor:this.nodeSettings.nodeRadiusFactor,linkCount:n.linkCount}):u;let b=c,w=h;if("square"===r.shape){const t=Ca({heightInitial:c,widthInitial:h,linkCount:n.linkCount,sizeCoefficient:this.nodeSettings.nodeSizeCoefficient,sizeFactor:this.nodeSettings.nodeSizeFactor,sizeFlexible:this.nodeSettings.nodeSizeFlexible});w=t.width,b=t.height}if("text"===r.shape){w=r.width;const t=Ca({heightInitial:c,widthInitial:w,linkCount:n.linkCount,sizeCoefficient:this.nodeSettings.nodeSizeCoefficient,sizeFactor:this.nodeSettings.nodeSizeFactor,sizeFlexible:this.nodeSettings.nodeSizeFlexible});x*=t.additionalSizeCoefficient}if("text"===r.shape&&r.label){let t,e;const i=this.cachedNodeLabel[n.id],o=this.cachedTextNodeParameters[n.id];if(null!=i&&null!=o)t=i,e=o;else{const i=ns({context:this.context,text:r.label,textAlign:r.labelAlign,textColor:r.labelColor,textFont:r.labelFont,textSize:x,maxWidth:r.labelWidth,textStyle:r.labelStyle,textWeight:v});e=[i.currentMaxSize,x],t=i.lines,this.cachedNodeLabel[n.id]=t,this.cachedTextNodeParameters[n.id]=e}const a=x/e[1],s=e[0]*a;b=t.length*x+(t.length-1)*r.labelGap+r.labelYPadding,w=s+r.labelXPadding}var k;n._radius=_,n._borderWidth=l,n._width=w,n._height=b,n._borderRadius="number"==typeof(k=r.borderRadius)&&!Number.isNaN(k)&&r.borderRadius>0?Math.min(r.borderRadius,r.width/2,r.height/2):0,n._shape=r.shape??"circle",function(t){const e=-t.transform.x/t.transform.k,n=(t.width-t.transform.x)/t.transform.k,i=-t.transform.y/t.transform.k,r=(t.height-t.transform.y)/t.transform.k;if(null==t.node.x||null==t.node.y)return!1;switch(t.node._shape){case"circle":{const o=t.node._radius??$a;return e<t.node.x+o+Qa&&t.node.x-o-Qa<n&&i<t.node.y+o+Qa&&t.node.y-o-Qa<r}case"square":case"text":{const o=t.node._width??Ia,a=t.node._height??Ia;return e<t.node.x+o+Qa&&t.node.x-o-Qa<n&&i<t.node.y+a+Qa&&t.node.y-a-Qa<r}default:{const o=t.node._radius??$a;return e<t.node.x+o+Qa&&t.node.x-o-Qa<n&&i<t.node.y+o+Qa&&t.node.y-o-Qa<r}}}({height:this.height,width:this.width,transform:this.areaTransform,node:n})?(n._visible=!0,t.push((()=>{if(this.context&&n.x&&n.y)switch(this.context.beginPath(),this.context.globalAlpha=o,this.context.lineWidth=l,this.context.strokeStyle=s,this.context.fillStyle=a,r.shape){case"circle":n.image?(this.context.arc(n.x,n.y,_,0,2*Math.PI),this.context.closePath(),this.context.save(),this.context.clip(),this.context.drawImage(n.image,n.x-_,n.y-_,2*_,2*_),this.context.restore(),l>0&&this.context.stroke()):(this.context.arc(n.x,n.y,_,0,2*Math.PI),this.context.fill(),l>0&&this.context.stroke()),n.label&&(this.context.globalAlpha=m,es({context:this.context,cachedNodeText:this.cachedNodeLabel,id:n.id,text:n.label,textAlign:r.labelAlign,textColor:r.labelColor,textFont:r.labelFont,textGap:r.labelGap,textSize:x,textStyle:r.labelStyle,textWeight:y,maxWidth:r.labelWidth,x:n.x,y:n.y+x/3}));break;case"square":n.image?(this.context.roundRect(n.x-w/2,n.y-b/2,w,b,n._borderRadius),this.context.closePath(),this.context.save(),this.context.clip(),this.context.drawImage(n.image,n.x-w/2,n.y-b/2,w,b),this.context.restore(),l>0&&this.context.stroke()):(this.context.roundRect(n.x-w/2,n.y-b/2,w,b,n._borderRadius),this.context.fill(),l>0&&this.context.stroke()),n.label&&(this.context.globalAlpha=m,es({context:this.context,cachedNodeText:this.cachedNodeLabel,id:n.id,text:n.label,textAlign:r.labelAlign,textColor:r.labelColor,textFont:r.labelFont,textGap:r.labelGap,textSize:x,textStyle:r.labelStyle,textWeight:y,maxWidth:r.labelWidth,x:n.x,y:n.y+x/3}));break;case"text":{this.nodeSettings.textNodeDebug&&this.context.strokeRect(n.x-w/2,n.y-b/2,w,b);const t=this.cachedNodeLabel[n.id];r.label&&t&&es({id:n.id,cachedNodeText:this.cachedNodeLabel,context:this.context,text:r.label,textAlign:r.labelAlign,textColor:r.labelColor,textFont:r.labelFont,textSize:x,x:n.x,y:n.y+g/4-(t.length-1)*(g/2),maxWidth:r.labelWidth,textStyle:r.labelStyle,textWeight:v,textGap:r.labelGap}),this.context.fill(),l>0&&this.context.stroke();break}default:this.context.arc(n.x,n.y,_,0,2*Math.PI),this.context.fill(),l>0&&this.context.stroke()}})),r.nodeExtraDraw&&t.push((()=>{r?.nodeExtraDraw?.bind?.(this)?.(n,{...r,radius:_,alpha:o,color:a,textAlpha:f,textSize:g,textShiftX:d,textShiftY:p,textWeight:v})})),r.textVisible&&r.text&&e.push((()=>{if(r.textDraw)return void r.textDraw.bind(this)(n,{...r,radius:_,alpha:o,color:a,textAlpha:f,textSize:g,textShiftX:d,textShiftY:p,textWeight:v});if(!(this.context&&n.x&&n.y&&r.text))return;this.context.beginPath(),this.context.globalAlpha=f;let t=n.y+p;"circle"===r.shape&&(t+=_),"square"!==r.shape&&"text"!==r.shape||(t+=b/2),es({id:n.id,cachedNodeText:this.cachedNodeText,context:this.context,text:r.text,textAlign:r.textAlign,textColor:r.textColor,textFont:r.textFont,textSize:g,x:n.x+d,y:t,maxWidth:r.textWidth,textStyle:r.textStyle,textWeight:v,textGap:r.textGap}),r.textExtraDraw&&r.textExtraDraw.bind(this)(n,{...r,radius:_,alpha:o,color:a,textAlpha:f,textSize:g,textShiftX:d,textShiftY:p,textWeight:v})}))):n._visible=!1}}function rs(){function t(){if(this.highlightDrawing=!0,!this.highlightWorking&&this.highlightProgress>0){const t=1/this.graphSettings.highlightDownFrames;if(this.highlightProgress-=t,!this.simulationWorking)return void requestAnimationFrame((()=>this.draw()));if(!this.linkSettings.particles)return}if(this.highlightWorking&&this.highlightProgress<1){const t=1/this.graphSettings.highlightUpFrames;if(this.highlightProgress+=t,!this.simulationWorking)return void requestAnimationFrame((()=>this.draw()));if(!this.linkSettings.particles)return}this.linkSettings.particles&&this.highlightWorking&&!this.simulationWorking||!this.highlightWorking&&this.highlightProgress<=0&&(this.highlightedNeighbors||this.highlightedNode||this.highlightedLink)&&(this.highlightedNeighbors=null,this.highlightedNode=null,this.highlightedLink=null,this.particles={},!this.simulationWorking)?requestAnimationFrame((()=>this.draw())):this.highlightDrawing=!1}function e(){if(!this.context)return;if(this.listeners.onDraw)return void this.listeners.onDraw.call(this);this.context.save(),this.context.clearRect(0,0,this.width,this.height),this.context.translate(this.areaTransform.x,this.areaTransform.y),this.context.scale(this.areaTransform.k,this.areaTransform.k);const e=[],n=[];this.nodes.forEach(is(n,e).bind(this)),this.links.forEach(Va().bind(this)),n.forEach((t=>t())),e.forEach((t=>t())),this.context.restore(),this.listeners.onDrawFinished?.call?.(this),t.bind(this)()}return this.graphSettings.showDrawTime?(n=e.bind(this),i=this.graphSettings.showDrawTimeEveryTick,()=>{const t=performance.now();n();const e=performance.now()-t;if(La+=e,Oa++,i){const t=La/Oa;console.log("average draw: ",t,"current draw: ",e)}}):e.bind(this);var n,i}var os,as={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var ss,ls,us=(os||(os=1,ss=as,ls=as.exports,function(){var t,e="Expected a function",n="__lodash_hash_undefined__",i="__lodash_placeholder__",r=32,o=128,a=256,s=1/0,l=9007199254740991,u=NaN,h=4294967295,c=[["ary",o],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",r],["partialRight",64],["rearg",a]],f="[object Arguments]",g="[object Array]",d="[object Boolean]",p="[object Date]",v="[object Error]",x="[object Function]",y="[object GeneratorFunction]",m="[object Map]",_="[object Number]",b="[object Object]",w="[object Promise]",k="[object RegExp]",S="[object Set]",A="[object String]",N="[object Symbol]",T="[object WeakMap]",C="[object ArrayBuffer]",E="[object DataView]",F="[object Float32Array]",z="[object Float64Array]",R="[object Int8Array]",M="[object Int16Array]",B="[object Int32Array]",L="[object Uint8Array]",O="[object Uint8ClampedArray]",P="[object Uint16Array]",$="[object Uint32Array]",I=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,j=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,H=RegExp(j.source),U=RegExp(q.source),Y=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,G=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V=/^\w*$/,K=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q=/[\\^$.*+?()[\]{}|]/g,J=RegExp(Q.source),tt=/^\s+/,et=/\s/,nt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,it=/\{\n\/\* \[wrapped with (.+)\] \*/,rt=/,? & /,ot=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,at=/[()=,{}\[\]\/\s]/,st=/\\(\\)?/g,lt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ut=/\w*$/,ht=/^[-+]0x[0-9a-f]+$/i,ct=/^0b[01]+$/i,ft=/^\[object .+?Constructor\]$/,gt=/^0o[0-7]+$/i,dt=/^(?:0|[1-9]\d*)$/,pt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vt=/($^)/,xt=/['\n\r\u2028\u2029\\]/g,yt="\\ud800-\\udfff",mt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_t="\\u2700-\\u27bf",bt="a-z\\xdf-\\xf6\\xf8-\\xff",wt="A-Z\\xc0-\\xd6\\xd8-\\xde",kt="\\ufe0e\\ufe0f",St="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",At="[']",Nt="["+yt+"]",Tt="["+St+"]",Ct="["+mt+"]",Et="\\d+",Ft="["+_t+"]",zt="["+bt+"]",Rt="[^"+yt+St+Et+_t+bt+wt+"]",Mt="\\ud83c[\\udffb-\\udfff]",Bt="[^"+yt+"]",Lt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ot="[\\ud800-\\udbff][\\udc00-\\udfff]",Pt="["+wt+"]",$t="\\u200d",It="(?:"+zt+"|"+Rt+")",Dt="(?:"+Pt+"|"+Rt+")",Wt="(?:['](?:d|ll|m|re|s|t|ve))?",jt="(?:['](?:D|LL|M|RE|S|T|VE))?",qt="(?:"+Ct+"|"+Mt+")?",Ht="["+kt+"]?",Ut=Ht+qt+"(?:"+$t+"(?:"+[Bt,Lt,Ot].join("|")+")"+Ht+qt+")*",Yt="(?:"+[Ft,Lt,Ot].join("|")+")"+Ut,Xt="(?:"+[Bt+Ct+"?",Ct,Lt,Ot,Nt].join("|")+")",Gt=RegExp(At,"g"),Zt=RegExp(Ct,"g"),Vt=RegExp(Mt+"(?="+Mt+")|"+Xt+Ut,"g"),Kt=RegExp([Pt+"?"+zt+"+"+Wt+"(?="+[Tt,Pt,"$"].join("|")+")",Dt+"+"+jt+"(?="+[Tt,Pt+It,"$"].join("|")+")",Pt+"?"+It+"+"+Wt,Pt+"+"+jt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Et,Yt].join("|"),"g"),Qt=RegExp("["+$t+yt+mt+kt+"]"),Jt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,te=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ee=-1,ne={};ne[F]=ne[z]=ne[R]=ne[M]=ne[B]=ne[L]=ne[O]=ne[P]=ne[$]=!0,ne[f]=ne[g]=ne[C]=ne[d]=ne[E]=ne[p]=ne[v]=ne[x]=ne[m]=ne[_]=ne[b]=ne[k]=ne[S]=ne[A]=ne[T]=!1;var ie={};ie[f]=ie[g]=ie[C]=ie[E]=ie[d]=ie[p]=ie[F]=ie[z]=ie[R]=ie[M]=ie[B]=ie[m]=ie[_]=ie[b]=ie[k]=ie[S]=ie[A]=ie[N]=ie[L]=ie[O]=ie[P]=ie[$]=!0,ie[v]=ie[x]=ie[T]=!1;var re={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},oe=parseFloat,ae=parseInt,se="object"==typeof aa&&aa&&aa.Object===Object&&aa,le="object"==typeof self&&self&&self.Object===Object&&self,ue=se||le||Function("return this")(),he=ls&&!ls.nodeType&&ls,ce=he&&ss&&!ss.nodeType&&ss,fe=ce&&ce.exports===he,ge=fe&&se.process,de=function(){try{var t=ce&&ce.require&&ce.require("util").types;return t||ge&&ge.binding&&ge.binding("util")}catch(t){}}(),pe=de&&de.isArrayBuffer,ve=de&&de.isDate,xe=de&&de.isMap,ye=de&&de.isRegExp,me=de&&de.isSet,_e=de&&de.isTypedArray;function be(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function we(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function ke(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Se(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ae(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Ne(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function Te(t,e){return!(null==t||!t.length)&&Pe(t,e,0)>-1}function Ce(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function Ee(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function Fe(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function ze(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function Re(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function Me(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var Be=We("length");function Le(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function Oe(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function Pe(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):Oe(t,Ie,n)}function $e(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function Ie(t){return t!=t}function De(t,e){var n=null==t?0:t.length;return n?He(t,e)/n:u}function We(e){return function(n){return null==n?t:n[e]}}function je(e){return function(n){return null==e?t:e[n]}}function qe(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function He(e,n){for(var i,r=-1,o=e.length;++r<o;){var a=n(e[r]);a!==t&&(i=i===t?a:i+a)}return i}function Ue(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function Ye(t){return t?t.slice(0,hn(t)+1).replace(tt,""):t}function Xe(t){return function(e){return t(e)}}function Ge(t,e){return Ee(e,(function(e){return t[e]}))}function Ze(t,e){return t.has(e)}function Ve(t,e){for(var n=-1,i=t.length;++n<i&&Pe(e,t[n],0)>-1;);return n}function Ke(t,e){for(var n=t.length;n--&&Pe(e,t[n],0)>-1;);return n}var Qe=je({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Je=je({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tn(t){return"\\"+re[t]}function en(t){return Qt.test(t)}function nn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function rn(t,e){return function(n){return t(e(n))}}function on(t,e){for(var n=-1,r=t.length,o=0,a=[];++n<r;){var s=t[n];s!==e&&s!==i||(t[n]=i,a[o++]=n)}return a}function an(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function sn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function ln(t){return en(t)?function(t){for(var e=Vt.lastIndex=0;Vt.test(t);)++e;return e}(t):Be(t)}function un(t){return en(t)?function(t){return t.match(Vt)||[]}(t):function(t){return t.split("")}(t)}function hn(t){for(var e=t.length;e--&&et.test(t.charAt(e)););return e}var cn=je({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),fn=function et(yt){var mt,_t=(yt=null==yt?ue:fn.defaults(ue.Object(),yt,fn.pick(ue,te))).Array,bt=yt.Date,wt=yt.Error,kt=yt.Function,St=yt.Math,At=yt.Object,Nt=yt.RegExp,Tt=yt.String,Ct=yt.TypeError,Et=_t.prototype,Ft=kt.prototype,zt=At.prototype,Rt=yt["__core-js_shared__"],Mt=Ft.toString,Bt=zt.hasOwnProperty,Lt=0,Ot=(mt=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||""))?"Symbol(src)_1."+mt:"",Pt=zt.toString,$t=Mt.call(At),It=ue._,Dt=Nt("^"+Mt.call(Bt).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=fe?yt.Buffer:t,jt=yt.Symbol,qt=yt.Uint8Array,Ht=Wt?Wt.allocUnsafe:t,Ut=rn(At.getPrototypeOf,At),Yt=At.create,Xt=zt.propertyIsEnumerable,Vt=Et.splice,Qt=jt?jt.isConcatSpreadable:t,re=jt?jt.iterator:t,se=jt?jt.toStringTag:t,le=function(){try{var t=ho(At,"defineProperty");return t({},"",{}),t}catch(t){}}(),he=yt.clearTimeout!==ue.clearTimeout&&yt.clearTimeout,ce=bt&&bt.now!==ue.Date.now&&bt.now,ge=yt.setTimeout!==ue.setTimeout&&yt.setTimeout,de=St.ceil,Be=St.floor,je=At.getOwnPropertySymbols,gn=Wt?Wt.isBuffer:t,dn=yt.isFinite,pn=Et.join,vn=rn(At.keys,At),xn=St.max,yn=St.min,mn=bt.now,_n=yt.parseInt,bn=St.random,wn=Et.reverse,kn=ho(yt,"DataView"),Sn=ho(yt,"Map"),An=ho(yt,"Promise"),Nn=ho(yt,"Set"),Tn=ho(yt,"WeakMap"),Cn=ho(At,"create"),En=Tn&&new Tn,Fn={},zn=Po(kn),Rn=Po(Sn),Mn=Po(An),Bn=Po(Nn),Ln=Po(Tn),On=jt?jt.prototype:t,Pn=On?On.valueOf:t,$n=On?On.toString:t;function In(t){if(ts(t)&&!qa(t)&&!(t instanceof qn)){if(t instanceof jn)return t;if(Bt.call(t,"__wrapped__"))return $o(t)}return new jn(t)}var Dn=function(){function e(){}return function(n){if(!Ja(n))return{};if(Yt)return Yt(n);e.prototype=n;var i=new e;return e.prototype=t,i}}();function Wn(){}function jn(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=t}function qn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Un(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Xn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Yn;++e<n;)this.add(t[e])}function Gn(t){var e=this.__data__=new Un(t);this.size=e.size}function Zn(t,e){var n=qa(t),i=!n&&ja(t),r=!n&&!i&&Xa(t),o=!n&&!i&&!r&&ls(t),a=n||i||r||o,s=a?Ue(t.length,Tt):[],l=s.length;for(var u in t)!e&&!Bt.call(t,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||yo(u,l))||s.push(u);return s}function Vn(e){var n=e.length;return n?e[Xi(0,n-1)]:t}function Kn(t,e){return Bo(Cr(t),ai(e,0,t.length))}function Qn(t){return Bo(Cr(t))}function Jn(e,n,i){(i!==t&&!Ia(e[n],i)||i===t&&!(n in e))&&ri(e,n,i)}function ti(e,n,i){var r=e[n];Bt.call(e,n)&&Ia(r,i)&&(i!==t||n in e)||ri(e,n,i)}function ei(t,e){for(var n=t.length;n--;)if(Ia(t[n][0],e))return n;return-1}function ni(t,e,n,i){return ci(t,(function(t,r,o){e(i,t,n(t),o)})),i}function ii(t,e){return t&&Er(e,Fs(e),t)}function ri(t,e,n){"__proto__"==e&&le?le(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function oi(e,n){for(var i=-1,r=n.length,o=_t(r),a=null==e;++i<r;)o[i]=a?t:As(e,n[i]);return o}function ai(e,n,i){return e==e&&(i!==t&&(e=e<=i?e:i),n!==t&&(e=e>=n?e:n)),e}function si(e,n,i,r,o,a){var s,l=1&n,u=2&n,h=4&n;if(i&&(s=o?i(e,r,o,a):i(e)),s!==t)return s;if(!Ja(e))return e;var c=qa(e);if(c){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Bt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!l)return Cr(e,s)}else{var g=go(e),v=g==x||g==y;if(Xa(e))return wr(e,l);if(g==b||g==f||v&&!o){if(s=u||v?{}:vo(e),!l)return u?function(t,e){return Er(t,fo(t),e)}(e,function(t,e){return t&&Er(e,zs(e),t)}(s,e)):function(t,e){return Er(t,co(t),e)}(e,ii(s,e))}else{if(!ie[g])return o?e:{};s=function(t,e,n){var i,r=t.constructor;switch(e){case C:return kr(t);case d:case p:return new r(+t);case E:return function(t,e){var n=e?kr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case F:case z:case R:case M:case B:case L:case O:case P:case $:return Sr(t,n);case m:return new r;case _:case A:return new r(t);case k:return function(t){var e=new t.constructor(t.source,ut.exec(t));return e.lastIndex=t.lastIndex,e}(t);case S:return new r;case N:return i=t,Pn?At(Pn.call(i)):{}}}(e,g,l)}}a||(a=new Gn);var w=a.get(e);if(w)return w;a.set(e,s),os(e)?e.forEach((function(t){s.add(si(t,n,i,t,e,a))})):es(e)&&e.forEach((function(t,r){s.set(r,si(t,n,i,r,e,a))}));var T=c?t:(h?u?io:no:u?zs:Fs)(e);return ke(T||e,(function(t,r){T&&(t=e[r=t]),ti(s,r,si(t,n,i,r,e,a))})),s}function li(e,n,i){var r=i.length;if(null==e)return!r;for(e=At(e);r--;){var o=i[r],a=n[o],s=e[o];if(s===t&&!(o in e)||!a(s))return!1}return!0}function ui(n,i,r){if("function"!=typeof n)throw new Ct(e);return Fo((function(){n.apply(t,r)}),i)}function hi(t,e,n,i){var r=-1,o=Te,a=!0,s=t.length,l=[],u=e.length;if(!s)return l;n&&(e=Ee(e,Xe(n))),i?(o=Ce,a=!1):e.length>=200&&(o=Ze,a=!1,e=new Xn(e));t:for(;++r<s;){var h=t[r],c=null==n?h:n(h);if(h=i||0!==h?h:0,a&&c==c){for(var f=u;f--;)if(e[f]===c)continue t;l.push(h)}else o(e,c,i)||l.push(h)}return l}In.templateSettings={escape:Y,evaluate:X,interpolate:G,variable:"",imports:{_:In}},In.prototype=Wn.prototype,In.prototype.constructor=In,jn.prototype=Dn(Wn.prototype),jn.prototype.constructor=jn,qn.prototype=Dn(Wn.prototype),qn.prototype.constructor=qn,Hn.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},Hn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Hn.prototype.get=function(e){var i=this.__data__;if(Cn){var r=i[e];return r===n?t:r}return Bt.call(i,e)?i[e]:t},Hn.prototype.has=function(e){var n=this.__data__;return Cn?n[e]!==t:Bt.call(n,e)},Hn.prototype.set=function(e,i){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Cn&&i===t?n:i,this},Un.prototype.clear=function(){this.__data__=[],this.size=0},Un.prototype.delete=function(t){var e=this.__data__,n=ei(e,t);return!(n<0||(n==e.length-1?e.pop():Vt.call(e,n,1),--this.size,0))},Un.prototype.get=function(e){var n=this.__data__,i=ei(n,e);return i<0?t:n[i][1]},Un.prototype.has=function(t){return ei(this.__data__,t)>-1},Un.prototype.set=function(t,e){var n=this.__data__,i=ei(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(Sn||Un),string:new Hn}},Yn.prototype.delete=function(t){var e=lo(this,t).delete(t);return this.size-=e?1:0,e},Yn.prototype.get=function(t){return lo(this,t).get(t)},Yn.prototype.has=function(t){return lo(this,t).has(t)},Yn.prototype.set=function(t,e){var n=lo(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Xn.prototype.add=Xn.prototype.push=function(t){return this.__data__.set(t,n),this},Xn.prototype.has=function(t){return this.__data__.has(t)},Gn.prototype.clear=function(){this.__data__=new Un,this.size=0},Gn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Gn.prototype.get=function(t){return this.__data__.get(t)},Gn.prototype.has=function(t){return this.__data__.has(t)},Gn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Un){var i=n.__data__;if(!Sn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Yn(i)}return n.set(t,e),this.size=n.size,this};var ci=Rr(mi),fi=Rr(_i,!0);function gi(t,e){var n=!0;return ci(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function di(e,n,i){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=n(a);if(null!=s&&(l===t?s==s&&!ss(s):i(s,l)))var l=s,u=a}return u}function pi(t,e){var n=[];return ci(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function vi(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=xo),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?vi(s,e-1,n,i,r):Fe(r,s):i||(r[r.length]=s)}return r}var xi=Mr(),yi=Mr(!0);function mi(t,e){return t&&xi(t,e,Fs)}function _i(t,e){return t&&yi(t,e,Fs)}function bi(t,e){return Ne(e,(function(e){return Va(t[e])}))}function wi(e,n){for(var i=0,r=(n=yr(n,e)).length;null!=e&&i<r;)e=e[Oo(n[i++])];return i&&i==r?e:t}function ki(t,e,n){var i=e(t);return qa(t)?i:Fe(i,n(t))}function Si(e){return null==e?e===t?"[object Undefined]":"[object Null]":se&&se in At(e)?function(e){var n=Bt.call(e,se),i=e[se];try{e[se]=t;var r=!0}catch(t){}var o=Pt.call(e);return r&&(n?e[se]=i:delete e[se]),o}(e):function(t){return Pt.call(t)}(e)}function Ai(t,e){return t>e}function Ni(t,e){return null!=t&&Bt.call(t,e)}function Ti(t,e){return null!=t&&e in At(t)}function Ci(e,n,i){for(var r=i?Ce:Te,o=e[0].length,a=e.length,s=a,l=_t(a),u=1/0,h=[];s--;){var c=e[s];s&&n&&(c=Ee(c,Xe(n))),u=yn(c.length,u),l[s]=!i&&(n||o>=120&&c.length>=120)?new Xn(s&&c):t}c=e[0];var f=-1,g=l[0];t:for(;++f<o&&h.length<u;){var d=c[f],p=n?n(d):d;if(d=i||0!==d?d:0,!(g?Ze(g,p):r(h,p,i))){for(s=a;--s;){var v=l[s];if(!(v?Ze(v,p):r(e[s],p,i)))continue t}g&&g.push(p),h.push(d)}}return h}function Ei(e,n,i){var r=null==(e=To(e,n=yr(n,e)))?e:e[Oo(Zo(n))];return null==r?t:be(r,e,i)}function Fi(t){return ts(t)&&Si(t)==f}function zi(e,n,i,r,o){return e===n||(null==e||null==n||!ts(e)&&!ts(n)?e!=e&&n!=n:function(e,n,i,r,o,a){var s=qa(e),l=qa(n),u=s?g:go(e),h=l?g:go(n),c=(u=u==f?b:u)==b,x=(h=h==f?b:h)==b,y=u==h;if(y&&Xa(e)){if(!Xa(n))return!1;s=!0,c=!1}if(y&&!c)return a||(a=new Gn),s||ls(e)?to(e,n,i,r,o,a):function(t,e,n,i,r,o,a){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case C:return!(t.byteLength!=e.byteLength||!o(new qt(t),new qt(e)));case d:case p:case _:return Ia(+t,+e);case v:return t.name==e.name&&t.message==e.message;case k:case A:return t==e+"";case m:var s=nn;case S:var l=1&i;if(s||(s=an),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;i|=2,a.set(t,e);var h=to(s(t),s(e),i,r,o,a);return a.delete(t),h;case N:if(Pn)return Pn.call(t)==Pn.call(e)}return!1}(e,n,u,i,r,o,a);if(!(1&i)){var w=c&&Bt.call(e,"__wrapped__"),T=x&&Bt.call(n,"__wrapped__");if(w||T){var F=w?e.value():e,z=T?n.value():n;return a||(a=new Gn),o(F,z,i,r,a)}}return!!y&&(a||(a=new Gn),function(e,n,i,r,o,a){var s=1&i,l=no(e),u=l.length,h=no(n),c=h.length;if(u!=c&&!s)return!1;for(var f=u;f--;){var g=l[f];if(!(s?g in n:Bt.call(n,g)))return!1}var d=a.get(e),p=a.get(n);if(d&&p)return d==n&&p==e;var v=!0;a.set(e,n),a.set(n,e);for(var x=s;++f<u;){var y=e[g=l[f]],m=n[g];if(r)var _=s?r(m,y,g,n,e,a):r(y,m,g,e,n,a);if(!(_===t?y===m||o(y,m,i,r,a):_)){v=!1;break}x||(x="constructor"==g)}if(v&&!x){var b=e.constructor,w=n.constructor;b==w||!("constructor"in e)||!("constructor"in n)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(v=!1)}return a.delete(e),a.delete(n),v}(e,n,i,r,o,a))}(e,n,i,r,zi,o))}function Ri(e,n,i,r){var o=i.length,a=o,s=!r;if(null==e)return!a;for(e=At(e);o--;){var l=i[o];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<a;){var u=(l=i[o])[0],h=e[u],c=l[1];if(s&&l[2]){if(h===t&&!(u in e))return!1}else{var f=new Gn;if(r)var g=r(h,c,u,e,n,f);if(!(g===t?zi(c,h,3,r,f):g))return!1}}return!0}function Mi(t){return!(!Ja(t)||(e=t,Ot&&Ot in e))&&(Va(t)?Dt:ft).test(Po(t));var e}function Bi(t){return"function"==typeof t?t:null==t?nl:"object"==typeof t?qa(t)?Di(t[0],t[1]):Ii(t):cl(t)}function Li(t){if(!ko(t))return vn(t);var e=[];for(var n in At(t))Bt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Oi(t){if(!Ja(t))return function(t){var e=[];if(null!=t)for(var n in At(t))e.push(n);return e}(t);var e=ko(t),n=[];for(var i in t)("constructor"!=i||!e&&Bt.call(t,i))&&n.push(i);return n}function Pi(t,e){return t<e}function $i(t,e){var n=-1,i=Ua(t)?_t(t.length):[];return ci(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Ii(t){var e=uo(t);return 1==e.length&&e[0][2]?Ao(e[0][0],e[0][1]):function(n){return n===t||Ri(n,t,e)}}function Di(e,n){return _o(e)&&So(n)?Ao(Oo(e),n):function(i){var r=As(i,e);return r===t&&r===n?Ns(i,e):zi(n,r,3)}}function Wi(e,n,i,r,o){e!==n&&xi(n,(function(a,s){if(o||(o=new Gn),Ja(a))!function(e,n,i,r,o,a,s){var l=Co(e,i),u=Co(n,i),h=s.get(u);if(h)Jn(e,i,h);else{var c=a?a(l,u,i+"",e,n,s):t,f=c===t;if(f){var g=qa(u),d=!g&&Xa(u),p=!g&&!d&&ls(u);c=u,g||d||p?qa(l)?c=l:Ya(l)?c=Cr(l):d?(f=!1,c=wr(u,!0)):p?(f=!1,c=Sr(u,!0)):c=[]:is(u)||ja(u)?(c=l,ja(l)?c=vs(l):Ja(l)&&!Va(l)||(c=vo(u))):f=!1}f&&(s.set(u,c),o(c,u,r,a,s),s.delete(u)),Jn(e,i,c)}}(e,n,s,i,Wi,r,o);else{var l=r?r(Co(e,s),a,s+"",e,n,o):t;l===t&&(l=a),Jn(e,s,l)}}),zs)}function ji(e,n){var i=e.length;if(i)return yo(n+=n<0?i:0,i)?e[n]:t}function qi(t,e,n){e=e.length?Ee(e,(function(t){return qa(t)?function(e){return wi(e,1===t.length?t[0]:t)}:t})):[nl];var i=-1;e=Ee(e,Xe(so()));var r=$i(t,(function(t,n,r){var o=Ee(e,(function(e){return e(t)}));return{criteria:o,index:++i,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(r,(function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var l=Ar(r[i],o[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)}))}function Hi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=wi(t,a);n(s,a)&&Qi(o,yr(a,t),s)}return o}function Ui(t,e,n,i){var r=i?$e:Pe,o=-1,a=e.length,s=t;for(t===e&&(e=Cr(e)),n&&(s=Ee(t,Xe(n)));++o<a;)for(var l=0,u=e[o],h=n?n(u):u;(l=r(s,h,l,i))>-1;)s!==t&&Vt.call(s,l,1),Vt.call(t,l,1);return t}function Yi(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;yo(r)?Vt.call(t,r,1):hr(t,r)}}return t}function Xi(t,e){return t+Be(bn()*(e-t+1))}function Gi(t,e){var n="";if(!t||e<1||e>l)return n;do{e%2&&(n+=t),(e=Be(e/2))&&(t+=t)}while(e);return n}function Zi(t,e){return zo(No(t,e,nl),t+"")}function Vi(t){return Vn(Is(t))}function Ki(t,e){var n=Is(t);return Bo(n,ai(e,0,n.length))}function Qi(e,n,i,r){if(!Ja(e))return e;for(var o=-1,a=(n=yr(n,e)).length,s=a-1,l=e;null!=l&&++o<a;){var u=Oo(n[o]),h=i;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=s){var c=l[u];(h=r?r(c,u,l):t)===t&&(h=Ja(c)?c:yo(n[o+1])?[]:{})}ti(l,u,h),l=l[u]}return e}var Ji=En?function(t,e){return En.set(t,e),t}:nl,tr=le?function(t,e){return le(t,"toString",{configurable:!0,enumerable:!1,value:Js(e),writable:!0})}:nl;function er(t){return Bo(Is(t))}function nr(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=_t(r);++i<r;)o[i]=t[i+e];return o}function ir(t,e){var n;return ci(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function rr(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!ss(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return or(t,e,nl,n)}function or(e,n,i,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(n=i(n))!=n,l=null===n,u=ss(n),h=n===t;o<a;){var c=Be((o+a)/2),f=i(e[c]),g=f!==t,d=null===f,p=f==f,v=ss(f);if(s)var x=r||p;else x=h?p&&(r||g):l?p&&g&&(r||!d):u?p&&g&&!d&&(r||!v):!d&&!v&&(r?f<=n:f<n);x?o=c+1:a=c}return yn(a,4294967294)}function ar(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!Ia(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function sr(t){return"number"==typeof t?t:ss(t)?u:+t}function lr(t){if("string"==typeof t)return t;if(qa(t))return Ee(t,lr)+"";if(ss(t))return $n?$n.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ur(t,e,n){var i=-1,r=Te,o=t.length,a=!0,s=[],l=s;if(n)a=!1,r=Ce;else if(o>=200){var u=e?null:Gr(t);if(u)return an(u);a=!1,r=Ze,l=new Xn}else l=e?[]:s;t:for(;++i<o;){var h=t[i],c=e?e(h):h;if(h=n||0!==h?h:0,a&&c==c){for(var f=l.length;f--;)if(l[f]===c)continue t;e&&l.push(c),s.push(h)}else r(l,c,n)||(l!==s&&l.push(c),s.push(h))}return s}function hr(t,e){return null==(t=To(t,e=yr(e,t)))||delete t[Oo(Zo(e))]}function cr(t,e,n,i){return Qi(t,e,n(wi(t,e)),i)}function fr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?nr(t,i?0:o,i?o+1:r):nr(t,i?o+1:0,i?r:o)}function gr(t,e){var n=t;return n instanceof qn&&(n=n.value()),ze(e,(function(t,e){return e.func.apply(e.thisArg,Fe([t],e.args))}),n)}function dr(t,e,n){var i=t.length;if(i<2)return i?ur(t[0]):[];for(var r=-1,o=_t(i);++r<i;)for(var a=t[r],s=-1;++s<i;)s!=r&&(o[r]=hi(o[r]||a,t[s],e,n));return ur(vi(o,1),e,n)}function pr(e,n,i){for(var r=-1,o=e.length,a=n.length,s={};++r<o;){var l=r<a?n[r]:t;i(s,e[r],l)}return s}function vr(t){return Ya(t)?t:[]}function xr(t){return"function"==typeof t?t:nl}function yr(t,e){return qa(t)?t:_o(t,e)?[t]:Lo(xs(t))}var mr=Zi;function _r(e,n,i){var r=e.length;return i=i===t?r:i,!n&&i>=r?e:nr(e,n,i)}var br=he||function(t){return ue.clearTimeout(t)};function wr(t,e){if(e)return t.slice();var n=t.length,i=Ht?Ht(n):new t.constructor(n);return t.copy(i),i}function kr(t){var e=new t.constructor(t.byteLength);return new qt(e).set(new qt(t)),e}function Sr(t,e){var n=e?kr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ar(e,n){if(e!==n){var i=e!==t,r=null===e,o=e==e,a=ss(e),s=n!==t,l=null===n,u=n==n,h=ss(n);if(!l&&!h&&!a&&e>n||a&&s&&u&&!l&&!h||r&&s&&u||!i&&u||!o)return 1;if(!r&&!a&&!h&&e<n||h&&i&&o&&!r&&!a||l&&i&&o||!s&&o||!u)return-1}return 0}function Nr(t,e,n,i){for(var r=-1,o=t.length,a=n.length,s=-1,l=e.length,u=xn(o-a,0),h=_t(l+u),c=!i;++s<l;)h[s]=e[s];for(;++r<a;)(c||r<o)&&(h[n[r]]=t[r]);for(;u--;)h[s++]=t[r++];return h}function Tr(t,e,n,i){for(var r=-1,o=t.length,a=-1,s=n.length,l=-1,u=e.length,h=xn(o-s,0),c=_t(h+u),f=!i;++r<h;)c[r]=t[r];for(var g=r;++l<u;)c[g+l]=e[l];for(;++a<s;)(f||r<o)&&(c[g+n[a]]=t[r++]);return c}function Cr(t,e){var n=-1,i=t.length;for(e||(e=_t(i));++n<i;)e[n]=t[n];return e}function Er(e,n,i,r){var o=!i;i||(i={});for(var a=-1,s=n.length;++a<s;){var l=n[a],u=r?r(i[l],e[l],l,i,e):t;u===t&&(u=e[l]),o?ri(i,l,u):ti(i,l,u)}return i}function Fr(t,e){return function(n,i){var r=qa(n)?we:ni,o=e?e():{};return r(n,t,so(i,2),o)}}function zr(e){return Zi((function(n,i){var r=-1,o=i.length,a=o>1?i[o-1]:t,s=o>2?i[2]:t;for(a=e.length>3&&"function"==typeof a?(o--,a):t,s&&mo(i[0],i[1],s)&&(a=o<3?t:a,o=1),n=At(n);++r<o;){var l=i[r];l&&e(n,l,r,a)}return n}))}function Rr(t,e){return function(n,i){if(null==n)return n;if(!Ua(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=At(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function Mr(t){return function(e,n,i){for(var r=-1,o=At(e),a=i(e),s=a.length;s--;){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}}function Br(e){return function(n){var i=en(n=xs(n))?un(n):t,r=i?i[0]:n.charAt(0),o=i?_r(i,1).join(""):n.slice(1);return r[e]()+o}}function Lr(t){return function(e){return ze(Vs(js(e).replace(Gt,"")),t,"")}}function Or(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Dn(t.prototype),i=t.apply(n,e);return Ja(i)?i:n}}function Pr(e){return function(n,i,r){var o=At(n);if(!Ua(n)){var a=so(i,3);n=Fs(n),i=function(t){return a(o[t],t,o)}}var s=e(n,i,r);return s>-1?o[a?n[s]:s]:t}}function $r(n){return eo((function(i){var r=i.length,o=r,a=jn.prototype.thru;for(n&&i.reverse();o--;){var s=i[o];if("function"!=typeof s)throw new Ct(e);if(a&&!l&&"wrapper"==oo(s))var l=new jn([],!0)}for(o=l?o:r;++o<r;){var u=oo(s=i[o]),h="wrapper"==u?ro(s):t;l=h&&bo(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?l[oo(h[0])].apply(l,h[3]):1==s.length&&bo(s)?l[u]():l.thru(s)}return function(){var t=arguments,e=t[0];if(l&&1==t.length&&qa(e))return l.plant(e).value();for(var n=0,o=r?i[n].apply(this,t):e;++n<r;)o=i[n].call(this,o);return o}}))}function Ir(e,n,i,r,a,s,l,u,h,c){var f=n&o,g=1&n,d=2&n,p=24&n,v=512&n,x=d?t:Or(e);return function o(){for(var y=arguments.length,m=_t(y),_=y;_--;)m[_]=arguments[_];if(p)var b=ao(o),w=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(m,b);if(r&&(m=Nr(m,r,a,p)),s&&(m=Tr(m,s,l,p)),y-=w,p&&y<c){var k=on(m,b);return Yr(e,n,Ir,o.placeholder,i,m,k,u,h,c-y)}var S=g?i:this,A=d?S[e]:e;return y=m.length,u?m=function(e,n){for(var i=e.length,r=yn(n.length,i),o=Cr(e);r--;){var a=n[r];e[r]=yo(a,i)?o[a]:t}return e}(m,u):v&&y>1&&m.reverse(),f&&h<y&&(m.length=h),this&&this!==ue&&this instanceof o&&(A=x||Or(A)),A.apply(S,m)}}function Dr(t,e){return function(n,i){return function(t,e,n,i){return mi(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}}function Wr(e,n){return function(i,r){var o;if(i===t&&r===t)return n;if(i!==t&&(o=i),r!==t){if(o===t)return r;"string"==typeof i||"string"==typeof r?(i=lr(i),r=lr(r)):(i=sr(i),r=sr(r)),o=e(i,r)}return o}}function jr(t){return eo((function(e){return e=Ee(e,Xe(so())),Zi((function(n){var i=this;return t(e,(function(t){return be(t,i,n)}))}))}))}function qr(e,n){var i=(n=n===t?" ":lr(n)).length;if(i<2)return i?Gi(n,e):n;var r=Gi(n,de(e/ln(n)));return en(n)?_r(un(r),0,e).join(""):r.slice(0,e)}function Hr(e){return function(n,i,r){return r&&"number"!=typeof r&&mo(n,i,r)&&(i=r=t),n=fs(n),i===t?(i=n,n=0):i=fs(i),function(t,e,n,i){for(var r=-1,o=xn(de((e-t)/(n||1)),0),a=_t(o);o--;)a[i?o:++r]=t,t+=n;return a}(n,i,r=r===t?n<i?1:-1:fs(r),e)}}function Ur(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ps(e),n=ps(n)),t(e,n)}}function Yr(e,n,i,o,a,s,l,u,h,c){var f=8&n;n|=f?r:64,4&(n&=~(f?64:r))||(n&=-4);var g=[e,n,a,f?s:t,f?l:t,f?t:s,f?t:l,u,h,c],d=i.apply(t,g);return bo(e)&&Eo(d,g),d.placeholder=o,Ro(d,e,n)}function Xr(t){var e=St[t];return function(t,n){if(t=ps(t),(n=null==n?0:yn(gs(n),292))&&dn(t)){var i=(xs(t)+"e").split("e");return+((i=(xs(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Gr=Nn&&1/an(new Nn([,-0]))[1]==s?function(t){return new Nn(t)}:sl;function Zr(t){return function(e){var n=go(e);return n==m?nn(e):n==S?sn(e):function(t,e){return Ee(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Vr(n,s,l,u,h,c,f,g){var d=2&s;if(!d&&"function"!=typeof n)throw new Ct(e);var p=u?u.length:0;if(p||(s&=-97,u=h=t),f=f===t?f:xn(gs(f),0),g=g===t?g:gs(g),p-=h?h.length:0,64&s){var v=u,x=h;u=h=t}var y=d?t:ro(n),m=[n,s,l,u,h,v,x,c,f,g];if(y&&function(t,e){var n=t[1],r=e[1],s=n|r,l=s<131,u=r==o&&8==n||r==o&&n==a&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!l&&!u)return t;1&r&&(t[2]=e[2],s|=1&n?0:4);var h=e[3];if(h){var c=t[3];t[3]=c?Nr(c,h,e[4]):h,t[4]=c?on(t[3],i):e[4]}(h=e[5])&&(c=t[5],t[5]=c?Tr(c,h,e[6]):h,t[6]=c?on(t[5],i):e[6]),(h=e[7])&&(t[7]=h),r&o&&(t[8]=null==t[8]?e[8]:yn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=s}(m,y),n=m[0],s=m[1],l=m[2],u=m[3],h=m[4],!(g=m[9]=m[9]===t?d?0:n.length:xn(m[9]-p,0))&&24&s&&(s&=-25),s&&1!=s)_=8==s||16==s?function(e,n,i){var r=Or(e);return function o(){for(var a=arguments.length,s=_t(a),l=a,u=ao(o);l--;)s[l]=arguments[l];var h=a<3&&s[0]!==u&&s[a-1]!==u?[]:on(s,u);return(a-=h.length)<i?Yr(e,n,Ir,o.placeholder,t,s,h,t,t,i-a):be(this&&this!==ue&&this instanceof o?r:e,this,s)}}(n,s,g):s!=r&&33!=s||h.length?Ir.apply(t,m):function(t,e,n,i){var r=1&e,o=Or(t);return function e(){for(var a=-1,s=arguments.length,l=-1,u=i.length,h=_t(u+s),c=this&&this!==ue&&this instanceof e?o:t;++l<u;)h[l]=i[l];for(;s--;)h[l++]=arguments[++a];return be(c,r?n:this,h)}}(n,s,l,u);else var _=function(t,e,n){var i=1&e,r=Or(t);return function e(){return(this&&this!==ue&&this instanceof e?r:t).apply(i?n:this,arguments)}}(n,s,l);return Ro((y?Ji:Eo)(_,m),n,s)}function Kr(e,n,i,r){return e===t||Ia(e,zt[i])&&!Bt.call(r,i)?n:e}function Qr(e,n,i,r,o,a){return Ja(e)&&Ja(n)&&(a.set(n,e),Wi(e,n,t,Qr,a),a.delete(n)),e}function Jr(e){return is(e)?t:e}function to(e,n,i,r,o,a){var s=1&i,l=e.length,u=n.length;if(l!=u&&!(s&&u>l))return!1;var h=a.get(e),c=a.get(n);if(h&&c)return h==n&&c==e;var f=-1,g=!0,d=2&i?new Xn:t;for(a.set(e,n),a.set(n,e);++f<l;){var p=e[f],v=n[f];if(r)var x=s?r(v,p,f,n,e,a):r(p,v,f,e,n,a);if(x!==t){if(x)continue;g=!1;break}if(d){if(!Me(n,(function(t,e){if(!Ze(d,e)&&(p===t||o(p,t,i,r,a)))return d.push(e)}))){g=!1;break}}else if(p!==v&&!o(p,v,i,r,a)){g=!1;break}}return a.delete(e),a.delete(n),g}function eo(e){return zo(No(e,t,Ho),e+"")}function no(t){return ki(t,Fs,co)}function io(t){return ki(t,zs,fo)}var ro=En?function(t){return En.get(t)}:sl;function oo(t){for(var e=t.name+"",n=Fn[e],i=Bt.call(Fn,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function ao(t){return(Bt.call(In,"placeholder")?In:t).placeholder}function so(){var t=In.iteratee||il;return t=t===il?Bi:t,arguments.length?t(arguments[0],arguments[1]):t}function lo(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function uo(t){for(var e=Fs(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,So(r)]}return e}function ho(e,n){var i=function(e,n){return null==e?t:e[n]}(e,n);return Mi(i)?i:t}var co=je?function(t){return null==t?[]:(t=At(t),Ne(je(t),(function(e){return Xt.call(t,e)})))}:dl,fo=je?function(t){for(var e=[];t;)Fe(e,co(t)),t=Ut(t);return e}:dl,go=Si;function po(t,e,n){for(var i=-1,r=(e=yr(e,t)).length,o=!1;++i<r;){var a=Oo(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Qa(r)&&yo(a,r)&&(qa(t)||ja(t))}function vo(t){return"function"!=typeof t.constructor||ko(t)?{}:Dn(Ut(t))}function xo(t){return qa(t)||ja(t)||!!(Qt&&t&&t[Qt])}function yo(t,e){var n=typeof t;return!!(e=null==e?l:e)&&("number"==n||"symbol"!=n&&dt.test(t))&&t>-1&&t%1==0&&t<e}function mo(t,e,n){if(!Ja(n))return!1;var i=typeof e;return!!("number"==i?Ua(n)&&yo(e,n.length):"string"==i&&e in n)&&Ia(n[e],t)}function _o(t,e){if(qa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ss(t))||V.test(t)||!Z.test(t)||null!=e&&t in At(e)}function bo(t){var e=oo(t),n=In[e];if("function"!=typeof n||!(e in qn.prototype))return!1;if(t===n)return!0;var i=ro(n);return!!i&&t===i[0]}(kn&&go(new kn(new ArrayBuffer(1)))!=E||Sn&&go(new Sn)!=m||An&&go(An.resolve())!=w||Nn&&go(new Nn)!=S||Tn&&go(new Tn)!=T)&&(go=function(e){var n=Si(e),i=n==b?e.constructor:t,r=i?Po(i):"";if(r)switch(r){case zn:return E;case Rn:return m;case Mn:return w;case Bn:return S;case Ln:return T}return n});var wo=Rt?Va:pl;function ko(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||zt)}function So(t){return t==t&&!Ja(t)}function Ao(e,n){return function(i){return null!=i&&i[e]===n&&(n!==t||e in At(i))}}function No(e,n,i){return n=xn(n===t?e.length-1:n,0),function(){for(var t=arguments,r=-1,o=xn(t.length-n,0),a=_t(o);++r<o;)a[r]=t[n+r];r=-1;for(var s=_t(n+1);++r<n;)s[r]=t[r];return s[n]=i(a),be(e,this,s)}}function To(t,e){return e.length<2?t:wi(t,nr(e,0,-1))}function Co(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Eo=Mo(Ji),Fo=ge||function(t,e){return ue.setTimeout(t,e)},zo=Mo(tr);function Ro(t,e,n){var i=e+"";return zo(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(nt,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return ke(c,(function(n){var i="_."+n[0];e&n[1]&&!Te(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(it);return e?e[1].split(rt):[]}(i),n)))}function Mo(e){var n=0,i=0;return function(){var r=mn(),o=16-(r-i);if(i=r,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(t,arguments)}}function Bo(e,n){var i=-1,r=e.length,o=r-1;for(n=n===t?r:n;++i<n;){var a=Xi(i,o),s=e[a];e[a]=e[i],e[i]=s}return e.length=n,e}var Lo=function(t){var e=Ma(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(K,(function(t,n,i,r){e.push(i?r.replace(st,"$1"):n||t)})),e}));function Oo(t){if("string"==typeof t||ss(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Po(t){if(null!=t){try{return Mt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function $o(t){if(t instanceof qn)return t.clone();var e=new jn(t.__wrapped__,t.__chain__);return e.__actions__=Cr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Io=Zi((function(t,e){return Ya(t)?hi(t,vi(e,1,Ya,!0)):[]})),Do=Zi((function(e,n){var i=Zo(n);return Ya(i)&&(i=t),Ya(e)?hi(e,vi(n,1,Ya,!0),so(i,2)):[]})),Wo=Zi((function(e,n){var i=Zo(n);return Ya(i)&&(i=t),Ya(e)?hi(e,vi(n,1,Ya,!0),t,i):[]}));function jo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:gs(n);return r<0&&(r=xn(i+r,0)),Oe(t,so(e,3),r)}function qo(e,n,i){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return i!==t&&(o=gs(i),o=i<0?xn(r+o,0):yn(o,r-1)),Oe(e,so(n,3),o,!0)}function Ho(t){return null!=t&&t.length?vi(t,1):[]}function Uo(e){return e&&e.length?e[0]:t}var Yo=Zi((function(t){var e=Ee(t,vr);return e.length&&e[0]===t[0]?Ci(e):[]})),Xo=Zi((function(e){var n=Zo(e),i=Ee(e,vr);return n===Zo(i)?n=t:i.pop(),i.length&&i[0]===e[0]?Ci(i,so(n,2)):[]})),Go=Zi((function(e){var n=Zo(e),i=Ee(e,vr);return(n="function"==typeof n?n:t)&&i.pop(),i.length&&i[0]===e[0]?Ci(i,t,n):[]}));function Zo(e){var n=null==e?0:e.length;return n?e[n-1]:t}var Vo=Zi(Ko);function Ko(t,e){return t&&t.length&&e&&e.length?Ui(t,e):t}var Qo=eo((function(t,e){var n=null==t?0:t.length,i=oi(t,e);return Yi(t,Ee(e,(function(t){return yo(t,n)?+t:t})).sort(Ar)),i}));function Jo(t){return null==t?t:wn.call(t)}var ta=Zi((function(t){return ur(vi(t,1,Ya,!0))})),ea=Zi((function(e){var n=Zo(e);return Ya(n)&&(n=t),ur(vi(e,1,Ya,!0),so(n,2))})),na=Zi((function(e){var n=Zo(e);return n="function"==typeof n?n:t,ur(vi(e,1,Ya,!0),t,n)}));function ia(t){if(!t||!t.length)return[];var e=0;return t=Ne(t,(function(t){if(Ya(t))return e=xn(t.length,e),!0})),Ue(e,(function(e){return Ee(t,We(e))}))}function ra(e,n){if(!e||!e.length)return[];var i=ia(e);return null==n?i:Ee(i,(function(e){return be(n,t,e)}))}var oa=Zi((function(t,e){return Ya(t)?hi(t,e):[]})),aa=Zi((function(t){return dr(Ne(t,Ya))})),sa=Zi((function(e){var n=Zo(e);return Ya(n)&&(n=t),dr(Ne(e,Ya),so(n,2))})),la=Zi((function(e){var n=Zo(e);return n="function"==typeof n?n:t,dr(Ne(e,Ya),t,n)})),ua=Zi(ia),ha=Zi((function(e){var n=e.length,i=n>1?e[n-1]:t;return i="function"==typeof i?(e.pop(),i):t,ra(e,i)}));function ca(t){var e=In(t);return e.__chain__=!0,e}function fa(t,e){return e(t)}var ga=eo((function(e){var n=e.length,i=n?e[0]:0,r=this.__wrapped__,o=function(t){return oi(t,e)};return!(n>1||this.__actions__.length)&&r instanceof qn&&yo(i)?((r=r.slice(i,+i+(n?1:0))).__actions__.push({func:fa,args:[o],thisArg:t}),new jn(r,this.__chain__).thru((function(e){return n&&!e.length&&e.push(t),e}))):this.thru(o)})),da=Fr((function(t,e,n){Bt.call(t,n)?++t[n]:ri(t,n,1)})),pa=Pr(jo),va=Pr(qo);function xa(t,e){return(qa(t)?ke:ci)(t,so(e,3))}function ya(t,e){return(qa(t)?Se:fi)(t,so(e,3))}var ma=Fr((function(t,e,n){Bt.call(t,n)?t[n].push(e):ri(t,n,[e])})),_a=Zi((function(t,e,n){var i=-1,r="function"==typeof e,o=Ua(t)?_t(t.length):[];return ci(t,(function(t){o[++i]=r?be(e,t,n):Ei(t,e,n)})),o})),ba=Fr((function(t,e,n){ri(t,n,e)}));function wa(t,e){return(qa(t)?Ee:$i)(t,so(e,3))}var ka=Fr((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Sa=Zi((function(t,e){if(null==t)return[];var n=e.length;return n>1&&mo(t,e[0],e[1])?e=[]:n>2&&mo(e[0],e[1],e[2])&&(e=[e[0]]),qi(t,vi(e,1),[])})),Aa=ce||function(){return ue.Date.now()};function Na(e,n,i){return n=i?t:n,n=e&&null==n?e.length:n,Vr(e,o,t,t,t,t,n)}function Ta(n,i){var r;if("function"!=typeof i)throw new Ct(e);return n=gs(n),function(){return--n>0&&(r=i.apply(this,arguments)),n<=1&&(i=t),r}}var Ca=Zi((function(t,e,n){var i=1;if(n.length){var o=on(n,ao(Ca));i|=r}return Vr(t,i,e,n,o)})),Ea=Zi((function(t,e,n){var i=3;if(n.length){var o=on(n,ao(Ea));i|=r}return Vr(e,i,t,n,o)}));function Fa(n,i,r){var o,a,s,l,u,h,c=0,f=!1,g=!1,d=!0;if("function"!=typeof n)throw new Ct(e);function p(e){var i=o,r=a;return o=a=t,c=e,l=n.apply(r,i)}function v(e){var n=e-h;return h===t||n>=i||n<0||g&&e-c>=s}function x(){var t=Aa();if(v(t))return y(t);u=Fo(x,function(t){var e=i-(t-h);return g?yn(e,s-(t-c)):e}(t))}function y(e){return u=t,d&&o?p(e):(o=a=t,l)}function m(){var e=Aa(),n=v(e);if(o=arguments,a=this,h=e,n){if(u===t)return function(t){return c=t,u=Fo(x,i),f?p(t):l}(h);if(g)return br(u),u=Fo(x,i),p(h)}return u===t&&(u=Fo(x,i)),l}return i=ps(i)||0,Ja(r)&&(f=!!r.leading,s=(g="maxWait"in r)?xn(ps(r.maxWait)||0,i):s,d="trailing"in r?!!r.trailing:d),m.cancel=function(){u!==t&&br(u),c=0,o=h=a=u=t},m.flush=function(){return u===t?l:y(Aa())},m}var za=Zi((function(t,e){return ui(t,1,e)})),Ra=Zi((function(t,e,n){return ui(t,ps(e)||0,n)}));function Ma(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new Ct(e);var i=function(){var e=arguments,r=n?n.apply(this,e):e[0],o=i.cache;if(o.has(r))return o.get(r);var a=t.apply(this,e);return i.cache=o.set(r,a)||o,a};return i.cache=new(Ma.Cache||Yn),i}function Ba(t){if("function"!=typeof t)throw new Ct(e);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ma.Cache=Yn;var La=mr((function(t,e){var n=(e=1==e.length&&qa(e[0])?Ee(e[0],Xe(so())):Ee(vi(e,1),Xe(so()))).length;return Zi((function(i){for(var r=-1,o=yn(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return be(t,this,i)}))})),Oa=Zi((function(e,n){var i=on(n,ao(Oa));return Vr(e,r,t,n,i)})),Pa=Zi((function(e,n){var i=on(n,ao(Pa));return Vr(e,64,t,n,i)})),$a=eo((function(e,n){return Vr(e,a,t,t,t,n)}));function Ia(t,e){return t===e||t!=t&&e!=e}var Da=Ur(Ai),Wa=Ur((function(t,e){return t>=e})),ja=Fi(function(){return arguments}())?Fi:function(t){return ts(t)&&Bt.call(t,"callee")&&!Xt.call(t,"callee")},qa=_t.isArray,Ha=pe?Xe(pe):function(t){return ts(t)&&Si(t)==C};function Ua(t){return null!=t&&Qa(t.length)&&!Va(t)}function Ya(t){return ts(t)&&Ua(t)}var Xa=gn||pl,Ga=ve?Xe(ve):function(t){return ts(t)&&Si(t)==p};function Za(t){if(!ts(t))return!1;var e=Si(t);return e==v||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!is(t)}function Va(t){if(!Ja(t))return!1;var e=Si(t);return e==x||e==y||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ka(t){return"number"==typeof t&&t==gs(t)}function Qa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=l}function Ja(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ts(t){return null!=t&&"object"==typeof t}var es=xe?Xe(xe):function(t){return ts(t)&&go(t)==m};function ns(t){return"number"==typeof t||ts(t)&&Si(t)==_}function is(t){if(!ts(t)||Si(t)!=b)return!1;var e=Ut(t);if(null===e)return!0;var n=Bt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Mt.call(n)==$t}var rs=ye?Xe(ye):function(t){return ts(t)&&Si(t)==k},os=me?Xe(me):function(t){return ts(t)&&go(t)==S};function as(t){return"string"==typeof t||!qa(t)&&ts(t)&&Si(t)==A}function ss(t){return"symbol"==typeof t||ts(t)&&Si(t)==N}var ls=_e?Xe(_e):function(t){return ts(t)&&Qa(t.length)&&!!ne[Si(t)]},us=Ur(Pi),hs=Ur((function(t,e){return t<=e}));function cs(t){if(!t)return[];if(Ua(t))return as(t)?un(t):Cr(t);if(re&&t[re])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[re]());var e=go(t);return(e==m?nn:e==S?an:Is)(t)}function fs(t){return t?(t=ps(t))===s||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function gs(t){var e=fs(t),n=e%1;return e==e?n?e-n:e:0}function ds(t){return t?ai(gs(t),0,h):0}function ps(t){if("number"==typeof t)return t;if(ss(t))return u;if(Ja(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ja(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ye(t);var n=ct.test(t);return n||gt.test(t)?ae(t.slice(2),n?2:8):ht.test(t)?u:+t}function vs(t){return Er(t,zs(t))}function xs(t){return null==t?"":lr(t)}var ys=zr((function(t,e){if(ko(e)||Ua(e))Er(e,Fs(e),t);else for(var n in e)Bt.call(e,n)&&ti(t,n,e[n])})),ms=zr((function(t,e){Er(e,zs(e),t)})),_s=zr((function(t,e,n,i){Er(e,zs(e),t,i)})),bs=zr((function(t,e,n,i){Er(e,Fs(e),t,i)})),ws=eo(oi),ks=Zi((function(e,n){e=At(e);var i=-1,r=n.length,o=r>2?n[2]:t;for(o&&mo(n[0],n[1],o)&&(r=1);++i<r;)for(var a=n[i],s=zs(a),l=-1,u=s.length;++l<u;){var h=s[l],c=e[h];(c===t||Ia(c,zt[h])&&!Bt.call(e,h))&&(e[h]=a[h])}return e})),Ss=Zi((function(e){return e.push(t,Qr),be(Ms,t,e)}));function As(e,n,i){var r=null==e?t:wi(e,n);return r===t?i:r}function Ns(t,e){return null!=t&&po(t,e,Ti)}var Ts=Dr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Pt.call(e)),t[e]=n}),Js(nl)),Cs=Dr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Pt.call(e)),Bt.call(t,e)?t[e].push(n):t[e]=[n]}),so),Es=Zi(Ei);function Fs(t){return Ua(t)?Zn(t):Li(t)}function zs(t){return Ua(t)?Zn(t,!0):Oi(t)}var Rs=zr((function(t,e,n){Wi(t,e,n)})),Ms=zr((function(t,e,n,i){Wi(t,e,n,i)})),Bs=eo((function(t,e){var n={};if(null==t)return n;var i=!1;e=Ee(e,(function(e){return e=yr(e,t),i||(i=e.length>1),e})),Er(t,io(t),n),i&&(n=si(n,7,Jr));for(var r=e.length;r--;)hr(n,e[r]);return n})),Ls=eo((function(t,e){return null==t?{}:function(t,e){return Hi(t,e,(function(e,n){return Ns(t,n)}))}(t,e)}));function Os(t,e){if(null==t)return{};var n=Ee(io(t),(function(t){return[t]}));return e=so(e),Hi(t,n,(function(t,n){return e(t,n[0])}))}var Ps=Zr(Fs),$s=Zr(zs);function Is(t){return null==t?[]:Ge(t,Fs(t))}var Ds=Lr((function(t,e,n){return e=e.toLowerCase(),t+(n?Ws(e):e)}));function Ws(t){return Zs(xs(t).toLowerCase())}function js(t){return(t=xs(t))&&t.replace(pt,Qe).replace(Zt,"")}var qs=Lr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Hs=Lr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Us=Br("toLowerCase"),Ys=Lr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Xs=Lr((function(t,e,n){return t+(n?" ":"")+Zs(e)})),Gs=Lr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Zs=Br("toUpperCase");function Vs(e,n,i){return e=xs(e),(n=i?t:n)===t?function(t){return Jt.test(t)}(e)?function(t){return t.match(Kt)||[]}(e):function(t){return t.match(ot)||[]}(e):e.match(n)||[]}var Ks=Zi((function(e,n){try{return be(e,t,n)}catch(t){return Za(t)?t:new wt(t)}})),Qs=eo((function(t,e){return ke(e,(function(e){e=Oo(e),ri(t,e,Ca(t[e],t))})),t}));function Js(t){return function(){return t}}var tl=$r(),el=$r(!0);function nl(t){return t}function il(t){return Bi("function"==typeof t?t:si(t,1))}var rl=Zi((function(t,e){return function(n){return Ei(n,t,e)}})),ol=Zi((function(t,e){return function(n){return Ei(t,n,e)}}));function al(t,e,n){var i=Fs(e),r=bi(e,i);null!=n||Ja(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=bi(e,Fs(e)));var o=!(Ja(n)&&"chain"in n&&!n.chain),a=Va(t);return ke(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Cr(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,Fe([this.value()],arguments))})})),t}function sl(){}var ll=jr(Ee),ul=jr(Ae),hl=jr(Me);function cl(t){return _o(t)?We(Oo(t)):function(t){return function(e){return wi(e,t)}}(t)}var fl=Hr(),gl=Hr(!0);function dl(){return[]}function pl(){return!1}var vl=Wr((function(t,e){return t+e}),0),xl=Xr("ceil"),yl=Wr((function(t,e){return t/e}),1),ml=Xr("floor"),_l=Wr((function(t,e){return t*e}),1),bl=Xr("round"),wl=Wr((function(t,e){return t-e}),0);return In.after=function(t,n){if("function"!=typeof n)throw new Ct(e);return t=gs(t),function(){if(--t<1)return n.apply(this,arguments)}},In.ary=Na,In.assign=ys,In.assignIn=ms,In.assignInWith=_s,In.assignWith=bs,In.at=ws,In.before=Ta,In.bind=Ca,In.bindAll=Qs,In.bindKey=Ea,In.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return qa(t)?t:[t]},In.chain=ca,In.chunk=function(e,n,i){n=(i?mo(e,n,i):n===t)?1:xn(gs(n),0);var r=null==e?0:e.length;if(!r||n<1)return[];for(var o=0,a=0,s=_t(de(r/n));o<r;)s[a++]=nr(e,o,o+=n);return s},In.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},In.concat=function(){var t=arguments.length;if(!t)return[];for(var e=_t(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Fe(qa(n)?Cr(n):[n],vi(e,1))},In.cond=function(t){var n=null==t?0:t.length,i=so();return t=n?Ee(t,(function(t){if("function"!=typeof t[1])throw new Ct(e);return[i(t[0]),t[1]]})):[],Zi((function(e){for(var i=-1;++i<n;){var r=t[i];if(be(r[0],this,e))return be(r[1],this,e)}}))},In.conforms=function(t){return function(t){var e=Fs(t);return function(n){return li(n,t,e)}}(si(t,1))},In.constant=Js,In.countBy=da,In.create=function(t,e){var n=Dn(t);return null==e?n:ii(n,e)},In.curry=function e(n,i,r){var o=Vr(n,8,t,t,t,t,t,i=r?t:i);return o.placeholder=e.placeholder,o},In.curryRight=function e(n,i,r){var o=Vr(n,16,t,t,t,t,t,i=r?t:i);return o.placeholder=e.placeholder,o},In.debounce=Fa,In.defaults=ks,In.defaultsDeep=Ss,In.defer=za,In.delay=Ra,In.difference=Io,In.differenceBy=Do,In.differenceWith=Wo,In.drop=function(e,n,i){var r=null==e?0:e.length;return r?nr(e,(n=i||n===t?1:gs(n))<0?0:n,r):[]},In.dropRight=function(e,n,i){var r=null==e?0:e.length;return r?nr(e,0,(n=r-(n=i||n===t?1:gs(n)))<0?0:n):[]},In.dropRightWhile=function(t,e){return t&&t.length?fr(t,so(e,3),!0,!0):[]},In.dropWhile=function(t,e){return t&&t.length?fr(t,so(e,3),!0):[]},In.fill=function(e,n,i,r){var o=null==e?0:e.length;return o?(i&&"number"!=typeof i&&mo(e,n,i)&&(i=0,r=o),function(e,n,i,r){var o=e.length;for((i=gs(i))<0&&(i=-i>o?0:o+i),(r=r===t||r>o?o:gs(r))<0&&(r+=o),r=i>r?0:ds(r);i<r;)e[i++]=n;return e}(e,n,i,r)):[]},In.filter=function(t,e){return(qa(t)?Ne:pi)(t,so(e,3))},In.flatMap=function(t,e){return vi(wa(t,e),1)},In.flatMapDeep=function(t,e){return vi(wa(t,e),s)},In.flatMapDepth=function(e,n,i){return i=i===t?1:gs(i),vi(wa(e,n),i)},In.flatten=Ho,In.flattenDeep=function(t){return null!=t&&t.length?vi(t,s):[]},In.flattenDepth=function(e,n){return null!=e&&e.length?vi(e,n=n===t?1:gs(n)):[]},In.flip=function(t){return Vr(t,512)},In.flow=tl,In.flowRight=el,In.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},In.functions=function(t){return null==t?[]:bi(t,Fs(t))},In.functionsIn=function(t){return null==t?[]:bi(t,zs(t))},In.groupBy=ma,In.initial=function(t){return null!=t&&t.length?nr(t,0,-1):[]},In.intersection=Yo,In.intersectionBy=Xo,In.intersectionWith=Go,In.invert=Ts,In.invertBy=Cs,In.invokeMap=_a,In.iteratee=il,In.keyBy=ba,In.keys=Fs,In.keysIn=zs,In.map=wa,In.mapKeys=function(t,e){var n={};return e=so(e,3),mi(t,(function(t,i,r){ri(n,e(t,i,r),t)})),n},In.mapValues=function(t,e){var n={};return e=so(e,3),mi(t,(function(t,i,r){ri(n,i,e(t,i,r))})),n},In.matches=function(t){return Ii(si(t,1))},In.matchesProperty=function(t,e){return Di(t,si(e,1))},In.memoize=Ma,In.merge=Rs,In.mergeWith=Ms,In.method=rl,In.methodOf=ol,In.mixin=al,In.negate=Ba,In.nthArg=function(t){return t=gs(t),Zi((function(e){return ji(e,t)}))},In.omit=Bs,In.omitBy=function(t,e){return Os(t,Ba(so(e)))},In.once=function(t){return Ta(2,t)},In.orderBy=function(e,n,i,r){return null==e?[]:(qa(n)||(n=null==n?[]:[n]),qa(i=r?t:i)||(i=null==i?[]:[i]),qi(e,n,i))},In.over=ll,In.overArgs=La,In.overEvery=ul,In.overSome=hl,In.partial=Oa,In.partialRight=Pa,In.partition=ka,In.pick=Ls,In.pickBy=Os,In.property=cl,In.propertyOf=function(e){return function(n){return null==e?t:wi(e,n)}},In.pull=Vo,In.pullAll=Ko,In.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ui(t,e,so(n,2)):t},In.pullAllWith=function(e,n,i){return e&&e.length&&n&&n.length?Ui(e,n,t,i):e},In.pullAt=Qo,In.range=fl,In.rangeRight=gl,In.rearg=$a,In.reject=function(t,e){return(qa(t)?Ne:pi)(t,Ba(so(e,3)))},In.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=so(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return Yi(t,r),n},In.rest=function(n,i){if("function"!=typeof n)throw new Ct(e);return Zi(n,i=i===t?i:gs(i))},In.reverse=Jo,In.sampleSize=function(e,n,i){return n=(i?mo(e,n,i):n===t)?1:gs(n),(qa(e)?Kn:Ki)(e,n)},In.set=function(t,e,n){return null==t?t:Qi(t,e,n)},In.setWith=function(e,n,i,r){return r="function"==typeof r?r:t,null==e?e:Qi(e,n,i,r)},In.shuffle=function(t){return(qa(t)?Qn:er)(t)},In.slice=function(e,n,i){var r=null==e?0:e.length;return r?(i&&"number"!=typeof i&&mo(e,n,i)?(n=0,i=r):(n=null==n?0:gs(n),i=i===t?r:gs(i)),nr(e,n,i)):[]},In.sortBy=Sa,In.sortedUniq=function(t){return t&&t.length?ar(t):[]},In.sortedUniqBy=function(t,e){return t&&t.length?ar(t,so(e,2)):[]},In.split=function(e,n,i){return i&&"number"!=typeof i&&mo(e,n,i)&&(n=i=t),(i=i===t?h:i>>>0)?(e=xs(e))&&("string"==typeof n||null!=n&&!rs(n))&&!(n=lr(n))&&en(e)?_r(un(e),0,i):e.split(n,i):[]},In.spread=function(t,n){if("function"!=typeof t)throw new Ct(e);return n=null==n?0:xn(gs(n),0),Zi((function(e){var i=e[n],r=_r(e,0,n);return i&&Fe(r,i),be(t,this,r)}))},In.tail=function(t){var e=null==t?0:t.length;return e?nr(t,1,e):[]},In.take=function(e,n,i){return e&&e.length?nr(e,0,(n=i||n===t?1:gs(n))<0?0:n):[]},In.takeRight=function(e,n,i){var r=null==e?0:e.length;return r?nr(e,(n=r-(n=i||n===t?1:gs(n)))<0?0:n,r):[]},In.takeRightWhile=function(t,e){return t&&t.length?fr(t,so(e,3),!1,!0):[]},In.takeWhile=function(t,e){return t&&t.length?fr(t,so(e,3)):[]},In.tap=function(t,e){return e(t),t},In.throttle=function(t,n,i){var r=!0,o=!0;if("function"!=typeof t)throw new Ct(e);return Ja(i)&&(r="leading"in i?!!i.leading:r,o="trailing"in i?!!i.trailing:o),Fa(t,n,{leading:r,maxWait:n,trailing:o})},In.thru=fa,In.toArray=cs,In.toPairs=Ps,In.toPairsIn=$s,In.toPath=function(t){return qa(t)?Ee(t,Oo):ss(t)?[t]:Cr(Lo(xs(t)))},In.toPlainObject=vs,In.transform=function(t,e,n){var i=qa(t),r=i||Xa(t)||ls(t);if(e=so(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:Ja(t)&&Va(o)?Dn(Ut(t)):{}}return(r?ke:mi)(t,(function(t,i,r){return e(n,t,i,r)})),n},In.unary=function(t){return Na(t,1)},In.union=ta,In.unionBy=ea,In.unionWith=na,In.uniq=function(t){return t&&t.length?ur(t):[]},In.uniqBy=function(t,e){return t&&t.length?ur(t,so(e,2)):[]},In.uniqWith=function(e,n){return n="function"==typeof n?n:t,e&&e.length?ur(e,t,n):[]},In.unset=function(t,e){return null==t||hr(t,e)},In.unzip=ia,In.unzipWith=ra,In.update=function(t,e,n){return null==t?t:cr(t,e,xr(n))},In.updateWith=function(e,n,i,r){return r="function"==typeof r?r:t,null==e?e:cr(e,n,xr(i),r)},In.values=Is,In.valuesIn=function(t){return null==t?[]:Ge(t,zs(t))},In.without=oa,In.words=Vs,In.wrap=function(t,e){return Oa(xr(e),t)},In.xor=aa,In.xorBy=sa,In.xorWith=la,In.zip=ua,In.zipObject=function(t,e){return pr(t||[],e||[],ti)},In.zipObjectDeep=function(t,e){return pr(t||[],e||[],Qi)},In.zipWith=ha,In.entries=Ps,In.entriesIn=$s,In.extend=ms,In.extendWith=_s,al(In,In),In.add=vl,In.attempt=Ks,In.camelCase=Ds,In.capitalize=Ws,In.ceil=xl,In.clamp=function(e,n,i){return i===t&&(i=n,n=t),i!==t&&(i=(i=ps(i))==i?i:0),n!==t&&(n=(n=ps(n))==n?n:0),ai(ps(e),n,i)},In.clone=function(t){return si(t,4)},In.cloneDeep=function(t){return si(t,5)},In.cloneDeepWith=function(e,n){return si(e,5,n="function"==typeof n?n:t)},In.cloneWith=function(e,n){return si(e,4,n="function"==typeof n?n:t)},In.conformsTo=function(t,e){return null==e||li(t,e,Fs(e))},In.deburr=js,In.defaultTo=function(t,e){return null==t||t!=t?e:t},In.divide=yl,In.endsWith=function(e,n,i){e=xs(e),n=lr(n);var r=e.length,o=i=i===t?r:ai(gs(i),0,r);return(i-=n.length)>=0&&e.slice(i,o)==n},In.eq=Ia,In.escape=function(t){return(t=xs(t))&&U.test(t)?t.replace(q,Je):t},In.escapeRegExp=function(t){return(t=xs(t))&&J.test(t)?t.replace(Q,"\\$&"):t},In.every=function(e,n,i){var r=qa(e)?Ae:gi;return i&&mo(e,n,i)&&(n=t),r(e,so(n,3))},In.find=pa,In.findIndex=jo,In.findKey=function(t,e){return Le(t,so(e,3),mi)},In.findLast=va,In.findLastIndex=qo,In.findLastKey=function(t,e){return Le(t,so(e,3),_i)},In.floor=ml,In.forEach=xa,In.forEachRight=ya,In.forIn=function(t,e){return null==t?t:xi(t,so(e,3),zs)},In.forInRight=function(t,e){return null==t?t:yi(t,so(e,3),zs)},In.forOwn=function(t,e){return t&&mi(t,so(e,3))},In.forOwnRight=function(t,e){return t&&_i(t,so(e,3))},In.get=As,In.gt=Da,In.gte=Wa,In.has=function(t,e){return null!=t&&po(t,e,Ni)},In.hasIn=Ns,In.head=Uo,In.identity=nl,In.includes=function(t,e,n,i){t=Ua(t)?t:Is(t),n=n&&!i?gs(n):0;var r=t.length;return n<0&&(n=xn(r+n,0)),as(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Pe(t,e,n)>-1},In.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:gs(n);return r<0&&(r=xn(i+r,0)),Pe(t,e,r)},In.inRange=function(e,n,i){return n=fs(n),i===t?(i=n,n=0):i=fs(i),function(t,e,n){return t>=yn(e,n)&&t<xn(e,n)}(e=ps(e),n,i)},In.invoke=Es,In.isArguments=ja,In.isArray=qa,In.isArrayBuffer=Ha,In.isArrayLike=Ua,In.isArrayLikeObject=Ya,In.isBoolean=function(t){return!0===t||!1===t||ts(t)&&Si(t)==d},In.isBuffer=Xa,In.isDate=Ga,In.isElement=function(t){return ts(t)&&1===t.nodeType&&!is(t)},In.isEmpty=function(t){if(null==t)return!0;if(Ua(t)&&(qa(t)||"string"==typeof t||"function"==typeof t.splice||Xa(t)||ls(t)||ja(t)))return!t.length;var e=go(t);if(e==m||e==S)return!t.size;if(ko(t))return!Li(t).length;for(var n in t)if(Bt.call(t,n))return!1;return!0},In.isEqual=function(t,e){return zi(t,e)},In.isEqualWith=function(e,n,i){var r=(i="function"==typeof i?i:t)?i(e,n):t;return r===t?zi(e,n,t,i):!!r},In.isError=Za,In.isFinite=function(t){return"number"==typeof t&&dn(t)},In.isFunction=Va,In.isInteger=Ka,In.isLength=Qa,In.isMap=es,In.isMatch=function(t,e){return t===e||Ri(t,e,uo(e))},In.isMatchWith=function(e,n,i){return i="function"==typeof i?i:t,Ri(e,n,uo(n),i)},In.isNaN=function(t){return ns(t)&&t!=+t},In.isNative=function(t){if(wo(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mi(t)},In.isNil=function(t){return null==t},In.isNull=function(t){return null===t},In.isNumber=ns,In.isObject=Ja,In.isObjectLike=ts,In.isPlainObject=is,In.isRegExp=rs,In.isSafeInteger=function(t){return Ka(t)&&t>=-9007199254740991&&t<=l},In.isSet=os,In.isString=as,In.isSymbol=ss,In.isTypedArray=ls,In.isUndefined=function(e){return e===t},In.isWeakMap=function(t){return ts(t)&&go(t)==T},In.isWeakSet=function(t){return ts(t)&&"[object WeakSet]"==Si(t)},In.join=function(t,e){return null==t?"":pn.call(t,e)},In.kebabCase=qs,In.last=Zo,In.lastIndexOf=function(e,n,i){var r=null==e?0:e.length;if(!r)return-1;var o=r;return i!==t&&(o=(o=gs(i))<0?xn(r+o,0):yn(o,r-1)),n==n?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(e,n,o):Oe(e,Ie,o,!0)},In.lowerCase=Hs,In.lowerFirst=Us,In.lt=us,In.lte=hs,In.max=function(e){return e&&e.length?di(e,nl,Ai):t},In.maxBy=function(e,n){return e&&e.length?di(e,so(n,2),Ai):t},In.mean=function(t){return De(t,nl)},In.meanBy=function(t,e){return De(t,so(e,2))},In.min=function(e){return e&&e.length?di(e,nl,Pi):t},In.minBy=function(e,n){return e&&e.length?di(e,so(n,2),Pi):t},In.stubArray=dl,In.stubFalse=pl,In.stubObject=function(){return{}},In.stubString=function(){return""},In.stubTrue=function(){return!0},In.multiply=_l,In.nth=function(e,n){return e&&e.length?ji(e,gs(n)):t},In.noConflict=function(){return ue._===this&&(ue._=It),this},In.noop=sl,In.now=Aa,In.pad=function(t,e,n){t=xs(t);var i=(e=gs(e))?ln(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return qr(Be(r),n)+t+qr(de(r),n)},In.padEnd=function(t,e,n){t=xs(t);var i=(e=gs(e))?ln(t):0;return e&&i<e?t+qr(e-i,n):t},In.padStart=function(t,e,n){t=xs(t);var i=(e=gs(e))?ln(t):0;return e&&i<e?qr(e-i,n)+t:t},In.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),_n(xs(t).replace(tt,""),e||0)},In.random=function(e,n,i){if(i&&"boolean"!=typeof i&&mo(e,n,i)&&(n=i=t),i===t&&("boolean"==typeof n?(i=n,n=t):"boolean"==typeof e&&(i=e,e=t)),e===t&&n===t?(e=0,n=1):(e=fs(e),n===t?(n=e,e=0):n=fs(n)),e>n){var r=e;e=n,n=r}if(i||e%1||n%1){var o=bn();return yn(e+o*(n-e+oe("1e-"+((o+"").length-1))),n)}return Xi(e,n)},In.reduce=function(t,e,n){var i=qa(t)?ze:qe,r=arguments.length<3;return i(t,so(e,4),n,r,ci)},In.reduceRight=function(t,e,n){var i=qa(t)?Re:qe,r=arguments.length<3;return i(t,so(e,4),n,r,fi)},In.repeat=function(e,n,i){return n=(i?mo(e,n,i):n===t)?1:gs(n),Gi(xs(e),n)},In.replace=function(){var t=arguments,e=xs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},In.result=function(e,n,i){var r=-1,o=(n=yr(n,e)).length;for(o||(o=1,e=t);++r<o;){var a=null==e?t:e[Oo(n[r])];a===t&&(r=o,a=i),e=Va(a)?a.call(e):a}return e},In.round=bl,In.runInContext=et,In.sample=function(t){return(qa(t)?Vn:Vi)(t)},In.size=function(t){if(null==t)return 0;if(Ua(t))return as(t)?ln(t):t.length;var e=go(t);return e==m||e==S?t.size:Li(t).length},In.snakeCase=Ys,In.some=function(e,n,i){var r=qa(e)?Me:ir;return i&&mo(e,n,i)&&(n=t),r(e,so(n,3))},In.sortedIndex=function(t,e){return rr(t,e)},In.sortedIndexBy=function(t,e,n){return or(t,e,so(n,2))},In.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=rr(t,e);if(i<n&&Ia(t[i],e))return i}return-1},In.sortedLastIndex=function(t,e){return rr(t,e,!0)},In.sortedLastIndexBy=function(t,e,n){return or(t,e,so(n,2),!0)},In.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=rr(t,e,!0)-1;if(Ia(t[n],e))return n}return-1},In.startCase=Xs,In.startsWith=function(t,e,n){return t=xs(t),n=null==n?0:ai(gs(n),0,t.length),e=lr(e),t.slice(n,n+e.length)==e},In.subtract=wl,In.sum=function(t){return t&&t.length?He(t,nl):0},In.sumBy=function(t,e){return t&&t.length?He(t,so(e,2)):0},In.template=function(e,n,i){var r=In.templateSettings;i&&mo(e,n,i)&&(n=t),e=xs(e),n=_s({},n,r,Kr);var o,a,s=_s({},n.imports,r.imports,Kr),l=Fs(s),u=Ge(s,l),h=0,c=n.interpolate||vt,f="__p += '",g=Nt((n.escape||vt).source+"|"+c.source+"|"+(c===G?lt:vt).source+"|"+(n.evaluate||vt).source+"|$","g"),d="//# sourceURL="+(Bt.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ee+"]")+"\n";e.replace(g,(function(t,n,i,r,s,l){return i||(i=r),f+=e.slice(h,l).replace(xt,tn),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),h=l+t.length,t})),f+="';\n";var p=Bt.call(n,"variable")&&n.variable;if(p){if(at.test(p))throw new wt("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(I,""):f).replace(D,"$1").replace(W,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Ks((function(){return kt(l,d+"return "+f).apply(t,u)}));if(v.source=f,Za(v))throw v;return v},In.times=function(t,e){if((t=gs(t))<1||t>l)return[];var n=h,i=yn(t,h);e=so(e),t-=h;for(var r=Ue(i,e);++n<t;)e(n);return r},In.toFinite=fs,In.toInteger=gs,In.toLength=ds,In.toLower=function(t){return xs(t).toLowerCase()},In.toNumber=ps,In.toSafeInteger=function(t){return t?ai(gs(t),-9007199254740991,l):0===t?t:0},In.toString=xs,In.toUpper=function(t){return xs(t).toUpperCase()},In.trim=function(e,n,i){if((e=xs(e))&&(i||n===t))return Ye(e);if(!e||!(n=lr(n)))return e;var r=un(e),o=un(n);return _r(r,Ve(r,o),Ke(r,o)+1).join("")},In.trimEnd=function(e,n,i){if((e=xs(e))&&(i||n===t))return e.slice(0,hn(e)+1);if(!e||!(n=lr(n)))return e;var r=un(e);return _r(r,0,Ke(r,un(n))+1).join("")},In.trimStart=function(e,n,i){if((e=xs(e))&&(i||n===t))return e.replace(tt,"");if(!e||!(n=lr(n)))return e;var r=un(e);return _r(r,Ve(r,un(n))).join("")},In.truncate=function(e,n){var i=30,r="...";if(Ja(n)){var o="separator"in n?n.separator:o;i="length"in n?gs(n.length):i,r="omission"in n?lr(n.omission):r}var a=(e=xs(e)).length;if(en(e)){var s=un(e);a=s.length}if(i>=a)return e;var l=i-ln(r);if(l<1)return r;var u=s?_r(s,0,l).join(""):e.slice(0,l);if(o===t)return u+r;if(s&&(l+=u.length-l),rs(o)){if(e.slice(l).search(o)){var h,c=u;for(o.global||(o=Nt(o.source,xs(ut.exec(o))+"g")),o.lastIndex=0;h=o.exec(c);)var f=h.index;u=u.slice(0,f===t?l:f)}}else if(e.indexOf(lr(o),l)!=l){var g=u.lastIndexOf(o);g>-1&&(u=u.slice(0,g))}return u+r},In.unescape=function(t){return(t=xs(t))&&H.test(t)?t.replace(j,cn):t},In.uniqueId=function(t){var e=++Lt;return xs(t)+e},In.upperCase=Gs,In.upperFirst=Zs,In.each=xa,In.eachRight=ya,In.first=Uo,al(In,function(){var t={};return mi(In,(function(e,n){Bt.call(In.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),In.VERSION="4.17.21",ke(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){In[t].placeholder=In})),ke(["drop","take"],(function(e,n){qn.prototype[e]=function(i){i=i===t?1:xn(gs(i),0);var r=this.__filtered__&&!n?new qn(this):this.clone();return r.__filtered__?r.__takeCount__=yn(i,r.__takeCount__):r.__views__.push({size:yn(i,h),type:e+(r.__dir__<0?"Right":"")}),r},qn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),ke(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;qn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:so(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),ke(["head","last"],(function(t,e){var n="take"+(e?"Right":"");qn.prototype[t]=function(){return this[n](1).value()[0]}})),ke(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");qn.prototype[t]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(nl)},qn.prototype.find=function(t){return this.filter(t).head()},qn.prototype.findLast=function(t){return this.reverse().find(t)},qn.prototype.invokeMap=Zi((function(t,e){return"function"==typeof t?new qn(this):this.map((function(n){return Ei(n,t,e)}))})),qn.prototype.reject=function(t){return this.filter(Ba(so(t)))},qn.prototype.slice=function(e,n){e=gs(e);var i=this;return i.__filtered__&&(e>0||n<0)?new qn(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),n!==t&&(i=(n=gs(n))<0?i.dropRight(-n):i.take(n-e)),i)},qn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},qn.prototype.toArray=function(){return this.take(h)},mi(qn.prototype,(function(e,n){var i=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),o=In[r?"take"+("last"==n?"Right":""):n],a=r||/^find/.test(n);o&&(In.prototype[n]=function(){var n=this.__wrapped__,s=r?[1]:arguments,l=n instanceof qn,u=s[0],h=l||qa(n),c=function(t){var e=o.apply(In,Fe([t],s));return r&&f?e[0]:e};h&&i&&"function"==typeof u&&1!=u.length&&(l=h=!1);var f=this.__chain__,g=!!this.__actions__.length,d=a&&!f,p=l&&!g;if(!a&&h){n=p?n:new qn(this);var v=e.apply(n,s);return v.__actions__.push({func:fa,args:[c],thisArg:t}),new jn(v,f)}return d&&p?e.apply(this,s):(v=this.thru(c),d?r?v.value()[0]:v.value():v)})})),ke(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Et[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);In.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(qa(r)?r:[],t)}return this[n]((function(n){return e.apply(qa(n)?n:[],t)}))}})),mi(qn.prototype,(function(t,e){var n=In[e];if(n){var i=n.name+"";Bt.call(Fn,i)||(Fn[i]=[]),Fn[i].push({name:e,func:n})}})),Fn[Ir(t,2).name]=[{name:"wrapper",func:t}],qn.prototype.clone=function(){var t=new qn(this.__wrapped__);return t.__actions__=Cr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Cr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Cr(this.__views__),t},qn.prototype.reverse=function(){if(this.__filtered__){var t=new qn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},qn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=qa(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=yn(e,t+a);break;case"takeRight":t=xn(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,l=s-a,u=i?s:a-1,h=this.__iteratees__,c=h.length,f=0,g=yn(l,this.__takeCount__);if(!n||!i&&r==l&&g==l)return gr(t,this.__actions__);var d=[];t:for(;l--&&f<g;){for(var p=-1,v=t[u+=e];++p<c;){var x=h[p],y=x.iteratee,m=x.type,_=y(v);if(2==m)v=_;else if(!_){if(1==m)continue t;break t}}d[f++]=v}return d},In.prototype.at=ga,In.prototype.chain=function(){return ca(this)},In.prototype.commit=function(){return new jn(this.value(),this.__chain__)},In.prototype.next=function(){this.__values__===t&&(this.__values__=cs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?t:this.__values__[this.__index__++]}},In.prototype.plant=function(e){for(var n,i=this;i instanceof Wn;){var r=$o(i);r.__index__=0,r.__values__=t,n?o.__wrapped__=r:n=r;var o=r;i=i.__wrapped__}return o.__wrapped__=e,n},In.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qn){var n=e;return this.__actions__.length&&(n=new qn(this)),(n=n.reverse()).__actions__.push({func:fa,args:[Jo],thisArg:t}),new jn(n,this.__chain__)}return this.thru(Jo)},In.prototype.toJSON=In.prototype.valueOf=In.prototype.value=function(){return gr(this.__wrapped__,this.__actions__)},In.prototype.first=In.prototype.head,re&&(In.prototype[re]=function(){return this}),In}();ce?((ce.exports=fn)._=fn,he._=fn):ue._=fn}.call(as.exports)),as.exports);function hs({areaRect:t,areaTransform:e,mouseEvent:n,nodes:i}){if(!t)return;const[r,o]=Ma(n,t,e);return ga(i,(t=>{if(pa(t,r,o,void 0))return t.index}))}function cs({areaRect:t,areaTransform:e,mouseEvent:n,links:i,linkHoverExtraZone:r}){if(!t)return;const[o,a]=Ma(n,t,e);return ga(i,(t=>{if(function(t,e,n,i=2){if(!sa(n.source)||!sa(n.target))return!1;const r=n.source.x,o=n.source.y,a=n.target.x,s=n.target.y;return function(t,e,n,i,r,o){const a=t-n,s=e-i,l=r-n,u=o-i,h=a*l+s*u,c=l*l+u*u;let f,g,d=-1;0!==c&&(d=h/c);d<0?(f=n,g=i):d>1?(f=r,g=o):(f=n+d*l,g=i+d*u);const p=t-f,v=e-g;return Math.sqrt(p*p+v*v)}(t,e,r,o,a,s)<=i}(o,a,t,r))return t.index}))}function fs(){if(!this.area||!this.nodes)throw new Error("bad init data");function t(t){if(!this.area)return;let e,n;const i=this.highlightSettings.highlightByHoverNode&&!this.isDragging,r=this.highlightSettings.highlightByHoverLink&&!this.isDragging;let o=!0,a=!0;i&&(e=hs({areaRect:this.areaRect,areaTransform:this.areaTransform,mouseEvent:t,nodes:this.nodes}),null!=e?.highlight&&(o=e.highlight)),e&&o?this.area.style.cursor="pointer":r?(n=cs({linkHoverExtraZone:this.highlightSettings.linkHoverExtraZone,areaRect:this.areaRect,areaTransform:this.areaTransform,mouseEvent:t,links:this.links}),null!=n?.highlight&&(a=n?.highlight),this.area.style.cursor=n&&a?"pointer":"default"):this.area.style.cursor="default",e&&o&&this.highlightedNode!==e?(this.highlightedNode=e,this.highlightedLink=null,this.highlightedNeighbors=new Set(this.highlightedNode?.neighbors??[]),this.highlightWorking=!0,this.simulationWorking||this.highlightDrawing||requestAnimationFrame((()=>{this.draw()}))):n&&a&&Pa(n.source,us.isObject(n.source))&&Pa(n.target,us.isObject(n.target))&&this.highlightedLink!==n?(this.highlightProgress=0,this.highlightedLink=n,this.highlightedNode=null,this.highlightedNeighbors=new Set([n.source.id,n.target.id]),this.highlightWorking=!0,this.simulationWorking||this.highlightDrawing||requestAnimationFrame((()=>{this.draw()}))):e||n||!this.highlightedNode&&!this.highlightedLink||(this.highlightWorking=!1,this.simulationWorking||this.highlightDrawing||requestAnimationFrame((()=>{this.draw()}))),this.listeners.onMove&&(e||i||(e=hs({areaRect:this.areaRect,areaTransform:this.areaTransform,mouseEvent:t,nodes:this.nodes})),e||i&&(r||n)||(n=cs({linkHoverExtraZone:this.highlightSettings.linkHoverExtraZone,areaRect:this.areaRect,areaTransform:this.areaTransform,mouseEvent:t,links:this.links})),e||this.listeners.onMove.call(this,t,e,n))}this.area.addEventListener("mousemove",t.bind(this),{signal:this.eventAbortController.signal}),this.area.addEventListener("touchmove",t.bind(this),{signal:this.eventAbortController.signal}),this.area.addEventListener("dblclick",function(t){if(!this.listeners.onDoubleClick)return;const e=hs({areaRect:this.areaRect,areaTransform:this.areaTransform,mouseEvent:t,nodes:this.nodes});if(e)this.listeners.onDoubleClick.call(this,t,e,void 0);else{const e=cs({linkHoverExtraZone:this.highlightSettings.linkHoverExtraZone,areaRect:this.areaRect,areaTransform:this.areaTransform,mouseEvent:t,links:this.links});this.listeners.onDoubleClick.call(this,t,void 0,e)}}.bind(this),{signal:this.eventAbortController.signal}),this.area.addEventListener("mousedown",function(t){if(this.isDragging||!this.listeners.onWheelClick||!("button"in t)||1!==t.button)return;const e=hs({areaRect:this.areaRect,areaTransform:this.areaTransform,mouseEvent:t,nodes:this.nodes});if(e)this.listeners.onWheelClick.call(this,t,e,void 0);else{const e=cs({linkHoverExtraZone:this.highlightSettings.linkHoverExtraZone,areaRect:this.areaRect,areaTransform:this.areaTransform,mouseEvent:t,links:this.links});this.listeners.onWheelClick.call(this,t,void 0,e)}}.bind(this),{signal:this.eventAbortController.signal}),this.area.addEventListener("click",function(t){if(this.isDragging||!this.listeners.onClick||"button"in t&&0!==t.button)return;const e=hs({areaRect:this.areaRect,areaTransform:this.areaTransform,mouseEvent:t,nodes:this.nodes});if(e)this.listeners.onClick.call(this,t,e,void 0);else{const e=cs({linkHoverExtraZone:this.highlightSettings.linkHoverExtraZone,areaRect:this.areaRect,areaTransform:this.areaTransform,mouseEvent:t,links:this.links});this.listeners.onClick.call(this,t,void 0,e)}}.bind(this),{signal:this.eventAbortController.signal}),this.area.addEventListener("contextmenu",function(t){if(!this.listeners.onContextMenu)return;const e=hs({areaRect:this.areaRect,areaTransform:this.areaTransform,mouseEvent:t,nodes:this.nodes});if(e)this.listeners.onContextMenu.call(this,t,e,void 0);else{const e=cs({linkHoverExtraZone:this.highlightSettings.linkHoverExtraZone,areaRect:this.areaRect,areaTransform:this.areaTransform,mouseEvent:t,links:this.links});this.listeners.onContextMenu.call(this,t,void 0,e)}}.bind(this),{signal:this.eventAbortController.signal})}function gs(){if(!this.area)throw new Error("bad init data");let t=!0;const e=this.eventAbortController,n=new ResizeObserver((()=>{t?t=!1:e.signal.aborted?n.disconnect():requestAnimationFrame((()=>{this.updateSize()}))}));document.addEventListener("scroll",this.updateRect.bind(this),{capture:!0,passive:!0,signal:e.signal}),n.observe(this.area)}function ds(){this.simulation||(this.simulation=qn().nodes(this.nodes).force("link",pn(this.links).id(this.nodeSettings.idGetter.bind(this))).on("tick",(()=>{this.draw()})).on("end",(()=>{this.listeners.onSimulationEnd?.call?.(this),this.graphSettings.showDrawTime&&(!function(){const t=La/Oa;console.log("average draw: ",t)}(),console.log(`nodes: ${this.nodes.length} | links: ${this.links.length}`),La=0,Oa=0)})),ps.call(this))}function ps(){if(!this.simulation)return;const t=this.simulation.force("link");t&&(this.forceSettings.forces&&this.forceSettings.xForce||!this.simulation.force("x")||this.simulation.force("x",null),this.forceSettings.forces&&this.forceSettings.yForce||!this.simulation.force("y")||this.simulation.force("y",null),this.forceSettings.forces&&this.forceSettings.chargeForce||!this.simulation.force("charge")||this.simulation.force("charge",null),this.forceSettings.forces&&this.forceSettings.centerForce||!this.simulation.force("center")||this.simulation.force("center",null),this.forceSettings.forces&&this.forceSettings.linkForce||t.distance(0).strength(0).iterations(0),this.forceSettings.forces&&this.forceSettings.linkForce&&t.distance(this.forceSettings.linkDistance).strength(this.forceSettings.linkStrength).iterations(this.forceSettings.linkIterations),this.forceSettings.forces&&this.forceSettings.xForce&&this.simulation.force("x",function(t){var e,n,i,r=un(.1);function o(t){for(var r,o=0,a=e.length;o<a;++o)(r=e[o]).vx+=(i[o]-r.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),i=new Array(a),o=0;o<a;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=un(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:un(+t),a(),o):r},o.x=function(e){return arguments.length?(t="function"==typeof e?e:un(+e),a(),o):t},o}(this.forceSettings.xPosition).strength(this.forceSettings.xStrength)),this.forceSettings.forces&&this.forceSettings.yForce&&this.simulation.force("y",function(t){var e,n,i,r=un(.1);function o(t){for(var r,o=0,a=e.length;o<a;++o)(r=e[o]).vy+=(i[o]-r.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),i=new Array(a),o=0;o<a;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=un(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:un(+t),a(),o):r},o.y=function(e){return arguments.length?(t="function"==typeof e?e:un(+e),a(),o):t},o}(this.forceSettings.yPosition).strength(this.forceSettings.yStrength)),this.forceSettings.forces&&this.forceSettings.chargeForce&&this.simulation.force("charge",function(){var t,e,n,i,r,o=un(-30),a=1,s=1/0,l=.81;function u(n){var r,o=t.length,a=on(t,Dn,Wn).visitAfter(c);for(i=n,r=0;r<o;++r)e=t[r],a.visit(f)}function h(){if(t){var e,n,i=t.length;for(r=new Array(i),e=0;e<i;++e)n=t[e],r[n.index]=+o(n,e,t)}}function c(t){var e,n,i,o,a,s=0,l=0;if(t.length){for(i=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,l+=n,i+=n*e.x,o+=n*e.y);t.x=i/l,t.y=o/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function f(t,o,u,h){if(!t.value)return!0;var c=t.x-e.x,f=t.y-e.y,g=h-o,d=c*c+f*f;if(g*g/l<d)return d<s&&(0===c&&(d+=(c=hn(n))*c),0===f&&(d+=(f=hn(n))*f),d<a&&(d=Math.sqrt(a*d)),e.vx+=c*t.value*i/d,e.vy+=f*t.value*i/d),!0;if(!(t.length||d>=s)){(t.data!==e||t.next)&&(0===c&&(d+=(c=hn(n))*c),0===f&&(d+=(f=hn(n))*f),d<a&&(d=Math.sqrt(a*d)));do{t.data!==e&&(g=r[t.data.index]*i/d,e.vx+=c*g,e.vy+=f*g)}while(t=t.next)}}return u.initialize=function(e,i){t=e,n=i,h()},u.strength=function(t){return arguments.length?(o="function"==typeof t?t:un(+t),h(),u):o},u.distanceMin=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.distanceMax=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u.theta=function(t){return arguments.length?(l=t*t,u):Math.sqrt(l)},u}().strength(this.forceSettings.chargeStrength).distanceMax(1/0).distanceMin(this.forceSettings.chargeDistanceMin)),this.forceSettings.forces&&this.forceSettings.centerForce&&this.simulation.force("center",function(t,e){var n,i=1;function r(){var r,o,a=n.length,s=0,l=0;for(r=0;r<a;++r)s+=(o=n[r]).x,l+=o.y;for(s=(s/a-t)*i,l=(l/a-e)*i,r=0;r<a;++r)(o=n[r]).x-=s,o.y-=l}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r.strength=function(t){return arguments.length?(i=+t,r):i},r}(this.forceSettings.centerPosition.x??0,this.forceSettings.centerPosition.y??0).strength(this.forceSettings.centerStrength)),vs.call(this,!0))}function vs(t){if(this.simulation&&(this.forceSettings.collideForce&&this.forceSettings.forces||!this.simulation.force("collide")||this.simulation.force("collide",null),this.forceSettings.forces&&this.forceSettings.collideForce)){const e=0!=this.forceSettings.collideOffMax.links&&0!=this.forceSettings.collideOffMax.nodes,n=e&&this.forceSettings.collideOffMax.nodes<this.nodes.length,i=e&&this.forceSettings.collideOffMax.links<this.links.length;n&&i?this.simulation.force("collide",null):this.simulation.force("collide")&&!t||this.simulation.force("collide",function(t){var e,n,i,r=1,o=1;function a(){for(var t,a,l,u,h,c,f,g=e.length,d=0;d<o;++d)for(a=on(e,cn,fn).visitAfter(s),t=0;t<g;++t)l=e[t],c=n[l.index],f=c*c,u=l.x+l.vx,h=l.y+l.vy,a.visit(p);function p(t,e,n,o,a){var s=t.data,g=t.r,d=c+g;if(!s)return e>u+d||o<u-d||n>h+d||a<h-d;if(s.index>l.index){var p=u-s.x-s.vx,v=h-s.y-s.vy,x=p*p+v*v;x<d*d&&(0===p&&(x+=(p=hn(i))*p),0===v&&(x+=(v=hn(i))*v),x=(d-(x=Math.sqrt(x)))/x*r,l.vx+=(p*=x)*(d=(g*=g)/(f+g)),l.vy+=(v*=x)*d,s.vx-=p*(d=1-d),s.vy-=v*d)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var i,r,o=e.length;for(n=new Array(o),i=0;i<o;++i)r=e[i],n[r.index]=+t(r,i,e)}}return"function"!=typeof t&&(t=un(null==t?1:+t)),a.initialize=function(t,n){e=t,i=n,l()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(r=+t,a):r},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:un(+e),l(),a):t},a}().radius(((t,e)=>{const n=Ka(t,e,this.nodes,this,this.nodeSettings.options??{},Na);switch(n.shape){case"circle":if(this.forceSettings.collideRadius)return Ka(t,e,this.nodes,this,this.forceSettings.collideRadius,void 0);return Ta({radiusFlexible:this.nodeSettings.nodeRadiusFlexible,radiusInitial:n.radius,radiusCoefficient:this.nodeSettings.nodeRadiusCoefficient,radiusFactor:this.nodeSettings.nodeRadiusFactor,linkCount:t.linkCount})+this.forceSettings.collideAdditionalRadius;case"square":{const{height:e,width:i}=Ca({heightInitial:n.width,widthInitial:n.height,linkCount:t.linkCount,sizeCoefficient:this.nodeSettings.nodeSizeCoefficient,sizeFactor:this.nodeSettings.nodeSizeFactor,sizeFlexible:this.nodeSettings.nodeSizeFlexible});return Math.sqrt(i**2+e**2)/2+this.forceSettings.collideAdditionalRadius}case"text":{let{height:e,width:i}=Ca({heightInitial:n.width,widthInitial:n.height,linkCount:t.linkCount,sizeCoefficient:this.nodeSettings.nodeSizeCoefficient,sizeFactor:this.nodeSettings.nodeSizeFactor,sizeFlexible:this.nodeSettings.nodeSizeFlexible});if(this.context&&n.text){const t=ns({context:this.context,text:n.text,textAlign:n.textAlign,textColor:n.textColor,textFont:n.textFont,textSize:n.textSize,maxWidth:i,textStyle:n.textStyle,textWeight:n.textWeight});e=t.lines.length*n.textSize+(t.lines.length-1)*n.textGap+n.labelYPadding,i=t.currentMaxSize+n.labelXPadding}return Math.sqrt(i**2+e**2)/2+this.forceSettings.collideAdditionalRadius}default:if(this.forceSettings.collideRadius)return Ka(t,e,this.nodes,this,this.forceSettings.collideRadius,void 0);return Ta({radiusFlexible:this.nodeSettings.nodeRadiusFlexible,radiusInitial:n.radius,radiusCoefficient:this.nodeSettings.nodeRadiusCoefficient,radiusFactor:this.nodeSettings.nodeRadiusFactor,linkCount:t.linkCount})+this.forceSettings.collideAdditionalRadius}})).strength(this.forceSettings.collideStrength).iterations(this.forceSettings.collideIterations))}}function xs(t){if(!this.area)throw new Error("bad init data");const e=ra().scaleExtent(this.graphSettings.zoomExtent).on("zoom",(t=>{this.listeners.onZoom?.call?.(this,t),this.areaTransform=t.transform,this.linkOptionsCache={},this.nodeOptionsCache={},this.simulationWorking||this.highlightWorking||requestAnimationFrame((()=>this.draw()))}));if(this.graphSettings.translateExtentEnable){const t=this.graphSettings.translateExtentCoefficient,[i,r]=(n=t,Boolean(n&&Array.isArray(n))?t:[t,t]),[[o=-this.width*i,a=-this.height*r],[s=this.width*i,l=this.height*r]]=this.graphSettings.translateExtent;e.translateExtent([[o,a],[s,l]])}var n;nr(this.area).call(e).on("dblclick.zoom",null);const i=t??this.graphSettings.zoomInitial;this.areaTransform=new Go(i?.k??1,i?.x??this.width/2,i?.y??this.height/2),ra().transform(nr(this.area),this.areaTransform)}class ys{nodes;links;particles={};width;height;root;container;area;graphSettings;forceSettings;highlightSettings;nodeSettings;linkSettings;listeners;context;simulation;areaTransform=Zo;areaRect;draw;eventAbortController;cachedNodeText={};cachedNodeLabel={};cachedTextNodeParameters={};linkOptionsCache={};nodeOptionsCache={};isDragging=!1;highlightedNode=null;highlightedLink=null;highlightedNeighbors=null;highlightProgress=1;highlightWorking=!1;highlightDrawing=!1;get simulationWorking(){return((this.simulation?.alpha?.()??0)-(this.simulation?.alphaMin?.()??0))/(this.simulation?.alphaDecay?.()??0)>0}constructor({links:t,nodes:e,root:n,forceSettings:i,linkSettings:r,listeners:o,nodeSettings:a,graphSettings:s,highlightSettings:l}){n.style.overflow="hidden",this.root=n,this.forceSettings=da(i),this.linkSettings=_a(r),this.nodeSettings=Sa(a),this.listeners=o??{},this.graphSettings=xa(s),this.highlightSettings=za(l),this.eventAbortController=new AbortController,this.nodes=e,this.links=t,this.height=0,this.width=0,this.draw=rs.call(this),this.init()}get dpi(){return devicePixelRatio}getData(){return{links:this.links,nodes:this.nodes}}changeData(t,e){null!=t.links&&(this.links=t.links),null!=t.nodes&&(this.nodes=t.nodes),null==t.nodes&&null==t.links||this.updateData(e)}changeSettings(t){t.graphSettings&&(this.graphSettings=xa(t.graphSettings,this.graphSettings),this.draw=rs.call(this),xs.call(this,this.areaTransform)),t.forceSettings&&(this.forceSettings=da(t.forceSettings,this.forceSettings)),t.highlightSettings&&(this.highlightSettings=za(t.highlightSettings,this.highlightSettings),this.linkOptionsCache={},this.cachedNodeText={},this.cachedNodeLabel={},this.cachedTextNodeParameters={},this.nodeOptionsCache={}),t.linkSettings&&(this.linkSettings=_a(t.linkSettings,this.linkSettings),this.linkOptionsCache={}),t.nodeSettings&&(this.nodeSettings=Sa(t.nodeSettings,this.nodeSettings),this.cachedNodeText={},this.cachedNodeLabel={},this.cachedTextNodeParameters={},this.nodeOptionsCache={},vs.call(this,!0)),t.forceSettings?this.updateSimulation():this.tick()}updateRect(){this.area&&(this.areaRect=this.area.getBoundingClientRect())}clearCache(t){if(t)for(let e=0;e<t.length;e++){this[t[e]]={}}else this.nodeOptionsCache={},this.linkOptionsCache={},this.cachedNodeText={},this.cachedNodeLabel={},this.cachedTextNodeParameters={}}tick(){this.simulationWorking||this.highlightWorking||this.draw()}restart(t){this.simulation&&this.simulation.alpha(t??1).restart()}start(){this.simulation&&this.simulation.alpha(1).restart(),this.container&&(this.container.style.display="block")}stop(){this.simulation&&this.simulation.stop(),this.container&&(this.container.style.display="none")}create(){this.init()}destroy(){this.simulation&&(this.simulation.stop(),this.simulation=void 0),this.clearHTMLElements(),this.clearState(),this.clearCache()}clearHTMLElements(){this.root.replaceChildren(),this.area=void 0,this.context=void 0,this.container=void 0,this.eventAbortController.abort(),this.eventAbortController=new AbortController}updateSimulation(){this.simulation&&(ps.call(this),this.simulation.alpha(1),this.simulation.restart())}clearState(){this.isDragging=!1,this.highlightedNode=null,this.highlightedLink=null,this.highlightedNeighbors=null,this.highlightProgress=0,this.highlightWorking=!1,this.highlightDrawing=!1}updateData(t){this.clearCache(),this.simulation&&(vs.call(this,!1),this.simulation.nodes(this.nodes).force("link",pn(this.links).id(this.nodeSettings.idGetter.bind(this)).distance(this.forceSettings.forces&&this.forceSettings.linkForce?this.forceSettings.linkDistance:0).strength(this.forceSettings.forces&&this.forceSettings.linkForce?this.forceSettings.linkStrength:0).iterations(this.forceSettings.forces&&this.forceSettings.linkForce?this.forceSettings.linkIterations:0)).alpha(t??.5).restart())}updateSize(){this.clearHTMLElements(),Ra.call(this),Ba.call(this),xs.call(this),gs.call(this),fs.call(this),this.simulationWorking||this.highlightWorking||this.draw()}init(){Ra.call(this),ds.call(this),Ba.call(this),xs.call(this),gs.call(this),fs.call(this)}}function ms(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}const _s="flex-module_flex__xOhN8",bs="flex-module_wide__4-uAQ",ws="flex-module_full__NSW6N",ks="flex-module_vertical__2beOI";ms(".flex-module_flex__xOhN8{display:flex}.flex-module_wide__4-uAQ{width:100%}.flex-module_full__NSW6N{height:100%}.flex-module_vertical__2beOI{flex-direction:column}");var Ss=_e("<div><!></div>");function As(t,e){z(e,!0);let n=Je(e,"instance",15),i=new Proxy({props:e,exclude:["$$slots","$$events","$$legacy","children","vertical","wide","full","gap","align","justify","instance","onclick"]},Qe);var r=Ss(),o=t=>{e.onclick&&"Enter"===t.key&&n()&&n().click()};let a;!function(t,e,...n){var i,r=t,o=h;at((()=>{o!==(o=e())&&(i&&(ht(i),i=null),i=st((()=>o(r,...n))))}),_)}(Z(r),(()=>e.children??h)),qe(r,(t=>n(t)),(()=>n())),ot((()=>{a=function(t,e,n,i,r=!1,o=!1){var a=e||{},s="OPTION"===t.tagName;for(var l in e)l in n||(n[l]=null);n.class&&(n.class=Be(n.class));var u=$e(t),h=t.__attributes??={};for(const v in n){let x=n[v];if(s&&"value"===v&&null==x)t.value=t.__value="",a[v]=x;else{var c=a[v];if(x!==c){a[v]=x;var f=v[0]+v[1];if("$$"!==f){if("on"===f){const y={},m="$$"+v;let _=v.slice(2);var g=se(_);if(oe(_)&&(_=_.slice(0,-7),y.capture=!0),!g&&c){if(null!=x)continue;t.removeEventListener(_,a[m],y),a[m]=null}if(null!=x)if(g)t[`__${_}`]=x,ve([_]);else{function b(t){a[v].call(this,t)}a[m]=pe(_,t,b,y)}else g&&(t[`__${_}`]=void 0)}else if("style"===v&&null!=x)t.style.cssText=x+"";else if("autofocus"===v)fe(t,Boolean(x));else if(o||"__value"!==v&&("value"!==v||null==x))if("selected"===v&&s)Le(t,x);else{var d=v;r||(d=ue(d));var p="defaultValue"===d||"defaultChecked"===d;if(null!=x||o||p)p||u.includes(d)&&(o||"string"!=typeof x)?t[d]=x:"function"!=typeof x&&Oe(t,d,x);else if(h[v]=null,"value"===d||"checked"===d){let w=t;const k=void 0===e;if("value"===d){let S=w.defaultValue;w.removeAttribute(d),w.defaultValue=S,w.value=w.__value=k?S:null}else{let A=w.defaultChecked;w.removeAttribute(d),w.defaultChecked=A,w.checked=!!k&&A}}else t.removeAttribute(v)}else t.value=t.__value=x;"style"===v&&"__styles"in t&&(t.__styles={})}}}}return a}(r,a,{...i,class:[_s,e.wide&&bs,e.full&&ws,e.vertical&&ks,e.class],onclick:e.onclick,onkeydown:o,role:e.onclick?"button":void 0,tabindex:e.onclick?0:null}),We(r,"gap",e.gap+"px"),We(r,"align-items",e.align),We(r,"justify-content",e.justify)})),we(t,r),R()}const Ns="graph-module_container__y9R2M",Ts="graph-module_graph__Fzxes";ms(".graph-module_container__y9R2M{background-repeat:repeat;background-size:36px;display:flex;height:100%;position:relative;width:100%}.graph-module_graph__Fzxes{height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}");const Cs={...oa,centerStrength:0,collideStrength:.5,collideAdditionalRadius:5,chargeStrength:-67,xStrength:.5,yStrength:.5,linkDistance:35},Es={...va,zoomExtent:[1.6,5],translateExtentEnable:!0,translateExtentCoefficient:[.6,.6],showDrawTime:!1,showDrawTimeEveryTick:!1},Fs={...ka,radius:3,textWidth:38,textFont:"Nunito",textGap:1},zs={...ya,cacheOptions:!0},Rs={...ma},Ms={...Fa,highlightByHoverNode:!0,highlightByHoverLink:!1},Bs={atomAdditionalShiftY:4,atomAdditionalSize:-.5,atomAdditionalRadius:-1.5,heightRoot:15,radiusRoot:5,widthRoot:35,textSizeRoot:4,textGapRoot:4,expandableRadius:2.5,expandableTextSize:3,expandableTextSizeAdditional:.5},Ls=Ye([]),Os=Ye([]),Ps=Ye(),$s=Ye();const Is="description-module_base__k7o4P",Ds="description-module_base__open__J1hTK",Ws="description-module_close__Bzb--",js="description-module_derived__G-swT",qs="description-module_text__RdCQd",Hs="description-module_link__PUZ5h",Us="description-module_title__nUEbl",Ys="description-module_header__RXjEH",Xs="description-module_content__J3LR0",Gs="description-module_footer__tVrvt";ms(".description-module_base__k7o4P{background-color:#21252d;border-bottom-left-radius:16px;border-bottom-right-radius:2px;border-top-left-radius:16px;border-top-right-radius:2px;color:#fff;font-family:Nunito;font-size:18px;font-weight:400;height:calc(100% - 8px);letter-spacing:0;line-height:120%;max-width:calc(100% - 8px);opacity:0;overflow:hidden;position:absolute;right:4px;top:4px;transition:opacity .1s ease;visibility:hidden;width:400px;z-index:2}@media (width <= 768px){.description-module_base__k7o4P{font-size:16px}}.description-module_base__open__J1hTK{opacity:1;visibility:visible}.description-module_base__k7o4P>div{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:Nunito}.description-module_base__k7o4P div::-webkit-scrollbar-corner{background-color:transparent}.description-module_base__k7o4P div::-webkit-scrollbar{height:12px;width:12px}.description-module_base__k7o4P div::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:#d2d2d2;border:4px solid transparent;border-radius:10px}.description-module_close__Bzb--{background-color:transparent;border:none;color:#fff;cursor:pointer;outline:none;position:absolute;right:15px;top:15px}.description-module_derived__G-swT{background-color:#fff;height:1px;min-height:1px;opacity:20%;width:100%}.description-module_text__RdCQd{word-wrap:break-word;max-width:100%}.description-module_text__RdCQd p{margin:0;padding:0 0 20px}.description-module_text__RdCQd ul{margin:0;padding:0 0 20px 40px}.description-module_link__PUZ5h{background-color:transparent;border:none;color:#fff;cursor:pointer;font-size:18px;font-style:normal;font-weight:400;line-height:120%;outline:none;text-align:left;text-decoration-line:underline;text-decoration-skip-ink:none;text-decoration-style:solid;text-decoration-thickness:auto;text-underline-offset:auto;text-underline-position:from-font}@media (width <= 768px){.description-module_link__PUZ5h{font-size:16px}}.description-module_title__nUEbl{color:#fcfcfe;font-size:24px;font-weight:600;line-height:100%;width:289px}@media (width <= 768px){.description-module_title__nUEbl{font-size:20px}}.description-module_header__RXjEH{padding:24px 77px 16px 30px}.description-module_content__J3LR0{height:100%;min-height:200px;overflow:auto;padding:16px 50px 0 30px}.description-module_footer__tVrvt{height:100%;min-height:200px;overflow:auto;padding:30px 24px 20px 30px}");var Zs=function(t,e,n="svg"){var i,r=`<${n}>${!t.startsWith("<!>")?t:"<!>"+t}</${n}>`;return()=>{if(!i){var t=X(ye(r));i=X(t)}var e=i.cloneNode(!0);return me(e,e),e}}('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"></path></svg>');function Vs(t,e){const n=Je(e,"color",3,"currentColor"),i=Je(e,"size",3,16),r=Je(e,"sizeX",19,i),o=Je(e,"sizeY",19,i);var a=Zs();ot((()=>{var t,i,s,l;Oe(a,"width",r()),Oe(a,"height",o()),Oe(a,"fill",n()),Oe(a,"style",`max-width: ${r()??""}px; min-width: ${r()??""}px; width: ${r()??""}px; max-height: ${o()??""}px; min-height: ${o()??""}px; height: ${o()??""}px;`),t=a,i=Be(e.className),s=t.__className,l=De(i),s!==l&&(""===l?t.removeAttribute("class"):t.setAttribute("class",l),t.__className=l)})),we(t,a)}
/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:Ks,setPrototypeOf:Qs,isFrozen:Js,getPrototypeOf:tl,getOwnPropertyDescriptor:el}=Object;let{freeze:nl,seal:il,create:rl}=Object,{apply:ol,construct:al}="undefined"!=typeof Reflect&&Reflect;nl||(nl=function(t){return t}),il||(il=function(t){return t}),ol||(ol=function(t,e,n){return t.apply(e,n)}),al||(al=function(t,e){return new t(...e)});const sl=wl(Array.prototype.forEach),ll=wl(Array.prototype.lastIndexOf),ul=wl(Array.prototype.pop),hl=wl(Array.prototype.push),cl=wl(Array.prototype.splice),fl=wl(String.prototype.toLowerCase),gl=wl(String.prototype.toString),dl=wl(String.prototype.match),pl=wl(String.prototype.replace),vl=wl(String.prototype.indexOf),xl=wl(String.prototype.trim),yl=wl(Object.prototype.hasOwnProperty),ml=wl(RegExp.prototype.test),_l=(bl=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return al(bl,e)});var bl;function wl(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return ol(t,e,i)}}function kl(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fl;Qs&&Qs(t,null);let i=e.length;for(;i--;){let r=e[i];if("string"==typeof r){const t=n(r);t!==r&&(Js(e)||(e[i]=t),r=t)}t[r]=!0}return t}function Sl(t){for(let e=0;e<t.length;e++){yl(t,e)||(t[e]=null)}return t}function Al(t){const e=rl(null);for(const[n,i]of Ks(t)){yl(t,n)&&(Array.isArray(i)?e[n]=Sl(i):i&&"object"==typeof i&&i.constructor===Object?e[n]=Al(i):e[n]=i)}return e}function Nl(t,e){for(;null!==t;){const n=el(t,e);if(n){if(n.get)return wl(n.get);if("function"==typeof n.value)return wl(n.value)}t=tl(t)}return function(){return null}}const Tl=nl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Cl=nl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),El=nl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Fl=nl(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),zl=nl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Rl=nl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ml=nl(["#text"]),Bl=nl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ll=nl(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ol=nl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Pl=nl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$l=il(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Il=il(/<%[\w\W]*|[\w\W]*%>/gm),Dl=il(/\$\{[\w\W]*/gm),Wl=il(/^data-[\-\w.\u00B7-\uFFFF]+$/),jl=il(/^aria-[\-\w]+$/),ql=il(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Hl=il(/^(?:\w+script|data):/i),Ul=il(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Yl=il(/^html$/i),Xl=il(/^[a-z][.\w]*(-[.\w]+)+$/i);var Gl=Object.freeze({__proto__:null,ARIA_ATTR:jl,ATTR_WHITESPACE:Ul,CUSTOM_ELEMENT:Xl,DATA_ATTR:Wl,DOCTYPE_NAME:Yl,ERB_EXPR:Il,IS_ALLOWED_URI:ql,IS_SCRIPT_OR_DATA:Hl,MUSTACHE_EXPR:$l,TMPLIT_EXPR:Dl});const Zl=1,Vl=3,Kl=7,Ql=8,Jl=9,tu=function(){return"undefined"==typeof window?null:window};var eu=function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tu();const n=e=>t(e);if(n.version="3.2.4",n.removed=[],!e||!e.document||e.document.nodeType!==Jl||!e.Element)return n.isSupported=!1,n;let{document:i}=e;const r=i,o=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:u,NodeFilter:h,NamedNodeMap:c=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:g,trustedTypes:d}=e,p=u.prototype,v=Nl(p,"cloneNode"),x=Nl(p,"remove"),y=Nl(p,"nextSibling"),m=Nl(p,"childNodes"),_=Nl(p,"parentNode");if("function"==typeof s){const t=i.createElement("template");t.content&&t.content.ownerDocument&&(i=t.content.ownerDocument)}let b,w="";const{implementation:k,createNodeIterator:S,createDocumentFragment:A,getElementsByTagName:N}=i,{importNode:T}=r;let C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof Ks&&"function"==typeof _&&k&&void 0!==k.createHTMLDocument;const{MUSTACHE_EXPR:E,ERB_EXPR:F,TMPLIT_EXPR:z,DATA_ATTR:R,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:O}=Gl;let{IS_ALLOWED_URI:P}=Gl,$=null;const I=kl({},[...Tl,...Cl,...El,...zl,...Ml]);let D=null;const W=kl({},[...Bl,...Ll,...Ol,...Pl]);let j=Object.seal(rl(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,H=null,U=!0,Y=!0,X=!1,G=!0,Z=!1,V=!0,K=!1,Q=!1,J=!1,tt=!1,et=!1,nt=!1,it=!0,rt=!1,ot=!0,at=!1,st={},lt=null;const ut=kl({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ht=null;const ct=kl({},["audio","video","img","source","image","track"]);let ft=null;const gt=kl({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),dt="http://www.w3.org/1998/Math/MathML",pt="http://www.w3.org/2000/svg",vt="http://www.w3.org/1999/xhtml";let xt=vt,yt=!1,mt=null;const _t=kl({},[dt,pt,vt],gl);let bt=kl({},["mi","mo","mn","ms","mtext"]),wt=kl({},["annotation-xml"]);const kt=kl({},["title","style","font","a","script"]);let St=null;const At=["application/xhtml+xml","text/html"];let Nt=null,Tt=null;const Ct=i.createElement("form"),Et=function(t){return t instanceof RegExp||t instanceof Function},Ft=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Tt||Tt!==t){if(t&&"object"==typeof t||(t={}),t=Al(t),St=-1===At.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,Nt="application/xhtml+xml"===St?gl:fl,$=yl(t,"ALLOWED_TAGS")?kl({},t.ALLOWED_TAGS,Nt):I,D=yl(t,"ALLOWED_ATTR")?kl({},t.ALLOWED_ATTR,Nt):W,mt=yl(t,"ALLOWED_NAMESPACES")?kl({},t.ALLOWED_NAMESPACES,gl):_t,ft=yl(t,"ADD_URI_SAFE_ATTR")?kl(Al(gt),t.ADD_URI_SAFE_ATTR,Nt):gt,ht=yl(t,"ADD_DATA_URI_TAGS")?kl(Al(ct),t.ADD_DATA_URI_TAGS,Nt):ct,lt=yl(t,"FORBID_CONTENTS")?kl({},t.FORBID_CONTENTS,Nt):ut,q=yl(t,"FORBID_TAGS")?kl({},t.FORBID_TAGS,Nt):{},H=yl(t,"FORBID_ATTR")?kl({},t.FORBID_ATTR,Nt):{},st=!!yl(t,"USE_PROFILES")&&t.USE_PROFILES,U=!1!==t.ALLOW_ARIA_ATTR,Y=!1!==t.ALLOW_DATA_ATTR,X=t.ALLOW_UNKNOWN_PROTOCOLS||!1,G=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Z=t.SAFE_FOR_TEMPLATES||!1,V=!1!==t.SAFE_FOR_XML,K=t.WHOLE_DOCUMENT||!1,tt=t.RETURN_DOM||!1,et=t.RETURN_DOM_FRAGMENT||!1,nt=t.RETURN_TRUSTED_TYPE||!1,J=t.FORCE_BODY||!1,it=!1!==t.SANITIZE_DOM,rt=t.SANITIZE_NAMED_PROPS||!1,ot=!1!==t.KEEP_CONTENT,at=t.IN_PLACE||!1,P=t.ALLOWED_URI_REGEXP||ql,xt=t.NAMESPACE||vt,bt=t.MATHML_TEXT_INTEGRATION_POINTS||bt,wt=t.HTML_INTEGRATION_POINTS||wt,j=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&Et(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&Et(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(j.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Z&&(Y=!1),et&&(tt=!0),st&&($=kl({},Ml),D=[],!0===st.html&&(kl($,Tl),kl(D,Bl)),!0===st.svg&&(kl($,Cl),kl(D,Ll),kl(D,Pl)),!0===st.svgFilters&&(kl($,El),kl(D,Ll),kl(D,Pl)),!0===st.mathMl&&(kl($,zl),kl(D,Ol),kl(D,Pl))),t.ADD_TAGS&&($===I&&($=Al($)),kl($,t.ADD_TAGS,Nt)),t.ADD_ATTR&&(D===W&&(D=Al(D)),kl(D,t.ADD_ATTR,Nt)),t.ADD_URI_SAFE_ATTR&&kl(ft,t.ADD_URI_SAFE_ATTR,Nt),t.FORBID_CONTENTS&&(lt===ut&&(lt=Al(lt)),kl(lt,t.FORBID_CONTENTS,Nt)),ot&&($["#text"]=!0),K&&kl($,["html","head","body"]),$.table&&(kl($,["tbody"]),delete q.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw _l('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw _l('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=t.TRUSTED_TYPES_POLICY,w=b.createHTML("")}else void 0===b&&(b=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let n=null;const i="data-tt-policy-suffix";e&&e.hasAttribute(i)&&(n=e.getAttribute(i));const r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(d,o)),null!==b&&"string"==typeof w&&(w=b.createHTML(""));nl&&nl(t),Tt=t}},zt=kl({},[...Cl,...El,...Fl]),Rt=kl({},[...zl,...Rl]),Mt=function(t){hl(n.removed,{element:t});try{_(t).removeChild(t)}catch(e){x(t)}},Bt=function(t,e){try{hl(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){hl(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t)if(tt||et)try{Mt(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},Lt=function(t){let e=null,n=null;if(J)t="<remove></remove>"+t;else{const e=dl(t,/^[\r\n\t ]+/);n=e&&e[0]}"application/xhtml+xml"===St&&xt===vt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const r=b?b.createHTML(t):t;if(xt===vt)try{e=(new g).parseFromString(r,St)}catch(t){}if(!e||!e.documentElement){e=k.createDocument(xt,"template",null);try{e.documentElement.innerHTML=yt?w:r}catch(t){}}const o=e.body||e.documentElement;return t&&n&&o.insertBefore(i.createTextNode(n),o.childNodes[0]||null),xt===vt?N.call(e,K?"html":"body")[0]:K?e.documentElement:o},Ot=function(t){return S.call(t.ownerDocument||t,t,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},Pt=function(t){return t instanceof f&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof c)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},$t=function(t){return"function"==typeof l&&t instanceof l};function It(t,e,i){sl(t,(t=>{t.call(n,e,i,Tt)}))}const Dt=function(t){let e=null;if(It(C.beforeSanitizeElements,t,null),Pt(t))return Mt(t),!0;const i=Nt(t.nodeName);if(It(C.uponSanitizeElement,t,{tagName:i,allowedTags:$}),t.hasChildNodes()&&!$t(t.firstElementChild)&&ml(/<[/\w]/g,t.innerHTML)&&ml(/<[/\w]/g,t.textContent))return Mt(t),!0;if(t.nodeType===Kl)return Mt(t),!0;if(V&&t.nodeType===Ql&&ml(/<[/\w]/g,t.data))return Mt(t),!0;if(!$[i]||q[i]){if(!q[i]&&jt(i)){if(j.tagNameCheck instanceof RegExp&&ml(j.tagNameCheck,i))return!1;if(j.tagNameCheck instanceof Function&&j.tagNameCheck(i))return!1}if(ot&&!lt[i]){const e=_(t)||t.parentNode,n=m(t)||t.childNodes;if(n&&e){for(let i=n.length-1;i>=0;--i){const r=v(n[i],!0);r.__removalCount=(t.__removalCount||0)+1,e.insertBefore(r,y(t))}}}return Mt(t),!0}return t instanceof u&&!function(t){let e=_(t);e&&e.tagName||(e={namespaceURI:xt,tagName:"template"});const n=fl(t.tagName),i=fl(e.tagName);return!!mt[t.namespaceURI]&&(t.namespaceURI===pt?e.namespaceURI===vt?"svg"===n:e.namespaceURI===dt?"svg"===n&&("annotation-xml"===i||bt[i]):Boolean(zt[n]):t.namespaceURI===dt?e.namespaceURI===vt?"math"===n:e.namespaceURI===pt?"math"===n&&wt[i]:Boolean(Rt[n]):t.namespaceURI===vt?!(e.namespaceURI===pt&&!wt[i])&&!(e.namespaceURI===dt&&!bt[i])&&!Rt[n]&&(kt[n]||!zt[n]):!("application/xhtml+xml"!==St||!mt[t.namespaceURI]))}(t)?(Mt(t),!0):"noscript"!==i&&"noembed"!==i&&"noframes"!==i||!ml(/<\/no(script|embed|frames)/i,t.innerHTML)?(Z&&t.nodeType===Vl&&(e=t.textContent,sl([E,F,z],(t=>{e=pl(e,t," ")})),t.textContent!==e&&(hl(n.removed,{element:t.cloneNode()}),t.textContent=e)),It(C.afterSanitizeElements,t,null),!1):(Mt(t),!0)},Wt=function(t,e,n){if(it&&("id"===e||"name"===e)&&(n in i||n in Ct))return!1;if(Y&&!H[e]&&ml(R,e));else if(U&&ml(M,e));else if(!D[e]||H[e]){if(!(jt(t)&&(j.tagNameCheck instanceof RegExp&&ml(j.tagNameCheck,t)||j.tagNameCheck instanceof Function&&j.tagNameCheck(t))&&(j.attributeNameCheck instanceof RegExp&&ml(j.attributeNameCheck,e)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(e))||"is"===e&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&ml(j.tagNameCheck,n)||j.tagNameCheck instanceof Function&&j.tagNameCheck(n))))return!1}else if(ft[e]);else if(ml(P,pl(n,L,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==vl(n,"data:")||!ht[t]){if(X&&!ml(B,pl(n,L,"")));else if(n)return!1}else;return!0},jt=function(t){return"annotation-xml"!==t&&dl(t,O)},qt=function(t){It(C.beforeSanitizeAttributes,t,null);const{attributes:e}=t;if(!e||Pt(t))return;const i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:D,forceKeepAttr:void 0};let r=e.length;for(;r--;){const o=e[r],{name:a,namespaceURI:s,value:l}=o,u=Nt(a);let h="value"===a?l:xl(l);if(i.attrName=u,i.attrValue=h,i.keepAttr=!0,i.forceKeepAttr=void 0,It(C.uponSanitizeAttribute,t,i),h=i.attrValue,!rt||"id"!==u&&"name"!==u||(Bt(a,t),h="user-content-"+h),V&&ml(/((--!?|])>)|<\/(style|title)/i,h)){Bt(a,t);continue}if(i.forceKeepAttr)continue;if(Bt(a,t),!i.keepAttr)continue;if(!G&&ml(/\/>/i,h)){Bt(a,t);continue}Z&&sl([E,F,z],(t=>{h=pl(h,t," ")}));const c=Nt(t.nodeName);if(Wt(c,u,h)){if(b&&"object"==typeof d&&"function"==typeof d.getAttributeType)if(s);else switch(d.getAttributeType(c,u)){case"TrustedHTML":h=b.createHTML(h);break;case"TrustedScriptURL":h=b.createScriptURL(h)}try{s?t.setAttributeNS(s,a,h):t.setAttribute(a,h),Pt(t)?Mt(t):ul(n.removed)}catch(t){}}}It(C.afterSanitizeAttributes,t,null)},Ht=function t(e){let n=null;const i=Ot(e);for(It(C.beforeSanitizeShadowDOM,e,null);n=i.nextNode();)It(C.uponSanitizeShadowNode,n,null),Dt(n),qt(n),n.content instanceof a&&t(n.content);It(C.afterSanitizeShadowDOM,e,null)};return n.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null,o=null,s=null,u=null;if(yt=!t,yt&&(t="\x3c!--\x3e"),"string"!=typeof t&&!$t(t)){if("function"!=typeof t.toString)throw _l("toString is not a function");if("string"!=typeof(t=t.toString()))throw _l("dirty is not a string, aborting")}if(!n.isSupported)return t;if(Q||Ft(e),n.removed=[],"string"==typeof t&&(at=!1),at){if(t.nodeName){const e=Nt(t.nodeName);if(!$[e]||q[e])throw _l("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof l)i=Lt("\x3c!----\x3e"),o=i.ownerDocument.importNode(t,!0),o.nodeType===Zl&&"BODY"===o.nodeName||"HTML"===o.nodeName?i=o:i.appendChild(o);else{if(!tt&&!Z&&!K&&-1===t.indexOf("<"))return b&&nt?b.createHTML(t):t;if(i=Lt(t),!i)return tt?null:nt?w:""}i&&J&&Mt(i.firstChild);const h=Ot(at?t:i);for(;s=h.nextNode();)Dt(s),qt(s),s.content instanceof a&&Ht(s.content);if(at)return t;if(tt){if(et)for(u=A.call(i.ownerDocument);i.firstChild;)u.appendChild(i.firstChild);else u=i;return(D.shadowroot||D.shadowrootmode)&&(u=T.call(r,u,!0)),u}let c=K?i.outerHTML:i.innerHTML;return K&&$["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&ml(Yl,i.ownerDocument.doctype.name)&&(c="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+c),Z&&sl([E,F,z],(t=>{c=pl(c,t," ")})),b&&nt?b.createHTML(c):c},n.setConfig=function(){Ft(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},n.clearConfig=function(){Tt=null,Q=!1},n.isValidAttribute=function(t,e,n){Tt||Ft({});const i=Nt(t),r=Nt(e);return Wt(i,r,n)},n.addHook=function(t,e){"function"==typeof e&&hl(C[t],e)},n.removeHook=function(t,e){if(void 0!==e){const n=ll(C[t],e);return-1===n?void 0:cl(C[t],n,1)[0]}return ul(C[t])},n.removeHooks=function(t){C[t]=[]},n.removeAllHooks=function(){C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();function nu(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let iu={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function ru(t){iu=t}const ou={exec:()=>null};function au(t,e=""){let n="string"==typeof t?t:t.source;const i={replace:(t,e)=>{let r="string"==typeof e?e:e.source;return r=r.replace(su.caret,"$1"),n=n.replace(t,r),i},getRegex:()=>new RegExp(n,e)};return i}const su={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},lu=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,uu=/(?:[*+-]|\d{1,9}[.)])/,hu=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,cu=au(hu).replace(/bull/g,uu).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),fu=au(hu).replace(/bull/g,uu).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),gu=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,du=/(?!\s*\])(?:\\.|[^\[\]\\])+/,pu=au(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",du).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),vu=au(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,uu).getRegex(),xu="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",yu=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,mu=au("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",yu).replace("tag",xu).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),_u=au(gu).replace("hr",lu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xu).getRegex(),bu={blockquote:au(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",_u).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:pu,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:lu,html:mu,lheading:cu,list:vu,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:_u,table:ou,text:/^[^\n]+/},wu=au("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",lu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xu).getRegex(),ku={...bu,lheading:fu,table:wu,paragraph:au(gu).replace("hr",lu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",wu).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xu).getRegex()},Su={...bu,html:au("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",yu).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ou,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:au(gu).replace("hr",lu).replace("heading"," *#{1,6} *[^\n]").replace("lheading",cu).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Au=/^( {2,}|\\)\n(?!\s*$)/,Nu=/[\p{P}\p{S}]/u,Tu=/[\s\p{P}\p{S}]/u,Cu=/[^\s\p{P}\p{S}]/u,Eu=au(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Tu).getRegex(),Fu=/(?!~)[\p{P}\p{S}]/u,zu=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Ru=au(zu,"u").replace(/punct/g,Nu).getRegex(),Mu=au(zu,"u").replace(/punct/g,Fu).getRegex(),Bu="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Lu=au(Bu,"gu").replace(/notPunctSpace/g,Cu).replace(/punctSpace/g,Tu).replace(/punct/g,Nu).getRegex(),Ou=au(Bu,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,Fu).getRegex(),Pu=au("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Cu).replace(/punctSpace/g,Tu).replace(/punct/g,Nu).getRegex(),$u=au(/\\(punct)/,"gu").replace(/punct/g,Nu).getRegex(),Iu=au(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Du=au(yu).replace("(?:--\x3e|$)","--\x3e").getRegex(),Wu=au("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Du).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ju=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,qu=au(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",ju).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Hu=au(/^!?\[(label)\]\[(ref)\]/).replace("label",ju).replace("ref",du).getRegex(),Uu=au(/^!?\[(ref)\](?:\[\])?/).replace("ref",du).getRegex(),Yu={_backpedal:ou,anyPunctuation:$u,autolink:Iu,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:Au,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:ou,emStrongLDelim:Ru,emStrongRDelimAst:Lu,emStrongRDelimUnd:Pu,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:qu,nolink:Uu,punctuation:Eu,reflink:Hu,reflinkSearch:au("reflink|nolink(?!\\()","g").replace("reflink",Hu).replace("nolink",Uu).getRegex(),tag:Wu,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:ou},Xu={...Yu,link:au(/^!?\[(label)\]\((.*?)\)/).replace("label",ju).getRegex(),reflink:au(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ju).getRegex()},Gu={...Yu,emStrongRDelimAst:Ou,emStrongLDelim:Mu,url:au(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Zu={...Gu,br:au(Au).replace("{2,}","*").getRegex(),text:au(Gu.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Vu={normal:bu,gfm:ku,pedantic:Su},Ku={normal:Yu,gfm:Gu,breaks:Zu,pedantic:Xu},Qu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ju=t=>Qu[t];function th(t,e){if(e){if(su.escapeTest.test(t))return t.replace(su.escapeReplace,Ju)}else if(su.escapeTestNoEncode.test(t))return t.replace(su.escapeReplaceNoEncode,Ju);return t}function eh(t){try{t=encodeURI(t).replace(su.percentDecode,"%")}catch{return null}return t}function nh(t,e){const n=t.replace(su.findPipe,((t,e,n)=>{let i=!1,r=e;for(;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"})).split(su.splitPipe);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(su.slashPipe,"|");return n}function ih(t,e,n){const i=t.length;if(0===i)return"";let r=0;for(;r<i;){if(t.charAt(i-r-1)!==e)break;r++}return t.slice(0,i-r)}function rh(t,e,n,i,r){const o=e.href,a=e.title||null,s=t[1].replace(r.other.outputLinkReplace,"$1");if("!"!==t[0].charAt(0)){i.state.inLink=!0;const t={type:"link",raw:n,href:o,title:a,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,t}return{type:"image",raw:n,href:o,title:a,text:s}}class oh{options;rules;lexer;constructor(t){this.options=t||iu}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:ih(t,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const t=e[0],n=function(t,e,n){const i=t.match(n.other.indentCodeCompensation);if(null===i)return e;const r=i[1];return e.split("\n").map((t=>{const e=t.match(n.other.beginningSpace);if(null===e)return t;const[i]=e;return i.length>=r.length?t.slice(r.length):t})).join("\n")}(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){const e=ih(t,"#");this.options.pedantic?t=e.trim():e&&!this.rules.other.endingSpaceChar.test(e)||(t=e.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:ih(e[0],"\n")}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let t=ih(e[0],"\n").split("\n"),n="",i="";const r=[];for(;t.length>0;){let e=!1;const o=[];let a;for(a=0;a<t.length;a++)if(this.rules.other.blockquoteStart.test(t[a]))o.push(t[a]),e=!0;else{if(e)break;o.push(t[a])}t=t.slice(a);const s=o.join("\n"),l=s.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${s}`:s,i=i?`${i}\n${l}`:l;const u=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,r,!0),this.lexer.state.top=u,0===t.length)break;const h=r.at(-1);if("code"===h?.type)break;if("blockquote"===h?.type){const e=h,o=e.raw+"\n"+t.join("\n"),a=this.blockquote(o);r[r.length-1]=a,n=n.substring(0,n.length-e.raw.length)+a.raw,i=i.substring(0,i.length-e.text.length)+a.text;break}if("list"!==h?.type);else{const e=h,o=e.raw+"\n"+t.join("\n"),a=this.list(o);r[r.length-1]=a,n=n.substring(0,n.length-h.raw.length)+a.raw,i=i.substring(0,i.length-e.raw.length)+a.raw,t=o.substring(r.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:r,text:i}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim();const i=n.length>1,r={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const o=this.rules.other.listItemRegex(n);let a=!1;for(;t;){let n=!1,i="",s="";if(!(e=o.exec(t)))break;if(this.rules.block.hr.test(t))break;i=e[0],t=t.substring(i.length);let l=e[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,(t=>" ".repeat(3*t.length))),u=t.split("\n",1)[0],h=!l.trim(),c=0;if(this.options.pedantic?(c=2,s=l.trimStart()):h?c=e[1].length+1:(c=e[2].search(this.rules.other.nonSpaceChar),c=c>4?1:c,s=l.slice(c),c+=e[1].length),h&&this.rules.other.blankLine.test(u)&&(i+=u+"\n",t=t.substring(u.length+1),n=!0),!n){const e=this.rules.other.nextBulletRegex(c),n=this.rules.other.hrRegex(c),r=this.rules.other.fencesBeginRegex(c),o=this.rules.other.headingBeginRegex(c),a=this.rules.other.htmlBeginRegex(c);for(;t;){const f=t.split("\n",1)[0];let g;if(u=f,this.options.pedantic?(u=u.replace(this.rules.other.listReplaceNesting,"  "),g=u):g=u.replace(this.rules.other.tabCharGlobal,"    "),r.test(u))break;if(o.test(u))break;if(a.test(u))break;if(e.test(u))break;if(n.test(u))break;if(g.search(this.rules.other.nonSpaceChar)>=c||!u.trim())s+="\n"+g.slice(c);else{if(h)break;if(l.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4)break;if(r.test(l))break;if(o.test(l))break;if(n.test(l))break;s+="\n"+u}h||u.trim()||(h=!0),i+=f+"\n",t=t.substring(f.length+1),l=g.slice(c)}}r.loose||(a?r.loose=!0:this.rules.other.doubleBlankLine.test(i)&&(a=!0));let f,g=null;this.options.gfm&&(g=this.rules.other.listIsTask.exec(s),g&&(f="[ ] "!==g[0],s=s.replace(this.rules.other.listReplaceTask,""))),r.items.push({type:"list_item",raw:i,task:!!g,checked:f,loose:!1,text:s,tokens:[]}),r.raw+=i}const s=r.items.at(-1);if(!s)return;s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd(),r.raw=r.raw.trimEnd();for(let t=0;t<r.items.length;t++)if(this.lexer.state.top=!1,r.items[t].tokens=this.lexer.blockTokens(r.items[t].text,[]),!r.loose){const e=r.items[t].tokens.filter((t=>"space"===t.type)),n=e.length>0&&e.some((t=>this.rules.other.anyLine.test(t.raw)));r.loose=n}if(r.loose)for(let t=0;t<r.items.length;t++)r.items[t].loose=!0;return r}}html(t){const e=this.rules.block.html.exec(t);if(e){return{type:"html",block:!0,raw:e[0],pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]}}}def(t){const e=this.rules.block.def.exec(t);if(e){const t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:n,title:i}}}table(t){const e=this.rules.block.table.exec(t);if(!e)return;if(!this.rules.other.tableDelimiter.test(e[2]))return;const n=nh(e[1]),i=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],o={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const t of i)this.rules.other.tableAlignRight.test(t)?o.align.push("right"):this.rules.other.tableAlignCenter.test(t)?o.align.push("center"):this.rules.other.tableAlignLeft.test(t)?o.align.push("left"):o.align.push(null);for(let t=0;t<n.length;t++)o.header.push({text:n[t],tokens:this.lexer.inline(n[t]),header:!0,align:o.align[t]});for(const t of r)o.rows.push(nh(t,o.header.length).map(((t,e)=>({text:t,tokens:this.lexer.inline(t),header:!1,align:o.align[e]}))));return o}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const t="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;const e=ih(t.slice(0,-1),"\\");if((t.length-e.length)%2==0)return}else{const t=function(t,e){if(-1===t.indexOf(e[1]))return-1;let n=0;for(let i=0;i<t.length;i++)if("\\"===t[i])i++;else if(t[i]===e[0])n++;else if(t[i]===e[1]&&(n--,n<0))return i;return-1}(e[2],"()");if(t>-1){const n=(0===e[0].indexOf("!")?5:4)+e[1].length+t;e[2]=e[2].substring(0,t),e[0]=e[0].substring(0,n).trim(),e[3]=""}}let n=e[2],i="";if(this.options.pedantic){const t=this.rules.other.pedanticHrefTitle.exec(n);t&&(n=t[1],i=t[3])}else i=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?n.slice(1):n.slice(1,-1)),rh(e,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:i?i.replace(this.rules.inline.anyPunctuation,"$1"):i},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const t=e[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!t){const t=n[0].charAt(0);return{type:"text",raw:t,text:t}}return rh(n,t,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!i)return;if(i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const n=[...i[0]].length-1;let r,o,a=n,s=0;const l="*"===i[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,e=e.slice(-1*t.length+n);null!=(i=l.exec(e));){if(r=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!r)continue;if(o=[...r].length,i[3]||i[4]){a+=o;continue}if((i[5]||i[6])&&n%3&&!((n+o)%3)){s+=o;continue}if(a-=o,a>0)continue;o=Math.min(o,o+a+s);const e=[...i[0]][0].length,l=t.slice(0,n+i.index+e+o);if(Math.min(n,o)%2){const t=l.slice(1,-1);return{type:"em",raw:l,text:t,tokens:this.lexer.inlineTokens(t)}}const u=l.slice(2,-2);return{type:"strong",raw:l,text:u,tokens:this.lexer.inlineTokens(u)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(t),i=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return n&&i&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let t,n;return"@"===e[2]?(t=e[1],n="mailto:"+t):(t=e[1],n=t),{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let t,n;if("@"===e[2])t=e[0],n="mailto:"+t;else{let i;do{i=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??""}while(i!==e[0]);t=e[0],n="www."===e[1]?"http://"+e[0]:e[0]}return{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}}class ah{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||iu,this.options.tokenizer=this.options.tokenizer||new oh,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={other:su,block:Vu.normal,inline:Ku.normal};this.options.pedantic?(e.block=Vu.pedantic,e.inline=Ku.pedantic):this.options.gfm&&(e.block=Vu.gfm,this.options.breaks?e.inline=Ku.breaks:e.inline=Ku.gfm),this.tokenizer.rules=e}static get rules(){return{block:Vu,inline:Ku}}static lex(t,e){return new ah(e).lex(t)}static lexInline(t,e){return new ah(e).inlineTokens(t)}lex(t){t=t.replace(su.carriageReturn,"\n"),this.blockTokens(t,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const e=this.inlineQueue[t];this.inlineTokens(e.src,e.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,e=[],n=!1){for(this.options.pedantic&&(t=t.replace(su.tabCharGlobal,"    ").replace(su.spaceLine,""));t;){let i;if(this.options.extensions?.block?.some((n=>!!(i=n.call({lexer:this},t,e))&&(t=t.substring(i.raw.length),e.push(i),!0))))continue;if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length);const n=e.at(-1);1===i.raw.length&&void 0!==n?n.raw+="\n":e.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length);const n=e.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.at(-1).src=n.text):e.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length);const n=e.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),e.push(i);continue}let r=t;if(this.options.extensions?.startBlock){let e=1/0;const n=t.slice(1);let i;this.options.extensions.startBlock.forEach((t=>{i=t.call({lexer:this},n),"number"==typeof i&&i>=0&&(e=Math.min(e,i))})),e<1/0&&e>=0&&(r=t.substring(0,e+1))}if(this.state.top&&(i=this.tokenizer.paragraph(r))){const o=e.at(-1);n&&"paragraph"===o?.type?(o.raw+="\n"+i.raw,o.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):e.push(i),n=r.length!==t.length,t=t.substring(i.raw.length)}else if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length);const n=e.at(-1);"text"===n?.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):e.push(i)}else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let n=t,i=null;if(this.tokens.links){const t=Object.keys(this.tokens.links);if(t.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(n));)t.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(n));)n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.anyPunctuation.exec(n));)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let r=!1,o="";for(;t;){let i;if(r||(o=""),r=!1,this.options.extensions?.inline?.some((n=>!!(i=n.call({lexer:this},t,e))&&(t=t.substring(i.raw.length),e.push(i),!0))))continue;if(i=this.tokenizer.escape(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.tag(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.link(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(i.raw.length);const n=e.at(-1);"text"===i.type&&"text"===n?.type?(n.raw+=i.raw,n.text+=i.text):e.push(i);continue}if(i=this.tokenizer.emStrong(t,n,o)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.codespan(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.br(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.del(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.autolink(t)){t=t.substring(i.raw.length),e.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(t))){t=t.substring(i.raw.length),e.push(i);continue}let a=t;if(this.options.extensions?.startInline){let e=1/0;const n=t.slice(1);let i;this.options.extensions.startInline.forEach((t=>{i=t.call({lexer:this},n),"number"==typeof i&&i>=0&&(e=Math.min(e,i))})),e<1/0&&e>=0&&(a=t.substring(0,e+1))}if(i=this.tokenizer.inlineText(a)){t=t.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(o=i.raw.slice(-1)),r=!0;const n=e.at(-1);"text"===n?.type?(n.raw+=i.raw,n.text+=i.text):e.push(i)}else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return e}}class sh{options;parser;constructor(t){this.options=t||iu}space(t){return""}code({text:t,lang:e,escaped:n}){const i=(e||"").match(su.notSpaceStart)?.[0],r=t.replace(su.endingNewline,"")+"\n";return i?'<pre><code class="language-'+th(i)+'">'+(n?r:th(r,!0))+"</code></pre>\n":"<pre><code>"+(n?r:th(r,!0))+"</code></pre>\n"}blockquote({tokens:t}){return`<blockquote>\n${this.parser.parse(t)}</blockquote>\n`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>\n`}hr(t){return"<hr>\n"}list(t){const e=t.ordered,n=t.start;let i="";for(let e=0;e<t.items.length;e++){const n=t.items[e];i+=this.listitem(n)}const r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+i+"</"+r+">\n"}listitem(t){let e="";if(t.task){const n=this.checkbox({checked:!!t.checked});t.loose?"paragraph"===t.tokens[0]?.type?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&"text"===t.tokens[0].tokens[0].type&&(t.tokens[0].tokens[0].text=n+" "+th(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):e+=n+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>\n`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>\n`}table(t){let e="",n="";for(let e=0;e<t.header.length;e++)n+=this.tablecell(t.header[e]);e+=this.tablerow({text:n});let i="";for(let e=0;e<t.rows.length;e++){const r=t.rows[e];n="";for(let t=0;t<r.length;t++)n+=this.tablecell(r[t]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+i+"</table>\n"}tablerow({text:t}){return`<tr>\n${t}</tr>\n`}tablecell(t){const e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${th(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){const i=this.parser.parseInline(n),r=eh(t);if(null===r)return i;let o='<a href="'+(t=r)+'"';return e&&(o+=' title="'+th(e)+'"'),o+=">"+i+"</a>",o}image({href:t,title:e,text:n}){const i=eh(t);if(null===i)return th(n);let r=`<img src="${t=i}" alt="${n}"`;return e&&(r+=` title="${th(e)}"`),r+=">",r}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:th(t.text)}}class lh{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class uh{options;renderer;textRenderer;constructor(t){this.options=t||iu,this.options.renderer=this.options.renderer||new sh,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new lh}static parse(t,e){return new uh(e).parse(t)}static parseInline(t,e){return new uh(e).parseInline(t)}parse(t,e=!0){let n="";for(let i=0;i<t.length;i++){const r=t[i];if(this.options.extensions?.renderers?.[r.type]){const t=r,e=this.options.extensions.renderers[t.type].call({parser:this},t);if(!1!==e||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(t.type)){n+=e||"";continue}}const o=r;switch(o.type){case"space":n+=this.renderer.space(o);continue;case"hr":n+=this.renderer.hr(o);continue;case"heading":n+=this.renderer.heading(o);continue;case"code":n+=this.renderer.code(o);continue;case"table":n+=this.renderer.table(o);continue;case"blockquote":n+=this.renderer.blockquote(o);continue;case"list":n+=this.renderer.list(o);continue;case"html":n+=this.renderer.html(o);continue;case"paragraph":n+=this.renderer.paragraph(o);continue;case"text":{let r=o,a=this.renderer.text(r);for(;i+1<t.length&&"text"===t[i+1].type;)r=t[++i],a+="\n"+this.renderer.text(r);n+=e?this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a,escaped:!0}]}):a;continue}default:{const t='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(t),"";throw new Error(t)}}}return n}parseInline(t,e=this.renderer){let n="";for(let i=0;i<t.length;i++){const r=t[i];if(this.options.extensions?.renderers?.[r.type]){const t=this.options.extensions.renderers[r.type].call({parser:this},r);if(!1!==t||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)){n+=t||"";continue}}const o=r;switch(o.type){case"escape":case"text":n+=e.text(o);break;case"html":n+=e.html(o);break;case"link":n+=e.link(o);break;case"image":n+=e.image(o);break;case"strong":n+=e.strong(o);break;case"em":n+=e.em(o);break;case"codespan":n+=e.codespan(o);break;case"br":n+=e.br(o);break;case"del":n+=e.del(o);break;default:{const t='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(t),"";throw new Error(t)}}}return n}}class hh{options;block;constructor(t){this.options=t||iu}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?ah.lex:ah.lexInline}provideParser(){return this.block?uh.parse:uh.parseInline}}const ch=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=uh;Renderer=sh;TextRenderer=lh;Lexer=ah;Tokenizer=oh;Hooks=hh;constructor(...t){this.use(...t)}walkTokens(t,e){let n=[];for(const i of t)switch(n=n.concat(e.call(this,i)),i.type){case"table":{const t=i;for(const i of t.header)n=n.concat(this.walkTokens(i.tokens,e));for(const i of t.rows)for(const t of i)n=n.concat(this.walkTokens(t.tokens,e));break}case"list":{const t=i;n=n.concat(this.walkTokens(t.items,e));break}default:{const t=i;this.defaults.extensions?.childTokens?.[t.type]?this.defaults.extensions.childTokens[t.type].forEach((i=>{const r=t[i].flat(1/0);n=n.concat(this.walkTokens(r,e))})):t.tokens&&(n=n.concat(this.walkTokens(t.tokens,e)))}}return n}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach((t=>{const n={...t};if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach((t=>{if(!t.name)throw new Error("extension name required");if("renderer"in t){const n=e.renderers[t.name];e.renderers[t.name]=n?function(...e){let i=t.renderer.apply(this,e);return!1===i&&(i=n.apply(this,e)),i}:t.renderer}if("tokenizer"in t){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");const n=e[t.level];n?n.unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&("block"===t.level?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:"inline"===t.level&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}"childTokens"in t&&t.childTokens&&(e.childTokens[t.name]=t.childTokens)})),n.extensions=e),t.renderer){const e=this.defaults.renderer||new sh(this.defaults);for(const n in t.renderer){if(!(n in e))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const i=n,r=t.renderer[i],o=e[i];e[i]=(...t)=>{let n=r.apply(e,t);return!1===n&&(n=o.apply(e,t)),n||""}}n.renderer=e}if(t.tokenizer){const e=this.defaults.tokenizer||new oh(this.defaults);for(const n in t.tokenizer){if(!(n in e))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const i=n,r=t.tokenizer[i],o=e[i];e[i]=(...t)=>{let n=r.apply(e,t);return!1===n&&(n=o.apply(e,t)),n}}n.tokenizer=e}if(t.hooks){const e=this.defaults.hooks||new hh;for(const n in t.hooks){if(!(n in e))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;const i=n,r=t.hooks[i],o=e[i];hh.passThroughHooks.has(n)?e[i]=t=>{if(this.defaults.async)return Promise.resolve(r.call(e,t)).then((t=>o.call(e,t)));const n=r.call(e,t);return o.call(e,n)}:e[i]=(...t)=>{let n=r.apply(e,t);return!1===n&&(n=o.apply(e,t)),n}}n.hooks=e}if(t.walkTokens){const e=this.defaults.walkTokens,i=t.walkTokens;n.walkTokens=function(t){let n=[];return n.push(i.call(this,t)),e&&(n=n.concat(e.call(this,t))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return ah.lex(t,e??this.defaults)}parser(t,e){return uh.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{const i={...n},r={...this.defaults,...i},o=this.onError(!!r.silent,!!r.async);if(!0===this.defaults.async&&!1===i.async)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==e)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof e)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));r.hooks&&(r.hooks.options=r,r.hooks.block=t);const a=r.hooks?r.hooks.provideLexer():t?ah.lex:ah.lexInline,s=r.hooks?r.hooks.provideParser():t?uh.parse:uh.parseInline;if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(e):e).then((t=>a(t,r))).then((t=>r.hooks?r.hooks.processAllTokens(t):t)).then((t=>r.walkTokens?Promise.all(this.walkTokens(t,r.walkTokens)).then((()=>t)):t)).then((t=>s(t,r))).then((t=>r.hooks?r.hooks.postprocess(t):t)).catch(o);try{r.hooks&&(e=r.hooks.preprocess(e));let t=a(e,r);r.hooks&&(t=r.hooks.processAllTokens(t)),r.walkTokens&&this.walkTokens(t,r.walkTokens);let n=s(t,r);return r.hooks&&(n=r.hooks.postprocess(n)),n}catch(t){return o(t)}}}onError(t,e){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",t){const t="<p>An error occurred:</p><pre>"+th(n.message+"",!0)+"</pre>";return e?Promise.resolve(t):t}if(e)return Promise.reject(n);throw n}}};function fh(t,e){return ch.parse(t,e)}fh.options=fh.setOptions=function(t){return ch.setOptions(t),fh.defaults=ch.defaults,ru(fh.defaults),fh},fh.getDefaults=nu,fh.defaults=iu,fh.use=function(...t){return ch.use(...t),fh.defaults=ch.defaults,ru(fh.defaults),fh},fh.walkTokens=function(t,e){return ch.walkTokens(t,e)},fh.parseInline=ch.parseInline,fh.Parser=uh,fh.parser=uh.parse,fh.Renderer=sh,fh.TextRenderer=lh,fh.Lexer=ah,fh.lexer=ah.lex,fh.Tokenizer=oh,fh.Hooks=hh,fh.parse=fh,fh.options,fh.setOptions,fh.use,fh.walkTokens,fh.parseInline,uh.parse,ah.lex;const gh=t=>{var e=dh();ot((()=>Ie(e,Be(js)))),we(t,e)};var dh=_e("<div></div>"),ph=_e("<span> </span>"),vh=_e("<span><!></span>"),xh=_e("<!> <!>",1),yh=(t,e,n)=>e(ee(n).id),mh=_e("<button> </button>"),_h=_e("<!> <!>",1),bh=_e("<button><!></button> <!> <!> <!>",1);function wh(t,e){z(e,!0);const[n,i]=Ke(),r=()=>Ve(Ls,"$nodesStore",n),o=()=>Ve(Ps,"$graphStore",n);let a=Q((()=>r().find((t=>t.id===Ve($s,"$selectedNodeIdStore",n))))),s=Q((()=>ee(a)?.neighbors?.reduce?.(((t,e)=>{const n=r().find((t=>t.id===e));return n&&null!=n.name&&t.push({id:n.id,name:n.name}),t}),[])??[]));function l(){const t=Xe(Ls).find((t=>t.id===Xe($s)));if(t&&null!=t.data?.parentId){const e=Xe(Ls).find((e=>e.id===t.data?.parentId));if(e)return $s.set(e.id),o()?.clearCache?.(["linkOptionsCache","nodeOptionsCache"]),void o()?.tick?.()}$s.set(void 0),o()?.clearCache?.(["linkOptionsCache","nodeOptionsCache"]),o()?.tick?.()}function u(t){$s.set(t),o()?.clearCache?.(["linkOptionsCache","nodeOptionsCache"]),o()?.tick?.()}it((()=>{function t(t){if("Escape"===t.key){const t=Xe(Ls).find((t=>t.id===Xe($s)));if(t&&null!=t.data?.parentId){const e=Xe(Ls).find((e=>e.id===t.data?.parentId));if(e)return $s.set(e.id),o()?.clearCache?.(["linkOptionsCache","nodeOptionsCache"]),void o()?.tick?.()}$s.set(void 0),o()?.clearCache?.(["linkOptionsCache","nodeOptionsCache"]),o()?.tick?.()}}return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}));const h=Q((()=>[Is,ee(a)&&Ds]));As(t,{get class(){return ee(h)},vertical:!0,children:(t,e)=>{var n=be(),i=V(n),r=t=>{var e=bh(),n=V(e);n.__click=l,Vs(Z(n),{size:20});var i=K(n,2);const r=Q((()=>[Ys]));As(i,{get class(){return ee(r)},children:(t,e)=>{var n=ph(),i=Z(n);ot((()=>{Ie(n,Be(Us)),ke(i,ee(a)?.data?.title??ee(a)?.name)})),we(t,n)},$$slots:{default:!0}});var o=K(i,2),h=t=>{var e=xh(),n=V(e);gh(n);var i=K(n,2);const r=Q((()=>[Xs]));As(i,{get class(){return ee(r)},children:(t,e)=>{var n=vh();!function(t,e){var n,i=t,r="";at((()=>{r!==(r=e()??"")&&(void 0!==n&&(ht(n),n=void 0),""!==r&&(n=st((()=>{var t=ye(r+"");me(X(t),t.lastChild),i.before(t)}))))}))}(Z(n),(()=>function(t){return eu.sanitize(fh.parse(t,{async:!1}))}(ee(a).data.description))),ot((()=>Ie(n,Be(qs)))),we(t,n)},$$slots:{default:!0}}),we(t,e)};Te(o,(t=>{ee(a)?.data?.description&&t(h)}));var c=K(o,2),f=t=>{var e=_h(),n=V(e);gh(n);var i=K(n,2);const r=Q((()=>[Gs]));As(i,{get class(){return ee(r)},vertical:!0,gap:12,children:(t,e)=>{var n=be();Ce(V(n),17,(()=>ee(s)),(t=>t.id),((t,e)=>{var n=mh();n.__click=[yh,u,e];var i=Z(n);ot((()=>{Ie(n,Be(Hs)),ke(i,ee(e).name)})),we(t,n)})),we(t,n)},$$slots:{default:!0}}),we(t,e)};Te(c,(t=>{ee(s).length>0&&!ee(a).data?.atom&&t(f)})),ot((()=>Ie(n,Be(Ws)))),we(t,e)};Te(i,(t=>{ee(a)&&t(r)})),we(t,n)},$$slots:{default:!0}}),R(),i()}function kh(t){return function(){return{...t,color:"#BBBBBB",arrowColor:"#BBBBBB",particleColor:"#BBBBBB",arrowBorderColor:"#BBBBBB",particleBorderColor:"#BBBBBB",width:.2}}}function Sh(t){return function(e,n){if(!this.context||!e.x||!e.y)return;if(e._visible=!0,e.data?.root)return e._radius=t.heightRoot/2,void function(t){if(!t.context)return;const e=t.centerX-t.width/2,n=t.centerY-t.height/2,i=new Path2D;i.moveTo(e+t.radius,n),i.lineTo(e+t.width-t.radius,n),i.arcTo(e+t.width,n,e+t.width,n+t.radius,t.radius),i.lineTo(e+t.width,n+t.height-t.radius),i.arcTo(e+t.width,n+t.height,e+t.width-t.radius,n+t.height,t.radius),i.lineTo(e+t.radius,n+t.height),i.arcTo(e,n+t.height,e,n+t.height-t.radius,t.radius),i.lineTo(e,n+t.radius),i.arcTo(e,n,e+t.radius,n,t.radius),i.closePath(),t.context.globalAlpha=1,t.context.lineWidth=.1,t.context.fillStyle="#FCFCFE",t.context.fill(i),t.context.strokeStyle="#000000",t.context.stroke(i),t.context.beginPath();const r=["",""];t.context.font=`normal normal 500 ${t.textSize}px Nunito`,t.context.textAlign="center",t.context.textBaseline="middle",t.context.fillStyle="#000000",r.forEach(((e,n)=>{t.context.fillText(e,t.centerX,t.centerY+t.textGap*n-1.5)})),t.context.stroke()}({centerX:e.x,centerY:e.y,width:t.widthRoot,height:t.heightRoot,radius:t.radiusRoot,context:this.context,textGap:t.textGapRoot,textSize:t.textSizeRoot});let i=e.data?.atom?this.highlightSettings.highlightByNodeForNodeFadingMin:n.alpha;const r=n.radius+t.atomAdditionalRadius,o=n.radius,a=t.expandableRadius;let s=e.data?.atom?r:e.data?.expandable?a:o,l=t.expandableTextSize;if(this.highlightedNeighbors&&this.highlightedNode)if(this.highlightedNeighbors.has(e.id)||this.highlightedNode.id==e.id)if(this.highlightSettings.highlightByNodeOnlyRoot&&(!this.highlightSettings.highlightByNodeOnlyRoot||this.highlightedNode.id!==e.id)||e.data?.atom){if(e.data?.atom){i=Xa(i,1-i,this.highlightProgress)}}else this.highlightSettings.highlightByNodeForNodeSizingAdditional&&"circle"===n.shape&&(s=Xa(s,this.highlightSettings.highlightByNodeForNodeSizingAdditional,this.highlightProgress),l=Xa(l,t.expandableTextSizeAdditional,this.highlightProgress));else if(this.highlightSettings.highlightByNodeForNodeFadingMin){const t=this.highlightSettings.highlightByNodeForNodeFadingMin<i?this.highlightSettings.highlightByNodeForNodeFadingMin:i;i=Xa(t,i-t,1-this.highlightProgress)}const u=Xe($s);u&&((u===e.id||e.neighbors?.includes?.(u))&&(i=1),u!==e.id||e.data?.atom||(s=n.radius+this.highlightSettings.highlightByNodeForNodeSizingAdditional),u===e.id&&e.data?.atom&&(s+=this.highlightSettings.highlightByNodeForNodeSizingAdditional));const h="circle"===n.shape?Ta({radiusFlexible:this.nodeSettings.nodeRadiusFlexible,radiusInitial:s,radiusCoefficient:this.nodeSettings.nodeRadiusCoefficient,radiusFactor:this.nodeSettings.nodeRadiusFactor,linkCount:e.linkCount}):s;e._radius=h,e._shape="circle",e._visible=!0,this.context.beginPath(),this.context.globalAlpha=i,this.context.lineWidth=n.borderWidth,this.context.strokeStyle=n.borderColor,this.context.fillStyle=n.color,this.context.arc(e.x,e.y,h,0,2*Math.PI),this.context.fill(),this.context.stroke(),e.data?.expandable&&(this.context.beginPath(),this.context.globalAlpha=i,this.context.font=`${n.textStyle} normal ${n.textWeight} ${l}px ${n.textFont}`,this.context.fillStyle="#ffffff",this.context.textAlign="center",this.context.fillText(e.data.children?`+${e.data.children}`:"+",e.x,e.y))}}function Ah(t){return function(e,n){if(e.data?.root||e.data?.expandable)return;if(e.data?.atom&&this.highlightedNode?.id!==e.id&&e.id!==t.selectedId)return;if(!this.context||!e.x||!e.y)return;let i=e.data?.atom?0:n.textAlpha,r=n.textSize,o=n.textShiftX,a=n.textShiftY,s=n.textWeight;if(this.highlightedNeighbors&&this.highlightedNode)if(this.highlightedNeighbors.has(e.id)||this.highlightedNode.id==e.id)if(this.highlightSettings.highlightByNodeOnlyRoot&&(!this.highlightSettings.highlightByNodeOnlyRoot||this.highlightedNode.id!==e.id)||e.data?.atom){if(e.data?.atom){i=Xa(i,1-i,this.highlightProgress)}}else this.highlightSettings.highlightByNodeForTextSizingAdditional&&(r=Xa(r,this.highlightSettings.highlightByNodeForTextSizingAdditional,this.highlightProgress),o=Xa(o,this.highlightSettings.highlightByNodeForTextShiftXAdditional,this.highlightProgress),a=Xa(a,this.highlightSettings.highlightByNodeForTextShiftYAdditional,this.highlightProgress),s=Xa(s,this.highlightSettings.highlightByNodeForTextWeightAdditional,this.highlightProgress));else if(this.highlightSettings.highlightByNodeForTextFadingMin){const t=this.highlightSettings.highlightByNodeForTextFadingMin<i?this.highlightSettings.highlightByNodeForTextFadingMin:i;i=Xa(t,i-t,1-this.highlightProgress)}if(i>1&&(i=1),i<0&&(i=0),n.textVisible&&n.text){if(!(this.context&&e.x&&e.y&&n.text))return;this.context.beginPath(),this.context.globalAlpha=i,e.data?.atom&&(r+=t.atomAdditionalSize,a+=t.atomAdditionalShiftY),es({id:e.id,cachedNodeText:this.cachedNodeText,context:this.context,text:n.text,textAlign:n.textAlign,textColor:n.textColor,textFont:n.textFont,textSize:r,x:e.x+o,y:e.y+(e._radius??0)+a,maxWidth:n.textWidth,textStyle:n.textStyle,textWeight:s,textGap:n.textGap}),this.context.stroke()}}}ve(["click"]);function Nh(t){const e="object"==typeof t.source&&"id"in t.source?t.source.id:t.source,n="object"==typeof t.target&&"id"in t.target?t.target.id:t.target;return"root"===e||"root"===n?50:e.toString().includes("expand")||n.toString().includes("expand")?25:35}const Th={0:{x:19,y:-42},1:{x:-28,y:-42},2:{x:-53,y:-15},3:{x:21,y:48},4:{x:47,y:-14},5:{x:-31,y:46},6:{x:-54,y:17},7:{x:43,y:22},root:{x:0,y:0},"0-expand":{x:30,y:-61},"1-expand":{x:-42,y:-60},"2-expand":{x:-77,y:-32},"3-expand":{x:54,y:54},"4-expand":{x:64,y:-30},"5-expand":{x:-64,y:48},"6-expand":{x:-79,y:15},"7-expand":{x:69,y:18},"0-0":{x:51,y:-74},"0-1":{x:32,y:-85},"0-2":{x:71,y:-73},"1-0":{x:-31,y:-88},"1-1":{x:-12,y:-90},"1-2":{x:-42,y:-76},"2-0":{x:-108,y:-42},"2-1":{x:-101,y:-72},"2-2":{x:-128,y:-40},"2-3":{x:-80,y:-55},"2-4":{x:-121,y:-57},"2-5":{x:-99,y:-53},"2-6":{x:-126,y:-18},"2-7":{x:-107,y:-26},"2-8":{x:-82,y:-75},"3-0":{x:82,y:93},"3-1":{x:7,y:90},"3-2":{x:52,y:94},"3-3":{x:-7,y:90},"3-4":{x:17,y:88},"3-5":{x:38,y:91},"3-6":{x:64,y:95},"3-7":{x:69,y:60},"3-8":{x:26,y:89},"4-0":{x:88,y:-36},"4-1":{x:108,y:-28},"4-2":{x:89,y:-54},"4-3":{x:65,y:-49},"5-0":{x:-77,y:69},"5-1":{x:-35,y:74},"5-2":{x:-54,y:66},"5-3":{x:-57,y:84},"6-0":{x:-99,y:43},"6-1":{x:-88,y:26},"6-2":{x:-110,y:24},"7-0":{x:120,y:21},"7-1":{x:103,y:42},"7-2":{x:87,y:28},"7-3":{x:85,y:48},"7-4":{x:88,y:9}};function Ch(t){return Th[t.id]?.x??0}function Eh(t){return Th[t.id]?.y??0}var Fh=_e("<!> <!>",1);function zh(t,e){z(e,!0);const[n,i]=Ke(),r=()=>Ve(Ps,"$graphStore",n),o=()=>Ve(Ls,"$nodesStore",n),a=()=>Ve(Os,"$linksStore",n);let s=B(void 0),l=B(void 0),u=B([]),h=B([]),c=B(null),f=B(null);function g(t,e){if(e?.data?.expandable&&e?.data.parentId){if(ee(f)===e.data.parentId)return;return null!=ee(f)&&O(c,D(ee(f))),O(f,D(e.data.parentId)),$s.set(void 0),r()?.clearCache?.(["linkOptionsCache","nodeOptionsCache"]),void r()?.tick?.()}e&&!e.data?.root?(e.data?.atom||ee(f)!==e.id&&(null!=ee(f)&&O(c,D(ee(f))),O(f,D(e.id))),$s.set(e.id),r()?.clearCache?.(["linkOptionsCache","nodeOptionsCache"]),r()?.tick?.()):($s.set(void 0),r()?.clearCache?.(["linkOptionsCache","nodeOptionsCache"]),r()?.tick?.())}it((()=>{const t=new Set;O(u,o().filter((e=>!e.data?.atom||(t.add(e.id),!1)))),O(h,a().filter((e=>{const n="object"==typeof e.source&&"id"in e.source?e.source.id:e.source,i="object"==typeof e.target&&"id"in e.target?e.target.id:e.target;return!t.has(n)&&!t.has(i)})))})),it((()=>{const t=[],e=new Set,n=new Set;for(let i=0;i<o().length;i++){const r=o()[i];(r.data?.atom&&r.data?.parentId===ee(f)||r.data?.expandable&&r.data.parentId===ee(c))&&(t.push(r),e.add(r.id)),(r.data?.atom&&r.data?.parentId===ee(c)||r.data?.expandable&&r.data.parentId===ee(f))&&n.add(r.id)}O(u,[...ne((()=>ee(u))).filter((t=>!n.has(t.id))),...t]),O(h,[...ne((()=>ee(h))).filter((t=>{const e="object"==typeof t.source&&"id"in t.source?t.source.id:t.source,i="object"==typeof t.target&&"id"in t.target?t.target.id:t.target;return!n.has(e)&&!n.has(i)})),...a().filter((t=>{const n="object"==typeof t.source&&"id"in t.source?t.source.id:t.source,i="object"==typeof t.target&&"id"in t.target?t.target.id:t.target;return!(!e.has(n)&&!e.has(i))}))])})),it((()=>{ee(u),ee(h);let t=ne((()=>r()));if(t){const e=.05;t.changeData({links:ee(h),nodes:ee(u)},e)}})),it((()=>{let t=ne((()=>r()));if(ee(s)&&!t){const{width:n,height:i}=ee(s).getBoundingClientRect();t=new ys({links:ne((()=>ee(h))),nodes:ne((()=>ee(u))),root:ee(s),nodeSettings:{options:(e={...Fs,custom:Bs},t=>{const n=Xe($s),i=null!=n&&n===t.id;return{...e,borderColor:i?"#ce7a1c":"transparent",borderWidth:.5,color:e.color??"#21252D",textSize:e.textSize??4,textShiftY:e.textShiftY??3.5,nodeDraw:Sh(e.custom),textDraw:Ah({...e.custom,selectedId:n}),shape:"circle"}})},linkSettings:{...zs,options:kh(Rs)},graphSettings:{...Es,zoomInitial:{k:3,x:n/2,y:i/2}},forceSettings:{...Cs,linkDistance:Nh,xPosition:Ch,yPosition:Eh},highlightSettings:{...Ms},listeners:{onClick:ne((()=>g)),onDoubleClick:()=>{console.log(t?.getData?.())}}}),Ps.set(t)}var e;const n=ee(l)?.parentElement?.parentElement,i=new ResizeObserver((()=>{t?.updateRect?.()})),o=new MutationObserver((()=>{t?.updateRect?.()}));return i.observe(document.body),n&&o.observe(n,{subtree:!1,childList:!1,attributes:!0}),()=>{i.disconnect(),o.disconnect(),t&&(t.destroy(),t=void 0,Ps.set(void 0))}})),As(t,{get class(){return Ns},style:"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAAAMElEQVRIx2O4eZ+BALh5nxg1hFSMglEwCkYB3QC1CjamgfbIKBgFo2AUUB1Qq4QEAPLKFKMgAJG5AAAAAElFTkSuQmCC);",wide:!0,full:!0,get instance(){return ee(l)},set instance(t){O(l,D(t))},children:(t,e)=>{var n=Fh(),i=V(n);As(i,{get class(){return Ts},wide:!0,full:!0,get instance(){return ee(s)},set instance(t){O(s,D(t))}}),wh(K(i,2),{}),we(t,n)},$$slots:{default:!0}}),R(),i()}function Rh(t){return function(t){return"number"==typeof t&&!Number.isNaN(t)}(t)||function(t){return"string"==typeof t}(t)}function Mh(t,e,n){const i=function(t,e){const n={},i=t.find((t=>t.data?.root))?.id,r=e.map((t=>{const e="object"==typeof t.source&&"id"in t.source?t.source.id:t.source,r="object"==typeof t.target&&"id"in t.target?t.target.id:t.target;return e!==i&&r!==i&&Rh(e)&&Rh(r)&&(n[e.toString()]||(n[e.toString()]=[]),n[e.toString()].push(r.toString()),n[r.toString()]||(n[r.toString()]=[]),n[r.toString()].push(e.toString())),t})),o={},a=t.map((t=>{const e=n[t.id.toString()]??[];return t.data?.atom&&t.data.parentId&&(o[t.data.parentId]=(o[t.data.parentId]??0)+1),t.data?.root?(t.drag=!1,t.fx=.1,t.fy=.1):(t.fx=void 0,t.fy=void 0),t.neighbors=e,t}));return a.forEach((t=>{t.data?.expandable&&t.data.parentId&&(t.data.children=o[t.data.parentId])})),{nodes:a,links:r}}(e,n);Ls.set(i.nodes),Os.set(i.links),Se(zh,{target:t})}window.mountGraph=Mh;export{Mh as mountGraph};
